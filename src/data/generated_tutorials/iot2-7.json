{
  "title": "7",
  "slug": "iot2-7",
  "description": "Module from iot2.pdf: 7",
  "tags": [
    "iot2",
    "Elite"
  ],
  "content": "# 7\n\nSensors, Participatory Sensing, \n\nRFIDs and Wireless Sensor \n\nNetworks \n\nLearning Objectives \n\nLO 7.1 Elucidate sensor technology for sensing the real world using analog and digital sensors, and examples for sensing devices for IoT and M2M LO 7.2 Define the concepts of participatory sensing, industrial IoT and automotive IoT LO 7.3 Describe the uses of actuators in devices LO 7.4 Describe the uses of data communication using serial bus protocols LO 7.5 Explain the Radio Frequency Identification (RFID) technology LO 7.6 Explain the Wireless Sensor Network (WSN) technology \n\nRecall from Previous Chapters \n\nFrom Chapters 1 and 5 we have learnt that sensors play an important role in gathering data for IoTs and M2M. One of the components of IoT devices is hardware which consists of a microcontroller, firmware and the sensor(s) and/or actuator(s). The automobile components embed the sensors and circuits consisting of microcontrollers and firmware in a car. The sensing devices network communicates the status of each component and sensed data to the applications at an automobile service centre. An application at the centre plans the service schedule and generates alerts for the urgent actions required and the need for specific actions. \n\n232 Internet of Things: Architecture and Design Principles \n\nActuators are devices used for actions, such as switching ON a set of streetlights or delivering a chocolate in an automatic chocolate vending machine and then communicating information on the Internet for a service provider application. \n\nRFIDs and their sensors play an active role in Internet of RFIDs. RFIDs are used for identifying objects using RF. Two examples of application of Internet of RFIDs are tracking parcels, goods and delivery, and supply chain management. \n\nWSN can be defined as \u2018a wireless network consisting of spatially distributed autonomous devices using sensors to cooperatively monitor physical or environmental conditions, such as temperature, sound, vibration, pressure, motion or pollutants, at different locations.\u2019 \n\n7.1 INTRODUCTION \n\nIoT and M2M applications need a large magnitude of data which is generated from a large number of devices, ATMs, sensors at parking slots, health devices in ICUs, machines in industrial plants, embedded components in automobiles, RFIDs, or wireless sensor networks. \n\nData is generated using sensors, embedded devices and systems at the physical layer in the IoT architecture. Thereafter, the data communicates through the data-link, data- adaptation, network, application-support and application layers to the applications of IoT. \n\nData is used for analytics, visualisation, intelligence and knowledge discovery or controls and monitoring. Control systems use the sensors for monitoring and the actuators for actions. \n\nPrototyping and designing of IoT need embedded device platforms, which provide connectivity to the Internet and can communicate with applications using the Internet. The applications in IoT monitor and control devices, systems and machines using the actuators. \n\nThis chapter describes technological aspects of sensing, concepts of participatory sensing in M2M devices, industrial IoT and automotive IoT. It also introduces the role of actuators and describes details of use of RFIDs and WSNs. \n\nSection 7.2 describes sensor technology and analog and digital sensors which are used in IoT and M2M. Section 7.3 describes participatory sensing concept, industrial IoT and automotive IoT. Section 7.4 describes use of actuators. Section 7.5 describes use of data communication protocols (UART, I2C, LIN, CAN, USB and MOST) by IoT and M2M devices. Sections 7.6 and 7.7 describe technological aspects of RFIDs and WSNs. \n\nIoT and M2M data is generated using sensors, embedded devices and systems \n\n\n![Image](/src/assets/generated_images/iot2_p259_i0.png)\n\nSensors, Participatory Sensing, RFIDs and Wireless Sensor Networks 233 \n\n7.2 SENSOR TECHNOLOGY \n\nSensor technology is a technology used for designing sensors and associated electronic readers, circuits and devices. A sensor can sense a change in physical parameters, such as temperature, pressure, light, metal, smoke and proximity to an object. Sensors can also sense acceleration, orientation, location, vibrations or smell, organic vapours or gases. A microphone senses the voice and changes in the sound, and is used to record voice or music. \n\nA sensor converts physical energy like heat, sound, strain, pressure, vibrations and motion into electrical energy. An electronic circuit connects to the input at a sensor. The circuit receives the output of the sensor. The output is according to the variation in physical condition. A smart sensor includes the electronic circuit within itself, and includes computing and communication capabilities. \n\nThe circuit receives energy in form of variations through currents, voltages, phase- angles or frequencies. Analog sensors measure the variations in the parameters with respect to a reference or normal condition and provide the value of sensed parameter after appropriate calculations. \n\nThe change of states with respect to a reference or normal condition senses the states in the form of 0s and 1s in digital sensors. \n\n7.2.1 Sensing the Real World \n\nElectronic components can function as sensors. Sensor is an electronic device in a circuit that senses a physical environment or condition. The sensor sends signals to an electronic circuit, which interconnects to a serial port interface at a microcontroller or controller or computing device. \n\nA sensor senses a specific physical condition when it exhibits a measurable change in a characteristic circuit parameter on the change in the specific physical condition or environment. \n\nExample of Resistive, Capacitive, Diode and Transistor-based Sensors \n\nExample 7.1 gives the characteristic circuit parameters which change with the physical conditions. \n\nElucidate sensor \n\ntechnology for sensing the real world using analog and digital \n\nsensors, and examples for sensing \n\ndevices for IoT \n\nand M2M \n\nLO 7.1 \n\nSensor technology uses \n\nsensors and electronic \n\ncircuits, readers and \n\ndevices \n\nSensors are electronic devices that sense the \n\nphysical environment \n\n234 Internet of Things: Architecture and Design Principles \n\nExample 7.1 \n\nProblem Assume R is resistance, C is capacitance, Irev is reverse saturation current in a p-n diode and Isat is saturation current in a bipolar junction transistor (BJT). How do the characteristic circuit parameters R, C, Irev and Isat, sense the physical environment? How are they used for measuring the surrounding condition? \n\nSolution \n\n\u25cfResistance R, of a specially designed wire wound on a coil is used as temperature sensor. R functions as a component. R shows variation with temperature in metal wires such as platinum. A touch-screen senses the resistive variation in R with the touched position. A strain sensor resistance shows the variation in R with the strain. Change in R is proportional to change in length due to strain; for example, 12 cm per 10 kilo-Ohm. A flex-sensor senses the bending on applying a force by change in R. Sensor resistance R varies on flexing with the path or local deflection profile change which senses the flex. \n\nResistance of a sensor of organic solvent vapours shows measurable drop in the vapours concentration in the vicinity. The conductivity (reciprocal of resistance) of sensor increases depending on the vapour or gas concentration in the air near the sensor. Gas sensor is a metal oxide coated sensor whose resistance varies with vapour adsorption; for example, Sensor (TGS2620) of Figaro Company. \n\nResistance of a photo-conductor shows measurable drop in the presence of light. The conductivity (reciprocal of resistance) of the sensor increases depending on the radiation intensity. The sensor is basically a special semiconductor sensor, which shows conductivity variation exponentially with the received light intensity. \n\n\u25cfCapacitance, C, is used as proximity sensor when the capacitance of sensing component shows variation with proximity to a specific object, such as a metal part or a finger. A level sensor capacitor shows variation with level of filler in a container. \n\nA touched position sensor (capacitor) shows variation when a finger touches or is in the proximity or vicinity to the touch position on a screen. The variation in C is as per the touched position. A position when corresponds to a menu item displayed to the user, then the selected application runs on touching. \n\n\u25cfReverse saturation current Irev of a p-n junction diode is used as a temperature sensor when that shows measurable variations within the temperature range of the study. \n\n\u25cfA specially made p-n diode with a window-entry for radiation at the junction can be used as a photo sensor. The sensor functions as an incident radiation-intensity sensor when the diode reverse-saturation current Irev shows a measurable variation with radiation energy. \n\n\u25cfA specially made BJT with a window-entry for radiation at the junction is used as a photo sensor (phototransistor). Saturation current Isat between collector-emitter in the BJT shows measurable variation within incident infrared or light radiation intensity. \n\nA characteristic parameter of a circuit changes with the physical conditions. Technology that facilitates such changes due to sensing is also used in mobile phone. A mobile phone can sense surrounding conditions. The touchscreen of a mobile phone can senses a finger touch and gestures. Smartphones have resistive and capacitive sensors, photodiode current-based sensors, and acceleration, gyroscope, temperature and pressure sensors. The sensors enable the functioning of applications and games. \n\nMobile phones use a \n\nnumber of sensors, such as finger touch \n\nand gesture via a sensor on touchscreen \n\nSensors, Participatory Sensing, RFIDs and Wireless Sensor Networks 235 \n\nA microcontroller is an associate computing device with a sensor circuit which calculates the touched position and maps it to a user command when a resistive-based touchscreen is used. Then the mobile phone takes further actions as per the command. \n\nAnalog Sensors \n\nAnalog sensors use a sensor and an associated electronic analog circuit. Analog sensors generate analog outputs as per the physical environmental parameters, such as temperature, strain, pressure, force, flex, vapours, magnetic field, or proximity. Resistance of the sensing component may show measurable changes with surrounding pressure or strain or magnetic field or humidity. Resistance of a pressure sensor increases on pressure which creates a strain on the sensor. A flex sensor, for example, of 2.2 inch or 4.5 inch length, shows that its resistance across the sensor strip increases on flexing due to a changed path and deflection of the sensing resistor. \n\nThe measurement of analog output from a sensor circuit is performed as follows\u2014 the sensor output is given to the input of a signal conditioning-cum-amplifying circuit (SC). The SC output is the input to an Analog-to-Digital Converter (ADC). The ADC gives a digital output; for example, 8 or 12 bits. This output is read using a microcontroller. Microcontroller reading and computation gives the value of the sensed parameter value and shows the physical condition around the sensor. \n\nReading Temperature from Resistance Sensor \n\nExample 7.2 shows how an analog sensor and a sensing resistor with associated electronics enables the sensing and measuring of temperature. \n\nExample 7.2 \n\nProblem Assume an electronic circuit with a sensing component resistance as a physical object. How are temperatures sensed? \n\nSolution \n\nA resistor in the form of a wire or a component can be a part of the electronic circuit. Ohm\u2019s law states that resistance remains constant only as long as physical conditions remain the same. The resistor functions as a sensor when its value changes measurably within the required temperature range for sensing. \n\nThe measurements can be first made using two standard or reference temperature points, such as 0\u00b0C and 100\u00b0C. An equation or table can be prepared for the sensing component resistance R values as a function of the temperature T in \u00b0C. When changes are linearly related to the change in the physical environment then the equation is used. When changes are nonlinearly or \n\nAnalog sensors generate analog outputs as per the physical environmental \n\nparameters such as temperature or strain \n\nAn equation or a table \n\nrelates the sensor resistance with the sensed and measured \n\nparameter value at a given physical condition \n\n236 Internet of Things: Architecture and Design Principles \n\nexponentially related to the change in the physical environment, then use of the table is preferred. \n\nWhen temperature, such as of oil or coolant plate in an M2M or IoT device in an automobile needs to be sensed then a simple electronic circuit uses the sensing component at the sensed object. The associate computing device calculates the temperature value at the measuring instance. Figure 7.1 shows a circuit consisting of a resistance bridge. The bridge has one sensing resistor at the sensing object and three fixed (standard) resistors. The figure shows a microcontroller using an electronic circuit with a port connected to sub- circuits, serial port interface, ADC, signal conditioning amplifier and resistance bridge. \n\nMicrocontroller \n\nIC Temperature \n\nTransducer \n\nA \n\nA\u2264 A\u00a2 B\u00a2 B\u2264 \n\nB \n\nThermistor \n\nSerial port interface, Analog to digital convertor (ADC), Signal conditioning amplifier and Resistance bridge \n\nSensor Resistance \n\nFigure 7.1  Microcontroller serial port connected to sub-circuits\u2014serial port interface, ADC, signal \n\nconditioning amplifier, resistance bridge and sensor resistance outputs A ad B. Alternatively circuit connects to a thermistor output at A\u2019 and B\u2019 or IC based temperature-transducer output at A\u2019\u2019 and B\u2019\u2019 \n\nA transducer induces current or voltage. The output changes as per a change in the physical energy at input. An IC-based circuit for a temperature-transducer induces current in the output according to the heat energy, represented by the temperature. \n\nMicrocontroller is a computing device which reads the input at its ports, saves the reading in memory and then the reading is used for computations and communication. \n\nReading from Capacitive Sensor \n\nExample 7.3 shows how a sensing capacitor enables sensing using a capacitance bridge. \n\nExample 7.3 \n\nProblem Assume an electronic circuit with a sensing component capacitor as a physical object. How are the changes of capacitance sensed when using an electronic circuit with a sensing capacitor as a physical object? \n\nSensors, Participatory Sensing, RFIDs and Wireless Sensor Networks 237 \n\nSolution \n\nConsider two cases: \n\n1. When a metal part is present in the vicinity of a parallel plate capacitor, the capacitance C changes \n\nand proximity distance is sensed. 2. When a finger reaches near a screen, and the screen has a metallic grid at its base, then C will change \n\ndepending upon the touched position or C varies with time when the finger is approaching towards the vicinity to a menu item on the screen. \n\nC of a sensor object is a part of a capacitive bridge. The associate computing device calculates the proximity distance in case 1 and touched position in case 2 as well as the successive variations. Microcontroller is a computing device which reads the input at its ports, saves the input at memory, and then uses the data for communication over the Internet. \n\nFigure 7.2 shows a circuit using a capacitance bridge. The bridge consists of the sensing capacitor (object) and three fixed (standard) capacitors. The figure shows a microcontroller- based electronic circuit with port connected to four sub-circuits, serial port interface, ADC, signal conditioning amplifier, diode and capacitance bridge. \n\nMicrocontroller A \n\nB Oscillator \n\nSensor Capacitance \n\nSerial port interface, ADC, diode, Signal conditioning amplifier, and Capacitance bridge \n\nFigure 7.2  Microcontroller electronic circuit; port connected to sub-circuits; serial port interface, ADC, \n\ndiode, signal conditioning amplifier and capacitance bridge, and sensor capacitance at A and B \n\nSerial Port Interface \n\nA serial port interface with the ADC has an advantage that the ADC 8 or 10 or 12 bit output is input to the interface, and the interface sends the input to the serial port at the microcontroller. Serial port interface has just two terminals in the output (Section 7.5). \n\nAnalog to Digital Converter \n\nA microcontroller may consist of an in-circuit ADC or multiple inputs ADC. It processes the digital output from the in-circuit ADC. Alternatively, a port accepts the digital input consisting of 1s and 0s through an external ADC. An 8-bit port accepts the 8-bit input which corresponds to 0 to 255 decimal (255d). The port \n\nAnalog sensor circuit \n\nconnects to a signal conditioner amplifier, \n\nthen to an analog to \n\ndigital converter \n\n238 Internet of Things: Architecture and Design Principles \n\naccepts the 12-bit input in two cycles, viz. once 8 bits and then 4 bits which correspond to 0 to 4096 decimal (4096d). The analog output from a signal conditioning amplifier connects to the ADC input, Vin. \n\nThe decimal value of ADC digital output relates Vin and is in the form of the binary bits at the input. The decimal value of binary bits is proportional to the ratio of analog input Vin and reference voltage Vref. Assume a microcontroller functions with VDD, the microcontroller power supply + ve input and VSS microcontroller power supply -ve input. \n\nAssume (VDD \u2013 VSS) = 5 V. Half of the reference voltage = (Vref/2) is applied to ADC. Half reference voltage can be 1.65 V (Vref < 5V. (Vref/2) << (VDD \u2013 VSS). \n\nAssume an ADC is of 8 bits. [2n \u2013 1 = 255d] Then ADC digital output = Vin \u00a5 255d/ Vref, because Vref is the maximum input which can be applied to the ADC which gives maximum digital output, 11111111b, which means 255d. \n\nSampling ADC \n\nSampling means that an ADC accepts input signals at specified periodic intervals and converts them into digits. The interval is set as per the signal frequency and other needs. The applications of sampling ADC are many. For example, while recording voice or music, the sampling ADC receives signals from the microphone for the recording sensor. \n\nSignal Conditioning Amplifier \n\nAn SC amplifies the signal at the input as well as adds or subtracts an offset voltage in such a way that minimum Vin (min) and maximum Vin (max) values of the sensed physical parameter equal to 0 V and Vref, respectively, at the SC outputs. Example 7.4 clarifies how to use the SC and ADC and compute the temperature. \n\nExample 7.4 \n\nProblem How are the voltage inputs to ADC and signal conditioning amplifier designed when using a sensor for temperature? How is the sensed temperature computed? Assume that the sensor measures temperatures between \u201310\u00b0C and +40\u00b0C. \n\nSolution \n\nOutput of the signal conditioning amplifier (SC) in the circuit shown in Figure 7.1 is set such that the voltages which apply to ADC inputs are always between 0 V and Vref (reference voltage input) at the ADC. Since temperature range is between (Tmin) and (Tmax), when temperatures to be sensed are between \u201310 \u00b0C (Tmin), and + 40\u00b0C (Tmax), then the ADC input = SC output should be 0V when sensor is at \u201310 \u00b0C and input to ADC should be Vref when sensor is at 40\u00b0C. (Tmin) and (Tmax) difference is 50\u00b0C. \n\nSoftware in the microcontroller uses a predefined table or equation to compute the sensed temperature, T. The table saves T = 40\u00b0C when ADC output is 255d (= 11111111 binary). The sensed temperature is [50\u00b0C \u00a5 n/255 \u201310\u00b0C], when the ADC output in decimal equals n. The sensed temperature is \u201310\u00b0C when the ADC output equals 0d. \n\nSensors, Participatory Sensing, RFIDs and Wireless Sensor Networks 239 \n\nThe same approach of using SC, ADC and computations are followed not only for temperature but also for other sensors, such as, strain, pressure, force, flex, vapours, magnetic field or proximity distances sensors. \n\nDigital Sensors \n\nA specific electronic component or circuit gives digital output 1 or 0 (on-off state) or output of 1s and 0s as a binary number (corresponding to a set of on-off states). A digital sensor uses the sensor and has an associated electronic circuit which gives digital output. The output 1 or 0 (1s and 0s) is read through a port in a microcontroller. This circuit can be used for sensing a sudden change in specific physical state or condition or can be used for sensing a sudden change in specific set of physical states or conditions. \n\nSensing of an On-Off State \n\nA number of conditions needs detection using the concept of digital output of on-off state. Example 7.5 gives four cases on how to sense an on-off state, which means binary 1 and 0 output for reading by a circuit or microcontroler. \n\nExample 7.5 \n\nProblem (a) How is the switch on state sensed? How does one-bit digital output, 1 or 0 generate? (b) How does a streetlight sensor sense ambient light condition? (c) How does a rotating wheel state sense that it has reached at a specific orientation? (d) How does a linearly moving part state sense that it has reached at a specific linear position? Assume that the digital output is the input of a microcontroller port. \n\nSolution \n\n(a) Figure 7.3 shows that the circuit (top left) consists of one end A of the resistance connected to \n\nground potential (negative end of the supply). The other end B connects to the end C of the switch. A switch can have two states on or off and gives two outputs 1 or 0. The other end D connects to the supply voltage V+ (= 5V) terminal. Microcontroller port pins connect C and A. Alternative (top right) circuit is that base end, B of BJT which connects to one end of the switch. \n\nThe emitter end, E of BJT connects the ground potential. The collector end, C connects to +ve end of supply Vcc (= 5V) through a resistance. The switch one end connects to the microcontroller port pin. Microcontroller port pin other end connects to C. Another alternative (bottom middle) circuit is that switch one end B connects to MOSFET (Metal- \n\nOxide Field Effect Transistor) source end S. The drain end D of MOSFET connects to the supply voltage + terminal, VDD through a resistance. The gate G connects to end A of the switch. The inputs at the microcontroller port pins are from B and D. The circuits give 1s and 0s at port pins when switch state is off and on. The right side top circuit voltage at collector C < 0.8 V is taken as 0 and > 2.8 V is taken as 1 and \n\nVCC is at 5V . \n\nDigital sensor uses \n\nthe sensor and an associated electronic \n\ndigital circuit to read \n\n1s and 0s \n\n240 Internet of Things: Architecture and Design Principles \n\nMicrocontroller \n\nC \n\nE \n\nB \n\nVCC \n\nResistance \n\nn-p-n Photo- Transistor \n\nGround Potential \n\nLight or Dark \n\nFigure 7.4  Microcontroller electronic circuit \n\nfor a streetlight environment ambient condition sensor which senses two states and generates two outputs 1 or 0 for the port pin \n\nMicrocontroller \n\nResistance \n\nV+ \n\nC \n\nC \n\nD \n\nD \n\nS \n\nG A \n\nB \n\nE \n\nResistance \n\nMicrocontroller \n\nMOSFET \n\nVDD \n\nResistance \n\nB \n\nB \n\nA \n\nBJT \n\non-off \n\non-off \n\non-off \n\nGround Potential \n\nGround Potential \n\nMicrocontroller \n\nVCC \n\nVSS (Ground Potential) \n\nFigure 7.3  Three microcontroller electronic circuits for sensing On and Off states on generation of \n\noutput 1 and 0 for the port pin \n\nThe middle bottom circuit voltage at drain D (with respect to supply terminal, VSS) less than \n\n(1/3) \u00a5 (VDD \u2013 VSS) is considered as 0 and when greater than (2/3) \u00a5 (VDD \u2013 VSS) that is taken as 1.] \n\n(b) An environment ambient condition sensor at a \n\nstreetlight senses the ambient light condition using a phototransistor, FPT. FPT detects the environment ambient light intensity above a threshold. Figure 7.4 shows a circuit. The circuit gives 1 in output when ambient light intensity is below threshold and gives 0 in output ambient light intensity is above threshold. \n\n(c) A rotating wheel gives two outputs 1 or 0, when it \n\nhas a pair of LED or IR-LED (light emitting diode or infrared LED) and phototransistor (FPT) is on two sides of a slot in the wheel. Figure 7.5 shows the circuit. The circuit gives 1 in output when a slot of rotating wheel reaches near the FPT on completing a rotation and gives 0 in outputs till that is revolving towards the completion of the next revolution. The light to FPT does not block till the wheel completes the revolution. \n\nSensors, Participatory Sensing, RFIDs and Wireless Sensor Networks 241 \n\nMicrocontroller \n\nC \n\nE \n\nB LED \n\nResistance \n\nVCC \n\nn-p-n Photo- Transistor \n\nGround Potential \n\nFigure 7.5  Microcontroller electronic circuit for a rotating wheel, rotation-completion sensing which \n\nsenses two states (completion or incomplete) and generate two outputs 1 or 0 for the port pin \n\nA Microcontroller port P0 pin receives the input 1 or 0. Number of 1s within a specific time interval \n\ndivided by the interval gives the rotational speed revolutions per minute (rpm). The values of the rpm and circumference of the tyre enable the computation of speed in km/hour in the automobile, as rotator motion converts to linear motion in the automobile. \n\n(d) A moving part reaching at a specific location is sensed as follows: The part is attached with a light \n\nblocker. When the part reaches the empty space between a pair of LED (light emitting diode) and FPT, the blocker blocks the light falling on the FPT, and the circuit gives 1 in output. The circuit gives output = 0 when the part is not in the vicinity and is not blocking the light to FPT. Figure 7.6 shows the circuit. \n\nMicrocontroller \n\nC \n\nE \n\nGround \n\nPotential \n\nB LED \n\nResistance \n\nVCC \n\nn-p-n Photo- Transistor \n\nMoving Part \n\nLight Blocker \n\nFigure 7.6  Microcontroller electronic circuit for sensing when a moving part reaches at a specific \n\nlocation and sensing two states (reached or yet to reach) and generate two outputs 1 or 0 for the port pin \n\n242 Internet of Things: Architecture and Design Principles \n\nA number of other applications exist for digital on-off sensing. For example, sensing of presence of traffic on a street, sensing the filling of a waste container up to a certain preset level that sends an alert on the Internet to the city waste management service, sensing the presence of organic vapours which generates an alert when sensed, sensing gas leakage or fire and generating an emergency alert. \n\nSensing a Set of On-Off States \n\nA number of conditions together need detection in many applications. A circuit generates digital output for a set of On- off states. A specific electronic component or circuit gives digital output, such as, a set of 4 or 8 or 16 states consisting of 1s and 0s for sensing a set of discrete changes in a specific set of physical states or conditions. The output connects to a port input of a microcontroller, which reads the input at a given instance. Example 7.6 clarifies this. \n\nExample 7.6 \n\nProblem (a) How does an array of 8 switches generate a set of 1s and 0s? (b) How is the \u201dcommunication of a number of chocolates for each type of flavours that remain unsold at each instance of 10% sale of each type\u201d in Internet of Automatic Chocolate Vending Machines done? (c) How does the data of unoccupied parking slots be identified among the number of parking slots and used in Internet of Parking Spaces? Solution \n\n(a) An array of 8 switches generates 8-bit input for a port. An output port pin in a microcontroller sends a \n\nsense signal = 1 and the 8 return lines give the input to the microcontroller port. The 8-bit port reads the input to sense 8 on-off states of the switch. Figure 7.7(a) shows the circuit. When a keyboard is used, then eight sense lines and eight return lines are used to read the input and sense which key is pressed at a given instance. \n\n(b) Assume five arrays of ten FPT-LED pairs, one for each 10% level in each chocolate filler assembly for \n\neach type of chocolate flavour. Five flavour assemblies mean fifty sensors. Each sensor generates an on state signal 1 for 10% filled level of unsold chocolate type. When a specific flavour sells 80%, then eight sensors give eight 1s and two 0s in an array. Total filler levels are 10 for each chocolate flavour. Total sum of 1s and 0s is 80d. Five sets of five-filler assemblies for five chocolate flavours are read cyclically at the preset intervals. The data of all 50-filler levels is transmitted to the Internet and then a chocolate vending service application communicates regularly the presence of unsold chocolate percentages to the service. Figure 7.7(b) shows the circuit. (c) Assume that there are 64 parking slots. A photoconductor as a sensor for laser diode light beam block \n\ndetection can be used at each parking slot. Each sensor generates an on state signal 1 whenever a slot gets vacant. An array of eight slots is selected by three encoded lines from microcontroller. A set of eight-slots status in an array is read cyclically. Each array is cyclically selected. Data of all 64 slots is transmitted to the Internet and then a parking service application communicates regularly the presence of vacant slots to the vehicles passing through the traffic lights nearby to the parking facility. Figure 7.7(c) shows the circuit. \n\nDigital sensor circuit \n\nconnects to the microcontroller port \n\nSensors, Participatory Sensing, RFIDs and Wireless Sensor Networks 243 \n\n7.2.2 Examples of Sensors \n\nTemperature \n\nA component called thermistor, shows larger changes in resistance within narrow environment temperature range (120\u00b0C to \u201390\u00b0C). An NTC thermistor shows negative temperature coefficient which means a drop in the resistance value with rise in temperature. \n\nThermistor finds applications in home automation or in sensing the clouds. The output of thermistor connects to the circuit of a signal conditioning amplifier, ADC and then to microcontroller serial port, similar to the circuit in Figure 7.1 except that in place of a resistance-bridge, a thermistor circuit is used. \n\nA temperature sensor is called PTC, when it exhibits a Positive Temperature Coefficient. Resistance value of a PTC resistor rises with rise in temperature. A thin wire of platinum or other metallic alloys shows linear changes with its temperature. These can be used for sensing temperature and measuring the values over very wide ranges of temperatures, say (0\u20131600\u00b0C). \n\n3 Bit to 8 Decoder \n\nShift Clock \n\nShift Clock \n\nSerial Key State Data \n\nMicrocontroller \n\nEight on- off Keys \n\n8 Bit to 3 \n\nSerial Shifter \n\nMicrocontroller \n\nArray Select \n\nSerial Data \n\nPair Select \n\nShift Clock \n\n10 bit Parallel to \n\nSerial Shifter \n\nFive Arrays \n\nof ten \n\nn-p-n Photo- Transistor- LED Pairs \n\neach \n\nEight Arrays of Eight Pairs of Photoconductors Laser Light Diode each \n\nDetector States 8 bit Parallel to \n\nSerial Shifter Serial Data \n\nArray Select Lines Microcontroller \n\n(a) \n\n(c) \n\n(b) \n\nFigure 7.7  Microcontroller electronic circuits for sensing on-off states of (a) an array of 8 switches, \n\n(b) two-dimensional array of 50 sensors for 10 sales level when automatic chocolate vending machine sells 5 flavours, and (c) array of 64 sensors at parking slots with a sensor for each slot \n\n244 Internet of Things: Architecture and Design Principles \n\nExample 7.2 described the measuring principle and procedure of using a resistance bridge, signal conditioning amplifier and ADC for generating input to a microcontroller. Figure 7.1 shows the circuit. \n\nCertain ICs, such as AD590, function as temperature transducer and generate 1 mA for every 1\u00b0C rise in temperature. The output of the transducer connects to a signal conditioning amplifier, ADC and then to the serial port interface at the microcontroller. This circuit is similar to the circuit in Figure 7.1 except that in place of a resistance bridge, an IC transducer is used. \n\nReadily available temperature sensors have in-built circuitry with three terminals, viz. two for 5 V or 3.6 V supply + and \u2013 terminals and one for ADC input, Vin. \n\nHumidity \n\nHumidity is measured in percentage. It is the relative percentage ratio (RH%) of content of water vapours in air compared to one in a situation of maximum possible water vapour content for the air temperature at the instance of measurement. Greater than 90% humidity signifies it is a rainy day. A capacitor sensor shows change in capacitance as a percentage of relative humidity changes. \n\nReadily available humidity sensors show output voltage proportional to RH% (Humidity sensor available from Sparkfun, an US company). The sensor is given input supply at + and \u2013 (ground) potential terminals and it generates output VRH as a function of RH%. \n\nFigure 7.2 shows a circuit for sensing using capacitive sensors, except that in place of capacitance bridge output, the sensor circuit is in-built in readily available sensors. VRH is directly given to the ADC, and ADC output to the serial port interface at the microcontroller. The circuit can be used for measuring RH%. The computations give RH%. \n\nDistance \n\nInfrared (IR) sensor is useful for a 0.15 m to 0.8 m range of object. IR sensor works on the principle that when a narrow beam IR LED sends radiation at an inclined angle, the nearby phototransistor FPT receives the reflected radiation after travelling two times the object distance. The reflected radiation delay (= 2 \u00a5 3.3 ns per m) between transmitted and reflected signal is proportional to the distance. The distance can be measured for object from 0.1 m to 0.8 m. Above 0.8 m, the reflected intensity may be insufficient for detection and below 0.15 m, the time interval is less than 1 ns, which inhibits the detection. \n\nReadily available distance-based (IR) sensors shows output voltage proportional to distance (Sparkfun distance IR sensor). The sensor LED is given input supply at + and \u2013 (ground) potential terminals and IR-FPT along with internal circuitry generate output Vdis as a function of distance. Vdis is directly given as input to the ADC and ADC output to the microcontroller serial port. The computations give the distance. \n\nUse of capacitance changes for measuring \n\nRH% \n\nUse of time intervals between IR pulses and \n\nreflected pulses for measuring the distance \n\nof an object \n\nSensors, Participatory Sensing, RFIDs and Wireless Sensor Networks 245 \n\nAlternatively, ultrasonic sensors send the pulses. The frequencies of ultrasonic waves are of few kilocycles. The detection of echo from ultrasonic pulses and an associated circuitry generate a signal proportional to the distance. Ultrasonic wave delay is 2 \u00a5 3 millisecond/meter in air as the speed of sound in air is 330 m/s. Long-range distances and any obstacles nearby can be detected using ultrasonic sensors. These sensors are used in industrial automation, rail tracks and oil pipeline faults. \n\nLight \n\nExample 7.1 shows that a photoconductor can be used to detect light in the vicinity. The sensor shows a drop in resistance with surrounding light. Alternatively, the p-n junction photodiode or phototransistor can be used to measure incoming radiation intensity incoming from a particular direction. Figure 7.1 shows that the output of the sensor circuit connects the signal conditioning amplifier, ADC and microcontroller. \n\nAcceleration \n\nA Micro-Electro-Mechanical Sensor (MEMS) detects linear accelerations ax, ay and az along three axes x, y and z, respectively. An MEMS moves when a mass moves along a direction. A mechanical movement has three components. The variations cause the variation in three capacitance values, Cx, Cy and Cz. The value of each C depends on the space between two plane surfaces, which varies on acceleration along an axis. These capacitances are part of an electronic circuit and the resulting voltage variations give the ax, ay and az. \n\nAn accelerometer sensor is used in new generation mobile phones. The display screen image and menu items rotate and align horizontally or vertically on detecting the three components using the sensor when it rotates along with the phone. The accelerometer also detects up/down, right/left and front/back accelerations given to the device by the user. \n\nSparkfun ADX335 is a readily available accelerometer sensor. The accelerometer is given input supply at + and \u2013 (ground) potential terminals and it generates three outputs, Vx, Vy and Vz as a function of time. The computations give ax, ay and az. Figure 7.8 shows the accelerometer circuit. \n\nVibrations and Shocks \n\nAlternatively, MEMS may use piezoelectric effect in place of capacitive change effects. The effect observed in certain specific materials is accumulation of electric changes on surfaces due \n\nUse of photoconductor, p-n junction photodiode \n\nor phototransistor for \n\nmeasuring the intensity of light \n\nUse of MEMS for measuring the acceleration components in three \n\naxes by capacitive variations in three axes \n\nMEMS measures the vibrations and shocks \n\nby changes due to piezoelectric effect \n\nUse of time intervals \n\nbetween ultrasonic pulses and their echoes \n\nfor measuring distance \n\nfrom an object \n\n246 Internet of Things: Architecture and Design Principles \n\nto mechanical compression of the piezoelectric material. The rate of change of number of charges with time implies a flow of current. Vibrations create repeated compression and decompression. An associated electronic circuit generates output according to the intensity of vibrations. The circuit also senses the mechanical shocks. A user initiates the vibrations or shocks, or the device shakes when it falls, then the in-built sensor in the mobile senses these changes and the system takes action as programmed. \n\nAngular Acceleration and Change in Direction (Angle) \n\nGyroscope is a sensor which measures the change in angular velocity (angular acceleration) and the change in direction (angle). An application takes measurements using a gyroscope or accelerometer and the system initiates actions as programmed. For example, mobile gaming application uses in-motion gestures of a player when deploying a gyroscope. \n\nOrientation and Direction Compass \n\nA gyroscope can be used as an electronic compass or a digital compass as it shows the change in direction (angle). \n\nAlternatively a digital compass can also be used. A compass shows the directions\u2014 North, South, East and West. It also shows the direction in which an object is inclined. The compass is a very simple device used for navigation. It has a magnetic strip which aligns towards the Earth\u2019s magnetic north under the influence of the Earth\u2019s magnetic field. The compass shows by how many degrees f the device\u2019s north is inclined from the actual Earth\u2019s magnetic north in a clockwise direction. Mobile device\u2019s north means the screen\u2019s upper direction, south the lower, west the left and east the right. \n\nA digital compass is an electronic device used to detect the orientation or direction with respect to the north in degrees. The compass gives a digital output in terms of a sequence of 1s and 0s. A readily available digital compass sensor sends 1s and 0s to the \n\nMicrocontroller \n\nV+ \n\nADC0 \n\nADC1 \n\nADC2 \n\nPISO0 \n\nPISO1 \n\nPISO2 V\u2212 \n\nComponent x, y or z select \n\nSerial Clock \n\nSerial \n\nData \n\nAcceleration \n\nx, y, z component \n\nSensor \n\nFigure 7.8  Microcontroller electronic circuit for measuring three acceleration components from the \n\naccelerometer sensor \n\nSensors, Participatory Sensing, RFIDs and Wireless Sensor Networks 247 \n\nmicrocontroller serial port. The sensor is given input supply at + (VCC) and \u2013 (ground) potential terminals and it connects serial-port terminals, SCL (Serial Clock) and SDA (Serial Data) (Section 7.5). The sequence of serial bits corresponds to a byte (8-bit binary number). For that number computation give angle f with respect to the north direction. \n\nMagnetic Sensors/Magnetometer \n\nExample 7.7 explains sensing principle and procedure. \n\nExample 7.7 \n\nProblem How does a magnetometer show the direction and changes in the magnetic field? \n\nSolution \n\nA magnetometer present in a device enables three-dimensional interactions between a tiny magnet M1 in the device and a nearby iron magnetised piece M2 without touch. It uses the magnetic field created in the environment of the device. The magnetometer is also used as an orientation, proximity and distance sensor for iron or steel objects in industrial automation. \n\nOne application also identifies presence of iron or steel objects and switches off the phone upon detection. Another application monitors the changes in magnetic fields of M1 and identifies the gestures of the user. \n\nElectric Current \n\nAlternating Current (AC) is detected by a miniature transformer and its associated circuitry. A Direct Current (DC) flows in one direction at all instances. It detects using a sensor circuit, which detects the magnetic field by flowing current. Readily available electric current i and voltage v or power (product of i and v) are used. They can connect to the microcontroller using its associated circuitry. The computation can be done in the microcontroller. A wireless transmitter can transmit the data through Wi-Fi to the utility company. \n\nSound \n\nA microphone is used to sense sound. A readily available electronic board with a microphone connects to the microcontroller, which can control an actuator for actions based on the sensed sound, or recognise the voice and then take required action, such as dialing a number using the actuator circuit or switching on the car. \n\nSensing the Things \n\nReading Barcodes \n\nA barcode is a representation of data. The data relates to the object where the printed code strip is attached. The code is read by an optical scanner. Earlier a barcode would systematically \n\nBar coding uses 1D or \n\n2D code \n\n248 Internet of Things: Architecture and Design Principles \n\nrepresent data by varying the widths and spacing of parallel lines. The code was a linear or one-dimensional code (1D). Later, barcodes evolved into rectangles, dots, hexagons and other geometric patterns in two dimensions (2D). The 2D system use symbols which are also referred to as barcodes. \n\nA barcode reader is a scanner for a printed code called the barcode. An electronic device reads the output for a port of microcontroller or computing device or computer. The scanner has a light source. When it is switched on, the light impulses pass through a lens and focuses on the black and white spaces of the barcode. The light source can be laser based or LED based. \n\nReflected light sensor or CCD (Charge Coupled Device) detector at the scanner along with an associated decoder circuit converts the optical impulses into electronic pulses and analyses the barcode\u2019s image data. The resolution commonly used is of dimension 0.33 mm of the printed code. The sensor sends the contents of the barcode as 1s and 0s at the input port of the computing device. \n\nQR Code \n\nQR code is an abbreviation for Quick Response Code. It was first used in automotive industry. Its applications are product identification, tracking, marketing and document management. \n\nThe QR code uses standardised encoding modes, such as numeric, alphanumeric, byte/ binary or other. The code stores the data efficiently and is extendable. It is now popular in industries other than the automotive industry. It is read faster and the data stored is more than that using a standard Universal Product Code (UPC). \n\nThe QR code consists of black square dots arranged in a square grid format on a white background. The required data is at patterns in both horizontal and vertical components of the image. A scanner or camera reads the code and the data is processed using an error-correction method called Reed Solomon method. The processing takes place till the process results in appropriate interpretation of the data. \n\nMotion Sensors for Moving Objects \n\nMotion or speed is measured in m/s. The sensor measures delay between successive reflected IR light pulses. An LED source is an IR light source and a phototransistor is an IR sensor. Alternatively, ultrasonic wave echoes can be used to sense the motion of light. The sensor measures the delay between successive echoes. \n\nReadily available motion sensors, such as Sparkfun sensor show output voltage proportional to motion. The sensor is given input supply at + and \u2013 (ground) potential terminals and it generates output Vm as a function of m/s. \n\nThe computations give variation in the speed of nearby objects and also show vibrations. Security systems use the motion sensors to communicate data on the Internet and raise security alarms. \n\nSensors, Participatory Sensing, RFIDs and Wireless Sensor Networks 249 \n\nPressure Sensors \n\nPressure P is measured as force per m2. Pressure can be sensed in a number of ways. The sensor is called pressure transducer, pressure transmitter, pressure sender or pressure indicator. Piezometer pressure transducer uses a piezoelectric object between two surfaces. The compression creates electric charges on the opposite surfaces of the object. The flow of charges generates current and voltages, which provide the measure of pressure. \n\nA resistive sensor also measures variation of resistance with force. The force creates stress and thus the strain. \n\nReadily available pressure sensors, such as Sparkfun sensor show output voltage proportional to pressure. The sensor is given input supply at + and \u2013 (ground) potential terminals and it generates output VP as a function of P. \n\nApplication of pressure sensor can be explained as, a tyre pressure monitoring system uses the pressure sensors on each tyre. The sensors communicate the tyre pressure in each tyre, and a corresponding monitoring circuit sends alerts on the dashboard of the vehicle. \n\nFigure 7.1 shows the circuit for sensing using resistance sensors, except that in place of resistance bridge output, the sensor circuit is in-built using readily available sensors. VP is directly given to the ADC, and ADC output to the serial port interface at the microcontroller. The circuit can be used for measuring P. The computations give the pressure, P. \n\nEnvironmental Monitoring Sensor \n\nEnvironment parameters are temperature, humidity, barometric pressure and light. A collective use of these parameter sensors enable monitoring of the environment. The data of these sensors adapts to the requirement and sends communication on the Internet to the cloud or web for the environment monitoring applications. For example, light environment on the streets monitors the lights (Examples 1.2 and 5.5). \n\nLocation Data \n\nDetermining location of an object means finding its distance from several fixed locations which are in multiple directions and also measuring the intensity of light or IR or ultrasonic waves enables computations for a location, in case the source location intensities and attenuation per metre is known. \n\nGPS \n\nLocation determination can be done using a Global Positioning System (GPS), also known as Geographical Positioning System. A user can receive the location from a service provider. The service provider finds the GPS location through signals from satellites. The service provider finds the user location with respect to the service provider through its base stations. \n\nPressure sensors use the resistance changes due to strain. \n\nAlternatively, they use \n\npiezoelectric effect \n\n250 Internet of Things: Architecture and Design Principles \n\nCamera \n\nCamera is an image sensor. The camera uses CCD, which consists of a large number of pixels, exposed to the light from the image. It accumulates charges on each of the pixel present at a large number of horizontal and vertical coordinates. The charge accumulation is as per the intensity of light at the corresponding pixel coordinate in the image. Coloured camera has set of R, G and B (Red, Green and Blue) light intensity components at each pixel coordinate. \n\nThe camera generates a file from the R, G and B intensities at each image pixel. The file gets saved in the memory after compression in jpg or gif or any other standard format. A computer communicates the saved file to the Internet for applications such as industrial IoT, home security systems, ATM security systems, automotive IoT or participatory sensing IoT. \n\nLIDAR \n\nLIDAR (Light + Radar) [Laser Imaging, Detection and Ranging] sensors and laser 3D imaging technology enables remote sensing and imaging. It finds distances by throwing light using laser on target. The sensor senses the reflected light which enables computations of distance. \n\nLaser 3D Imaging \n\n3D imaging is feasible using laser 3D imaging technology. The technology uses both scanning and non-scanning systems. 3D gated viewing laser radar is a non-scanning system using pulse laser and fast gated camera. \n\nReconfirm Your Understanding \n\n\u25cfSensors can sense temperature, humidity, acceleration, angular acceleration, object distance, orientation angle with respect to a fixed direction, magnetic object proximity, touch and gestures of users, motion, sound, vibrations, shocks, electric current and environment conditions. \n\n\u25cfMany IoT applications need data generated from sensing devices. A sensor converts physical energy like heat, sound, strain, flex, pressure, vibrations and motion into electrical energy. An electronic circuit is associated with sensor. The circuit receives the output from the sensor. The output is according to the variation in physical parameters or state. \n\n\u25cfSensors are of two types\u2014analog and digital. \n\n\u25cfA circuit parameter can be used as a sensor when it shows measurable variation with heat, sound, strain, pressure, vibrations and motion. \n\n\u25cfA complex sensor includes the output processing circuit and computing and communication capabilities. Digital sensing needs a circuit to generate 1 or 0 or binary output of 1s and 0s for storing, computing and communication device. A sensor can use a phototransistor-LED pair and digital circuit to generate 1s and 0s. \n\n\u25cfA set of digital sensors sense the number of chocolates of each type of flavour remaining unsold and communicate in IoT application of automatic chocolate vending machines (Example 5.5). \n\nSensors, Participatory Sensing, RFIDs and Wireless Sensor Networks 251 \n\nSelf-Assessment Exercise \n\n1. What are the characteristic parameters which change with physical \n\nenvironment and therefore are used for sensing applications? 2. What are the circuits for measuring variation in resistance with respect to \n\ntemperature? Compare these and describe their application. 3. Draw a circuit for measuring variation in capacitance with respect to an \n\norganic solvent vapour concentration using a microcontroller? 4. When do you use an analog sensor and a digital sensor? 5. What is a smart sensor? What are the capabilities of a smart sensor? 6. Why and when is ADC required? What does a signal-conditioning amplifier \n\nrequire before the ADC? 7. How do you measure temperature in range \u201320\u00b0C and +100\u00b0C with a resolution \n\nof 1\u00b0C? 8. Tabulate the sensors for temperature, level of filling in a container, pressure, \n\ntyre-pressure, humidity, ambient light intensity, traffic in proximity, acceleration, distance of in-front object, location with respect to fixed locations, object proximity, metallic object proximity, iron object proximity, orientations with respect to north, sound, vibrations and empty parking spaces and their characteristic parameters which enable sensing the changes and their values? 9. How can a sensor for sensing four states of filling a waste container, viz., \n\nbelow 80%, up to 80%, up to 90% and full 100%, be designed for a city waste management service? 10. What is an MEMS? What are the physical entities which are sensed using an \n\nMEMS? 11. What is piezoelectric effect? What are the physical entities which are sensed \n\nusing piezoelectric effect? \n\n\u2605 \n\n\u2605\u2605 \n\n\u2605 \n\n\u2605 \u2605\u2605\u2605 \n\n\u2605\u2605 \n\n\u2605\u2605\u2605 \n\n\u2605\u2605 \n\n\u2605\u2605\u2605 \n\n\u2605\u2605 \n\n\u2605\u2605 \n\n\u25cfDigital sensors sense unoccupied parking slots and digital output identifies the unoccupied slots among the number of parking slots. These are used in Internet of Parking Spaces. Sensor uses photoconductor-light beam pair and digital circuit. \n\n\u25cfMEMS is a microelectromechanical sensor that detects linear accelerations ax, ay and az along three axes x, y and z, respectively. \n\n\u25cfThings get sensed and identified by barcode readers or QR codes, and associate circuit communicates the object identity and object document information to the Internet. \n\n\u25cfThe identity, location, document information, pressure, motion, environment parameters and other characteristics data communicate to the Internet for IoT applications. \n\nNote: \u2605 Level 1 & Level 2 category \u2605\u2605 Level 3 & Level 4 category \u2605\u2605\u2605 Level 5 & Level 6 category \n\n\n![Image](/src/assets/generated_images/iot2_p278_i0.png)\n\n252 Internet of Things: Architecture and Design Principles \n\n7.3 PARTICIPATORY SENSING, INDUSTRIAL IoT AND AUTOMOTIVE IoT \n\nInformation collected from sensors of multiple heterogeneous sources can lead to knowledge discovery after analytics and data visualisation. A web source defines Participatory Sensing (PS) as \u201csensing by the individuals and groups of people contributing sensory information to form a body of knowledge\u201d. Deborah Estrin, University of California, Los Angeles now at Cornell University, defines participatory sensing as, \u201cParticipatory sensing is the process whereby individuals and communities use evermore-capable mobile phones and cloud services to collect and analyse systematic data for use in discovery.\u201d \n\nA participant of a PS process can be sensors used in mobile phones. Mobile phones have camera, temperature and humidity sensors, an accelerometer, a gyroscope, a compass, infrared sensors, NFC sensors, bar or QR code readers, microphone and GPS. Mobiles communicate on the Internet the sensed information with time, date and location stamps. \n\nApplications of PS include retrieving information about weather, environment information, pollution, waste management, road faults, health of individuals and group of people, traffic congestion, urban mobility, or disaster management, such as flood, fire, etc. Participatory sensing has many challenges such as\u2014security, privacy, reputation and ineffective incentives to participating entities. \n\nFigure 7.9 (a) shows the sources of data in the PS process for IoT applications. Figure 7.9 (b) shows the phases of a PS process. Phase 1 is coordination, in which the participants of a PS process organise after identifying the sources. Next two phases, i.e. phases 2 and 3 involve data capture, communication and storage on servers or cloud. Next two phases, i.e. phases 4 and 5 involve PS data processing and analytics, visualisation and knowledge discovery. Last phase, i.e. phase 6 is for initiating appropriate actions. \n\n7.3.1 Industrial IoT \n\nIndustrial Internet of Things (IIoT) involves the use of IoT technology in manufacturing. IIoT involves the integration of complex physical machinery M2M communication with the networked sensors and use of software, analytics, machine learning and knowledge discovery. Example of the functions of IIoT are refining the operations for manufacturing or maintenance, or refining the business model of an industry. \n\nDefine the concepts of participatory sensing, \n\nIndustrial IoT and \n\nAutomotive IoT \n\nLO 7.2 \n\n12. How is sound sensed and voice recognised? 13. How do you sense the things and identify product information using a barcode \n\nreader? What are the applications of IoTs when using barcode sensors? 14. What is QR code? How do you use QR code in the applications of IoTs? 15. How is the motion of a moving object sensed? \n\n\u2605 \u2605\u2605 \n\n\u2605\u2605 \n\n\u2605 \n\nSensors, Participatory Sensing, RFIDs and Wireless Sensor Networks 253 \n\nIndividuals Data Collectors: For example, communication of fire data, waste collection data \n\nGroup Data Collectors: For example traffic lights sending traffic density and parking availability data, Automobiles communicating traffic density at different locations \n\nSocial Sites Data: Twitter, Facebook, LinkedIn, \n\n(b) (a) \n\nNetwork \n\nPhase 1: Coordination \n\nIdentification \n\nof Sources \n\nPhase 2: Data \n\nCapture \n\nKnowledge \n\nDiscovery \n\nPhase 5: Analytics and \n\nData Visualisation \n\nPhase 4: \n\nData Processing \n\nPhase 3: Data of Participants \n\nof PS Process \n\nData Store \n\nPhase 6 Applications and Services \n\nFigure 7.9  (a) Sources of data in the PS processes and (b) Phases of a participatory sensing process for \n\nIoT applications and services \n\nIIoT applications are in the manufacturing, railways, mining, agriculture, oil and gas, utilities, transportation, logistics and healthcare services. \n\nExample 7.8 explains use of IoT technologies in manufacturing and industrial processes. \n\nExample 7.8 \n\nProblem How is IIoT technology used in optimising the bicycle manufacturing process? \n\nSolution \n\nThe sensors at each manufacturing stage in a bicycle industry communicate information on completion at each stage for each bicycle. An IIoT application analyses that data on completion of each activity at each stage, including data of breakdowns, work stoppages and failures at the stages. The application enables the company to take steps and synchronises various actions to remove any bottlenecks due to the components supply or the manufacturing stage machinery or human failures. Bicycle manufacturing is thus optimised. Figure 7.10 shows IIoT phases in the bicycle manufacturing process. \n\n254 Internet of Things: Architecture and Design Principles \n\nTriangular Frame \n\nManufacturing Process Phase 1 \n\nBrakes and Seat Posts \n\nManufacturing Process Phase 6 \n\nCrank Set and Saddle \n\nManufacturing Process Phase 7 \n\nApplications and Services: \n\nPhase 12 \n\nCold Working and Butting; Hollow Steel \n\nTubes Manufacturing Process Phase 2 \n\nGears Assembly, Derailleurs Handle \n\nBars and Stems \n\nManufacturing Process Phase 5 \n\nAttachment of Wheels, Tyres and \n\nTubes Manufacturing Process Phase 8 \n\nKnowledge \n\nDiscovery \n\nPhase 11: Analytics and \n\nData Visualisation \n\nWelding and Joining \n\nTubes and Frame \n\nManufacturing Process Phase 3 \n\nAligning and Finishing Process \n\nPhase 4 \n\nFinal Finish Manufacturing Process \n\nPhase 9 \n\nNetwork \n\nPhase 10: \n\nData Processing \n\nAll Sensors and \n\nProcesses Data Communication \n\nFigure 7.10 IIoT phases in the bicycle manufacturing process \n\nExample 7.9 elucidates IIoT application in predictive maintenance of industrial processes. \n\nExample 7.9 \n\nProblem How is IIoT technology useful in predictive maintenance of industrial processes? \n\nSolution \n\nConsider an application for predictive railroad service centre. Ultrasonic sensors, infrared temperature sensors and microphone sensors along railway tracks sense and communicate the captured data for each train passing through each segment track. The application predicts the failures. This enables undertaking of preventive maintenances. \n\nSimilarly, IIoT finds applications in predictive maintenance of aircraft parts, gas pipelines and machines used in production. \n\nService-Oriented Cross-Layer Infrastructure for Smart Embedded Devices (SOCRADES) project developed an integration architecture which integrates shop floor industrial machines with enterprise systems. Three-level architecture has three levels\u2014device management, service management and application interface for the systems. \n\nExample 7.10 describes software for IIoT and M2M applications. \n\nSensors, Participatory Sensing, RFIDs and Wireless Sensor Networks 255 \n\nExample 7.10 \n\nProblem How is IIoT technology useful in predictive maintenance of industrial processes? \n\nSolution \n\n\u25cfGE Industrial Analytics Software Predix provides an IIoT platform. The platform provisions for sensor- based computing and predictive analytics. \n\n\u25cfAn advanced cloud-based service and software from Axeda Company manages connected products and machines. The software enables implementation of innovative M2M and IoT applications. \n\n\u25cfOSI soft is software for real-time data management for sensor-driven computing. The sensors data is from the manufacturing processes and utilities companies such as electricity, phone and mining. \n\nIndustrial Internet Consortium (2014) is body which has been founded for creation of standards, open interoperability and the development of architectures for Industrial Internet of Things (IIoT). \n\n7.3.2 Automotive IoT \n\nAutomotive IoT enables the connected cars, vehicles-to-infrastructure technology, predictive and preventive maintenances and autonomous cars. \n\nConnected Cars Technology \n\nAutomotive vehicles can drive through roads with little or no effort at all. A connected car with the combination of GPS tracking and an Internet connection enables applications such as: \n\n1. Display for driver that enables driving through the shortest route, avoiding the \n\ncongested route, etc. 2. Customisation of functioning of the vehicle to meet the driver\u2019s needs and preferences 3. Get notifications about traffic 4. Protecting cars against theft 5. Weather and enroute destinations 6. Keeping a tab on driver\u2019s health and behaviour. \n\nVehicle-to-Infrastructure Technology \n\nAutomotive IoT enables Vehicle-to-Infrastructure (V2I) technology. A vehicle communicates with other vehicles, the surrounding infrastructure and a Wi-Fi LAN. Examples of V2I applications are: \n\n\u25cfAlerts and warnings for forward collision \n\n\u25cfInformation about blind spots \n\n\u25cfNotification about a vacant parking space \n\n\u25cfInformation about traffic congestion on route to destination \n\n\u25cfStream live music and news. \n\n256 Internet of Things: Architecture and Design Principles \n\nPredictive and Preventive Maintenances \n\nExample 7.11 shows automotive IoT application for predictive and preventive maintenances of automobiles by service centre application. \n\nExample 7.11 \n\nProblem How is an automotive IoT technology useful in predictive maintenance of an automobile by a service centre application? \n\nSolution \n\nConsider Internet of connected automotive components (Example 5.2). A number of sensors for statuses and conditions of components are used. Examples are engine movements unit, axle, steering unit, brake linings, wipers, air conditioners, battery, tyre movements, coolant and shockers. The statuses and conditions data are needed for predictive maintenance. A component embeds computing hardware and for ultrasonic sensors, IR sensors, sound sensors, seat alignment sensors, height sensors, driver acceleration sensors at start, during running and driver braking characteristics and road friction, and microphone sensors. The sensors capture the data for noise, vibration and harsh driving and actions of the vehicle. \n\nThe sense data communicates in real-time or stores and transmit when the automobile reaches a Wi-Fi node. The service centre application schedules maintenance alerts and predicts the failures and alerts for the actions. Figure 7.11 shows Internet of connected car components for predictive and preventive maintenances of automobile by a service centre. \n\nShockers \n\nCAN Bus \n\nCAN Bus \n\nInternet \n\nEngine Control \n\nSensors and \n\nActuators \n\nBrakes System \n\nSensors \n\nWipers, Window Screen Movements, \n\nAxle Movement \n\nSensors \n\nAir-conditioning \n\nGears Assembly and \n\nSteering Sensors \n\nDriver Acceleration \n\nSensors \n\nTyre Conditions \n\nSensors \n\nCoolant Temperature \n\nand Oil Pressure \n\nSensors \n\nSensors and Processes Data Communication \n\nGateway \n\nPredictive Preventive and \n\nScheduling Maintenances \n\nApplications \n\nand Services \n\nKnowledge \n\nDiscovery \n\nPredictive Analytics and \n\nData Visualisation \n\nCloud Server \n\nFigure 7.11  Internet of connected car components for predictive and preventive maintenances of \n\nautomobile by service centre \n\n\n![Image](/src/assets/generated_images/iot2_p283_i0.png)\n\nSensors, Participatory Sensing, RFIDs and Wireless Sensor Networks 257 \n\nAutonomous Cars \n\nDriverless cars (also known as autonomous cars or robotic cars) have become a reality. These deploy LIDAR and laser 3D imaging technology. \n\nSelf-Assessment Exercise \n\n1. List the merits of participatory sensing. 2. How does PS enable traffic congestion reports? Show an architectural diagram \n\nof the process. 3. List the applications of industrial IoT. 4. How is industrial IoT used for predictive maintenance of machines in the \n\nindustry? 5. List the sensors needed in a car for automotive IoT. 6. Draw an architectural diagram of the processes in automotive IoT for \n\npredictive and preventive maintenance. \n\n\u2605 \u2605\u2605\u2605 \n\n\u2605 \u2605\u2605\u2605 \n\n\u2605 \u2605\u2605 \n\nReconfirm Your Understanding \n\n\u25cfParticipatory sensing (PS) is sensing by individuals and groups of people contributing sensory information to form a body of knowledge. \n\n\u25cfApplications of PS are many, such as retrieving information about the weather and environment, pollution, waste management, road faults, individual and group of personals health, traffic congestion, urban mobility and disaster management, such as flood, fire. \n\n\u25cfIndustrial Internet of Things (IIoT) is the use of IoT technologies in manufacturing and predictive maintenance. IIoT involves the integration of complex physical machinery M2M communication with the networked sensors, and use of software, analytics, machine learning and knowledge discovery. \n\n\u25cfAutomotive IoT enables connected cars, vehicle to infrastructure technology, predictive and preventive maintenances and autonomous cars. \n\n7.4 ACTUATOR \n\nAn actuator is a device that takes actions as per the input command, pulse or state (1 or 0), or set of 1s and 0s, or a control signal. An attached motor, speaker, LED or an output device converts electrical energy into physical action. Examples of applications of actuators are: \n\n\u25cfLight sources \n\n\u25cfLEDs \n\nDescribe the uses of actuators in \n\ndevices \n\nLO 7.3 \n\n258 Internet of Things: Architecture and Design Principles \n\n\u25cfPiezoelectric vibrators and sounders \n\n\u25cfSpeakers \n\n\u25cfSolenoids \n\n\u25cfServomotor \n\n\u25cfRelay switch \n\n\u25cfSwitching on a set of streetlights \n\n\u25cfApplication of brakes in a moving vehicle \n\n\u25cfRinging of alarm bell \n\n\u25cfSwitching off or on a heater or air-conditioner or boiler current in a steam boiler in a thermal plant. \n\nLight Source \n\nTraffic lights are examples of function of light sources as actuators controlled by the inputs. \n\nLED \n\nLED is an actuator which emits light or infrared radiation. Uses of different colour LEDs, RGB (Red-Green-Blue) LEDs, intensity variation of LED and colours, graphic and text display using big screens are actions which are controlled using the inputs. RGB LED has three inputs to control, i.e. R, G and B components and thus the composite colour. Pulse width modulated pulses control the LED light emission intensity. A microcontroller is used for generating PWM outputs. \n\nPiezoelectric Vibrator \n\nPiezoelectric crystals when applied in varying electric voltages at the input generate vibrations. \n\nPiezoelectric Speaker \n\nA piezoelectric speaker enables synthesised music tunes and sounds. The appropriately programmed pulses generate the music, sounds, buzzers and alarms when they are the input to the speaker. A microcontroller is used for generating PWM outputs for actions using speakers. \n\nSolenoid \n\nA solenoid is an actuator consisting of a number of cylindrically wound coils. The flow of current creates a magnetic field in proportion to the number of turns in the solenoid and the current in it. If a shaft made of iron is placed along the axis, then its motion can be controlled by the input current, pulses and variations of current with time. It can create a sharp forward push, backward push and repeated to and fro motion. It can also create rotator motion from linear motion by using a Cam. \n\nA cam with linear shaft assembly is used in an engine to convert rotatory motion into linear motion and vice versa. A cam is an especially cut mechanical rotating object such \n\nSensors, Participatory Sensing, RFIDs and Wireless Sensor Networks 259 \n\nthat the radius linearly increases (from the centre) between 0\u00b0 and 180\u00b0 rotation and decreases between 180\u00b0 and 360\u00b0. When a cam assembly rotates, then a linear shaft moves in forward and backward motions in each rotation. \n\nMotor \n\nA motor can be DC (direct current controlled) or AC (alternating current controlled). IO modules are readily available to receive the control digital inputs of 1s and 0s and deliver high currents. The dc or ac rotates the motor. A cam also converts rotator motion into linear motion when it rotates using a motor. \n\nServomotor \n\nServomotor is a geared DC motor for applications such as robotics. It rotates the shaft of a motor. The shaft of the motor can be controlled and positioned or rotated through 180\u00b0 (+90\u00b0) degrees. The shaft\u2019s angular position is controlled through 180\u00b0, between \u201390\u00b0 and +90\u00b0 degrees. \n\nExample 7.12 \n\nProblem How does angular position in a servomotor shaft control using input pulse widths? \n\nSolution \n\nA servomotor has just three terminals, viz. two for voltage supply + and \u2013 terminals and one for a pulse width modulated (PWM) input. A servomotor is conveniently controlled by PWM. The motor has three terminals. Two are for the supply voltage and ground. A position control PWM signal to the motor is given at the third terminal. \n\nFigure 7.12 shows an interface circuit for controlling servomotor angular position. The pulse repeats 50 times (means at 20 ms intervals) to the motor input. The input is through a PWM control output at a port pin of microcontroller. It controls the movement as well as the angle of a servomotor between \u201390\u00b0 and +90\u00b0. \n\nThe microcontroller has an internal circuit to generate pulses of different widths as per value, p loaded in the PWM register. \n\nWhen the port output PWM pulse is of width 1.5 ms, then it places the shaft at a mid- angular position. Let us assume that when the pulse width is 1 ms, the angle is \u201390\u00b0. When the width is 2 ms, then the angular position is +90\u00b0. Varying the width, pw ms between 1 \n\nMicrocontroller \n\nPulses of width \n\n1 ms to 2 ms repeat every 20 ms \n\nPulse width \n\nmodulator \n\nPower Transistor \n\nServomotor \n\nGround Potential \n\nV+ \n\nFigure 7.12  Microcontroller circuit for \n\ncontrolling servomotor angular position \n\n\n![Image](/src/assets/generated_images/iot2_p286_i0.png)\n\n260 Internet of Things: Architecture and Design Principles \n\nand 2 ms using the PWM register value will change the angular position, f = [(pw \u20131.5) \u00d7 180\u00b0] When pw = 1.5 ms, then, f = 0\u00b0 (mid angular position), when 1 ms, then \u201390\u00b0; when 2 ms, then +90\u00b0. \n\nRelay Switch \n\nAn electronic switch can be controlled by the input 1 or 0 from the port pin of a microcontroller or through a push button switch and battery. The current flows through the switch or voltage applies through the switch depending upon the input state 1 or 0. \n\nA relay switch makes mechanical contact when the input circuit magnetises with a control circuit and pulls a lever to make the contact. The current flows through the switch or voltage applies through the switch depending upon the input state 1 or 0 from the port pin of a microcontroller or through a push-button switch and battery. \n\nReconfirm Your Understanding \n\n\u25cfAn actuator is a device which takes actions as per the control inputs or command using 1s and 0s, pulse or state (1 or 0) or set of 1s and 0s or width of the input pulses of 1s and 0s. \n\n\u25cfExamples of actuators are light sources, LEDs, piezoelectric vibrators and sounders, speakers, solenoids servomotor, relay switch, switching on a set of streetlights, application of brakes of a moving vehicle, ringing of alarm bell, and switching off or on a heater or an air-conditioner or a boiler current in a steam boiler in a thermal plant. \n\nSelf-Assessment Exercise \n\n1. List uses of LEDs and RGB LEDs in control and monitoring using IoT. 2. How does a piezoelectric vibrator function? 3. How does a solenoid enable linear and angular motions? 4. How can servomotor find use in automotive IoT? \n\n\u2605 \u2605\u2605 \u2605\u2605\u2605 \n\n\u2605 \n\n7.5 SENSOR DATA COMMUNICATION PROTOCOLS \n\nA serial interface uses a protocol for serial communication. A microcontroller includes interfaces for serial communication. UART and several other protocols are popularly used. Wired communication can be: \n\n\u25cfSerial asynchronous communication, such as, using UART communication. A RFID reader uses a 125 kHz RFID UART module. A GPS device also sends serial data using the UART. \n\nDescribe the \n\nuses of data communication using \n\nserial bus protocols \n\nLO 7.4 \n\nSensors, Participatory Sensing, RFIDs and Wireless Sensor Networks 261 \n\n\u25cfSynchronous serial-communication devices, such as sensors which can communicate serial data using I2C or SPI interfaces in wired bus communication. Automotive sensors communicate serial data using LIN, CAN, MOST, IEEE 1394 serial protocols (Section 2.3.2). \n\n7.5.1 Serial Bus \n\nA bus gives the following advantages1 in sensor circuits and connecting devices: \n\n1. Simplifies number of interconnections compared to direct connections between them 2. Provides a common way (protocol) of connecting different or same type of I/O \n\ndevices 3. Can add a new device or system\u2019s interface that is compatible with a system\u2019s I/O bus 4. Provides flexibility, allowing a system to support many different I/O devices \n\ndepending on the needs of its users and allowing users to change the I/O devices that are attached to a system as their needs change. Widely used communication protocols for serial bus communication are Inter-Integrated Circuit (I2C), Universal Serial Bus (USB) and FireWire (is now a standard and known as IEEE 1394).Widely used serial bus communication protocols for serial communication in automobiles\u2019 internal sensors and other embedded circuits are Local Interconnect Network (LIN), Controller Area Network (CAN) and Media Oriented System Transport (MOST).2 \n\nA serial interface communicates serially with another device serial interface for: \n\n\u25cfSending the sensor data on a network, for example in an automobile. \n\n\u25cfReceiving commands to control the actuator actions through the microcontroller serial output. A microcontroller program prepares the interface. Preparation means configuring the device for serial interfacing. The configuration also sets the data rate at the beginning of the data receive or send program. A program reads the bytes from the serial port inputs, and sends the outputs at serial or parallel ports. \n\nUART for Serial Bus \n\nA UART device sends 8-bit data at successive intervals, called baud intervals. A start bit precedes the data (characters). Start bit means 1 becoming 0 for certain interval, called baud interval before the 8-bit data. A stop bit is 1 for a minimum interval equal to baud interval. The bit succeeds the 8-bits data which means 10 bauds per character. Each digit or command communicates 8 bits. Each character communicates 8 bit and is coded as per the ASCII (American Standard Code for Information Interchange) code. \n\nSoftware Serial Library \n\nIntegrated Development Environment (IDE) for a microcontroller system provides a software serial library. A library consists of number of programs. A software serial library \n\n1 http://www.webopedia.com/TERM/B/bus.html and https://en.wikipedia.org/wiki/Serial_communication 2 Raj Kamal, Embedded Systems- Architecture, Programming and Design 3/e, McGraw-Hill Education, New Delhi, 2014, pp.169-174. \n\n262 Internet of Things: Architecture and Design Principles \n\nhas distinct programs for each serial interface protocol. A program enables a user to directly use a protocol. For example, a library program is used for reading an RFID tag. Another can be used for sending data to a USB port. A USB port is used for onward transmission to the Internet. \n\nUsing UART Communication for a RFID Tag \n\nA header character is sent before the tag. A tag ID has ten digit characters. An end character consists of 1 byte. It succeeds the 10 digits of the tag. The total number of digits communicated is equal to 12. \n\nReciprocal of baud interval is called baud rate. The 125 kHz corresponds to 125 kbaud/s (kilo bauds per second) which means 12.5 k characters per second. \u2018Baud\u2019 is a German word that means drop, such as raindrop. Bits in UART protocol communicate like bauds. \n\nA library program for RFID using UART serial interface protocol enables its direct use for an RFID tag. \n\nUsing the I2C protocol for a Serial Bus \n\nIntegrated circuits, sensors or actuators can be interconnected with the serial synchronous interface, I2C. A library program for I2C serial interface protocol enables direct use of a sensor IC. I2C bus means different integrated circuits using I2C interface communication over the same set of wires. \n\nI2C is inter-integrated circuit bus. Sensors using I2C bus protocol consists of two active signal terminals, i.e. Serial Data (SDA) and Serial Clock (SCL) lines and one ground line terminal. Uses of I2C, pronounced as I square C (I2C) are for serial bus communication of the number of device circuits. For example, one for flash memory, touch screen, one for measuring temperature and one for measuring pressure in a number of processes in a plant. These ICs mutually network through a common synchronous serial bus. Figure 7.13 shows bus SCL and SDA lines for serial synchronous data communication using I2C protocol. \n\nSCL \n\nInternet USB \n\nSDA \n\nSensor with I2C \n\nInterface \n\nSensor with I2C \n\nInterface \n\nSensor with I2C \n\nInterface \n\nI2CBus \n\nIC with I2C \n\nInterface \n\nMicrocontroller with I2C \n\nand USB Interface and Software Serial Library \n\nPrograms for I2C and \n\nUSB \n\nFigure 7.13 Bus SCL and SDA lines for serial synchronous data communication using I2C protocol \n\nSensors, Participatory Sensing, RFIDs and Wireless Sensor Networks 263 \n\nThree I2C bus standards are industrial 100 kbps I2C, 100 kbps SM I2C and 400 kbps I2C. I2C is serial computer bus which communicates single ended (one-end communicating at an instance), multi-master (number of master devices can connect the bus) and multi- slave (number of slave devices can connect the bus). A communicating device sends signals using SCL and SDA and can function as a master. Another device receiving signals SCL and SDA is the slave. The receiving device acknowledges use input SCL of master for sending SDA output. \n\nUsing the LIN Serial Bus \n\nLocal Interconnect Network (LIN) is a serial bus network protocol for communication between automobile circuits, sensors and actuator circuits, components and systems, such as window movements, seat movements and wipers. The protocol is simpler to use compared to CAN in automobiles. \n\nLIN communication is single master with maximum 15 slaves with no bus arbitration. No bus arbitration means the bus does not select the destination, when number of devices request for the bus.3 \n\nLIN features are (i) use of single wire using which communication up to 19.2 kbit/s for 40 m bus length can be done, (ii) variable length of data frame (2, 4 and 8 byte) and (iii) configuration flexibility. \n\nUsing the CAN Protocol for Serial Bus \n\nEmbedded controllers with sensors and actuators are networked and are controlled through the CAN bus. Figure 7.14 shows serial bidirectional line network of number of CAN controllers and devices. \n\nCAN_L \n\nInternet USB \n\nV+ \n\nGround \n\nSensor with CAN \n\nInterface \n\nSensor with CAN \n\nInterface \n\nSensor with CAN \n\nInterface \n\nCAN Bus \n\nController with CAN \n\nInterface \n\nMicrocontroller with CAN and USB Interface \n\nand Software Serial Library Programs for \n\nCAN and USB \n\nCAN_H \n\nFigure 7.14  CAN bus serial bidirectional line network of number of CAN controllers and devices on a \n\nCAN bus \n\n3 https://en.wikipedia.org/wiki/Local_Interconnect_Network \n\n264 Internet of Things: Architecture and Design Principles \n\nA library program for CAN serial interface protocol enables direct use for embedded circuits with a sensor. CAN bus means different controller circuits using CAN communicate with the same set of wires. \n\nA number of devices are located and are distributed in a Vehicular Control Network (VCN). An automobile uses a number of distributed controllers. The controllers provide the controls for brakes, engine, electric power, lamps, temperature, air conditioning, car- gate, front display panel, meter display panels and cruising. Medical electronics and industrial-plant serial communication also use the CAN bus. \n\nCAN bus has a serial bidirectional line. A CAN device receives or sends a bit at an instance by operating at the maximum rate of 1 Mbps. It employs a twisted pair connection to each node. The pair runs up to a maximum length of 40 m. A CAN version also functions up to 2 Mbps. CAN bus is a standard bus in a distributed network. \n\nUsing USB Bus \n\nUniversal Serial Bus (USB) is a bus between a host system and a number of interconnected peripheral devices. Maximum 127 devices can connect to a host. It provides a fast (up to 12 Mbps) and as well as a low-speed (up to 1.5 Mbps) serial transmission and reception between the host and serial devices. Both the host and devices can function in a system. Three standard protocols for USB are USB 1.1 (a low speed 1.5 Mbps 3 meter channel along with a high speed 12 Mbps 25 meter channel), USB 2.0 (high speed 480 Mbps 25 meter channel), and wireless USB (high speed 480 Mbps 3 m). \n\nA library program for USB serial interface protocol enables direct use for USB bus connected host system and serial devices. \n\nUSB bus uses tree topology. A host connects to the devices or nodes using a USB port driving software and a host controller. The host computer or system has a host-controller, which connects to a root hub. A hub is one that connects to other nodes or hubs. A tree-like topology forms in which the root hub connects to the hub and node at level 1 and a hub at level 1 connects to the hub and node at level 2 and so on. \n\nUsing the IEEE 1394 Bus Standard (FireWire) Protocol \n\nDigital video cameras, digital camcorders, Digital Video Disk (DVD), set-top boxes, high- definition audio-video and music systems multimedia peripherals, latest hard disk drives, and printers need a high-speed bus standard interface directly to a personal computer. IEEE 1394 is a standard for 800 Mbps serial isosynchronous data transfer. Isosynchronous means that bits in data frame communicate synchronously, but frames in-between time interval can be variable. \n\nUsing the MOST Protocol \n\nThe communication functionality is provided by a driver software called MOST network services. The services are service programs. The software for processing the MOST protocol communication between a MOST Network Interface Controller (NIC) and devices. \n\nSensors, Participatory Sensing, RFIDs and Wireless Sensor Networks 265 \n\nThe services enable a user to directly use these service programs, such as communicating media files using MOST NIC. \n\nMOST protocol enables high-speed serial bus for synchronous data communication. It forms a multimedia network optimised for automotive and other industries. The MOST bus uses a ring topology. \n\nReconfirm Your Understanding \n\n\u25cfEach serial interface uses a serial communication protocol. A microcontroller includes serial communication interfaces using UART and serial protocols, such as I2C, CAN. \n\n\u25cfSensor circuits send serial data on a serial bus using UART, SPI or I2C or CAN protocols. \n\n\u25cfAutomotive sensors communicate serial data using LIN, CAN and MOST serial protocols. \n\n\u25cfA UART device sends 10-bits for each 8-bit data (character or digit or command) at successive intervals. \n\n\u25cfRFID UART interface communicates 12 characters, i.e. one start, 10 for ID and one end character. \n\n\u25cfA software serial library is provided in the Integrated Development Environment (IDE) for a microcontroller system. The library consists of a number of programs. A distinct program exists for use during communication using a serial interface protocol. \n\n\u25cfBus enables a number of interfaces connected through a common set of lines. \n\n\u25cfA USB is used for serial synchronous communication to computer, tablet, mobile and other devices. \n\n\u25cfMOST protocol communication enables multimedia file transfers in automobiles. \n\nSelf-Assessment Exercise \n\n1. How many characters of 8-bit each can transfer in 1 s when baud rate in UART \n\nserial communication is 1.2 kbaud per second? 2. How many characters communicate when an RFID UART communicates the \n\nID of 10 ASCII characters to a reader? 3. How is a software serial library used? 4. List the features of the following serial protocols: UART, I2C, USB, CAN, LIN, \n\nIEEE 1394 and MOST. 5. Draw a diagram for using a microcontroller I2C bus interface and I2C bus \n\nfor environment parameters temperature, barometric pressure, humidity and organic solvent vapour leakage sensors. 6. List the LIN applications in an automobile network of electronic control units. 7. How and when is a USB bus used? 8. When are the following serial protocols: UART, I2C, USB, CAN, LIN, IEEE \n\n1394 and MOST used? \n\n\u2605 \n\n\u2605 \n\n\u2605\u2605 \u2605\u2605\u2605 \n\n\u2605\u2605 \n\n\u2605 \u2605 \u2605\u2605\u2605 \n\n\n![Image](/src/assets/generated_images/iot2_p292_i0.png)\n\n266 Internet of Things: Architecture and Design Principles \n\n7.6 RADIO FREQUENCY IDENTIFICATION TECHNOLOGY \n\nSection 1.5.2 introduced RFID, its functions, role and IoT applications. RFID is an identification system using tagging and labelling of objects. The following subsections give a detailed description of RFID technology. \n\n7.6.1 RFID IoT Systems \n\nSection 2.3.1 described the RFID wireless communication. A tag enables identification of an object at different locations and times. A product, parcel, postal article, person, bird, animal, vehicle or object can have a tag or label in order to make the identification feasible. \n\nThe reader circuit of an ID can use UART or NFC protocol to identify the tag, when the RFID tag is at a distance less than 20 cm. An active NFC device/mobile generates an RF field which induces the currents in RFID and generates enough power for RFID. Using that power, the RFID transmits the identification of tag contents. \n\nPassive device drives power from the electrical current induced in its antenna by the incoming RF signals from a reader or hotspot, and then transmits the tag information back. The active device has an in-built power source (battery) and transmits the information on its own. \n\nA hotspot consists of a wireless transceiver or Wi-Fi transceiver for Internet connectivity. It receives signals from a number of RFID tags in an organisation and transmits the data to the web server over the Internet. The hotspot connects to the Internet for IoT services, applications and business processes. A mobile or wireless nearby the device can also function as a hotspot. \n\nRFIDs form an IoT network. They connect to the Internet and then to an IoT server. An IoT server consists of RFID identity manager, device manager, data router, analyser, storage and database server and services. \n\nPrinciple of RFID \n\nA tag is an electronic circuit which transmits its ID using RF signals. The ID transmits to a reader, then that transmits along with the additional information to a remote server or cloud connected through the Internet. The additional information is as per the application. For example, for a tracking application, it is location and time-stamped data along with the ID. Example 7.13 gives the methods for communication of an ID from a tag and its reading by a reader. \n\nExplain the Radio Frequency Identification (RFID) \n\ntechnology \n\nLO 7.5 \n\nRFID device functions as a tag or label which may be placed over an \n\nobject \n\nSensors, Participatory Sensing, RFIDs and Wireless Sensor Networks 267 \n\nExample 7.13 \n\nProblem How does an RFID tag communicate and is read by a reader? \n\nSolution \n\n\u25cfMethod 1: Communication is according to UART protocol of 10-bit per character. Reading RFID tag for processing is as follows\u2014the tag circuit communicates first a header, which corresponds to ASCII code for a carriage return. The code is 13d. Then ten digits (bytes) communicate which correspond to unique tag ID. The end byte is for communicating the finishing of data. The byte corresponds to new line ASCII code. The code is 10d. Twelve bytes communicate serially. \n\n\u25cfMethod 2: Communication is according to NFC or another protocol, for which the ID reader is adapted. \n\nAn RFID tag has an advantage over a barcode or QR code in terms of simpler processing of the RFID data. It can also be made invisible to a person. This is because it uses short- range RF transceivers instead of light or laser. The tag transmits back a short string of data to reader. The RFID reader picks the RF and communicates to the Internet or remote web server or cloud server. An active system can transmit to the reader at longer range compared to a passive system. An active system can receive commands, process and then send information compared to no actions except sending the ID in the passive system. \n\nRFID IoT Network Architecture \n\nExample 2.2 explained a four layered ITU-T reference model for the Internet of RFIDs, individual capabilities of the layers and data interchange. Fourth layer capabilities  are for IoT/M2M services and applications. RFID technology has many applications. \n\nRFID IoT Applications \n\nExamples are tracking and inventory control of goods, supply chain systems, business processes such as for payment, leasing, insurance, and quality management, access to buildings and road tolls or secured store centre entries, and devices such as RFID based temperature or any other parameter sensor. New applications of RFID network have been found in designing a factory, protecting a brand and anti-counterfeiting measures. \n\nComponents of an RFID System \n\nFigure 7.15 shows the components needed in a system for IoT applications and services. \n\nThe components of an RFID system are: RFID is a tiny chip which functions as a tag or label onto an object. The chip is one of three types\u2014passive, active and battery- powered passive (battery switches when reader is nearby). \n\nA transceiver is in-built at the chip. It communicates in a range 10 cm to 200 m according to the chip. The chip does UART communication to the reader either using RF link or does NFC \n\nComponents of an \n\nRFID system are the tag, transceiver, reader, data processing subsystem, middleware, \n\nand applications and \n\nservices \n\n268 Internet of Things: Architecture and Design Principles \n\ncommunication to the reader within 20 cm range; standard frequency range used can be between 120 kHz to 150 kHz, 13.56 MHz, 433 MHz, higher when using UHF and microwave frequencies. Transceiver using RF frequencies recommended by Regulator has the data transfer rate of 115 kbps using carrier RF signals from 915 MHz to 868 MHz, 315 MHz or 27 MHz. \n\nA nearby RFID reader for receiving ID uses the transceiver within it. It receives the header which consists of 1 start byte, then 10 byte ID and then one end byte when using the UART protocol. Hotspot, mobile or computer with wireless transceiver or Wi-Fi transceiver transmits and receives signals from the RFID tag. \n\nData processing subsystem: A reader associates a data processing subsystem which consists of a computing device and a middleware and provides connectivity to the Internet, directly or through a gateway which includes a data adaptation sublayer. The subsystem is a backend system. A reader circuit may send data directly or through a computer, mobile or tablet to the Internet. The computations for transmission (of the contents information of tagged device) are usually little. Example of a reader is SparkFun SEN-08419 for prototype developments. \n\nMiddleware: Middleware are software components used at the reader, read manager, data store for the transaction data store and APIs of the applications. \n\nInternet \n\nReader \n\nRFID \n\nAPIs \n\nRFID \n\nReader \n\nMiddleware \n\nTxRx \n\nTxRx \n\nComputing \n\nDevice \n\nHotspot \n\nTxRx \n\nTxRx \n\nDatacenter/ \n\nCloud/ Web Server \n\nData Store \n\nIoT Applications \n\nand Services \n\nFigure 7.15 Components needed in a system for RFID IoT applications and services \n\nSensors, Participatory Sensing, RFIDs and Wireless Sensor Networks 269 \n\nApplications and services and other associated applications software use the data store at the cloud or web server. \n\nIssues \n\nThe issues are: \n\n\u25cfDesign issue: Designing a unique ID system needs a standard global framework. \n\n\u25cfSecurity issue: A tag is read only. It can thus interact with any reader and thus allows automated external monitoring. A tag can thus be tracked without authority. A privacy issue arises when a tag and reader need not to be authenticated before their use. Full implementation of privacy and security needs data processing at the tag and reader with access encryption and authentication algorithms. Another issue is that the RFID system can be vulnerable to external virus attacks. \n\n\u25cfCost issue: RFID tag and reader become costly with data processing and security enhancing technology. \n\n\u25cfProtection issue: The tag needs protection from the adverse weather condition which may damage the tag. \n\n\u25cfRecycling issue: Recycling of the tags can be an environmental concern. \n\n\u25cfActive life issue: Active RFID, which consists of battery, has limited life of up to 2 to 4 years. \n\n7.6.2 EPCglobal Architecture Framework \n\nMIT Auto-ID Labs is a group which consists of research laboratories of seven universities. The group has designed an architectural framework for IoTs. The group works in the field of networked RFIDs and emerging sensing technologies. The group works together with EPCglobal research group. \n\nThe group has suggested the Electronic Product Code (EPC) standards, roles and architecture. The goal of the EPCglobal architecture framework is assignment of a unique identity. The framework facilitates business processes, applications and services uniquely identifying physical objects, loads, locations, assets and other entities. \n\nEPCIS and ONS, Design Issues \n\nEPC Information Services (EPCIS) is a design of EPC global standards which enables EPC- related data sharing within and across enterprises. \n\nThe EPC global architecture defines the following: \n\n\u25cfEPCIS Capturing Application (ECA) for capturing EPC-related data required for business processes \n\n\u25cfEPCIS Accessing Application (EAA) for enterprise business processes supported by data captured using ECA \n\n\u25cfEPCIS-enabled Repository for storing records of events and for retrieving information using queries from EAA \n\nEPCglobal is a standard architecture \n\nframework, which uniquely identifies physical objects, loads, \n\nlocations, assets and \n\nother entities \n\n270 Internet of Things: Architecture and Design Principles \n\n\u25cfPartner applications such as postal tracking system connected with payment systems. Object Name Service (ONS) version 2.0.1 is a standard recommended in 2013. The ONS performs the lookup functions which are based upon the DNS. A DNS name enables connectivity to the web server using the Internet. ONS implements that function using a distributed set of servers. DNS is Domain Name System governed by IETF. Lookup function refers to looking at the DNS name for enabling the web server connectivity. \n\nONS characteristics are robustness, less needs of power and memory at the tag circuit and less wireless bandwidth need for the data communication. Functions of data communication use a backend network, such as a hot-spot or Wi-Fi device. Transfer of the data communication task to the backend network saves the wireless bandwidth. \n\nDesign issues include governance model and architecture of the ONS. The concerns involved are: \n\n\u25cfPolitical for control over information \n\n\u25cfCapability issue of loss of domestic and strategic capability \n\n\u25cfSecurity issue of collecting business intelligence \n\n\u25cfCommercial issues \n\n\u25cfInnovation control issues This joint control by countries of ONS model can handle and mitigate the risks which associate the single-country control. \n\nTechnological Challenges \n\nRFID technology challenges are as follows: \n\n\u25cfInterference: When an organisation uses a number of wireless systems, since RFID hotspot also requires wireless installation, the frequencies may interfere among the systems. The systems require effective mitigation from interference. \n\n\u25cfEffective implementation at data processing subsystem consisting of reader and tag protocols, middleware architecture and EPC standards \n\n\u25cfNeed of low cost tags and RFID technology \n\n\u25cfDesign robustness \n\n\u25cfData security \n\nSecurity Challenges \n\nThe issues associated with RFID security are: \n\n\u25cfDiscovery of foreign attacks (intrusions) and maintain overall data integrity \n\n\u25cfUnauthorised disabling of a tag by a reader which is external, thus making the tag useless \n\n\u25cfUnauthorised tag manipulation by a reader which is external, thus making the tag useless \n\n\u25cfCloning of the tag by an unauthorised entity \n\nONS enables web connectivity to web \n\nserver by lookup functions based on the \n\nDNS \n\nSensors, Participatory Sensing, RFIDs and Wireless Sensor Networks 271 \n\n\u25cfEavesdropping, which means setting up an additional reader pretending to be a reader belonging to the system \n\n\u25cfMan-in-the-Middle attack: When an external object pretends to be either a tag or reader between system tags and readers Solutions can be encryption, tag deactivation on detection of intrusion, mutual authentication between the tag and reader, detection of the tag owner, use of read data analyser and data cleaning. Example 7.14 gives the methods for solving security issues. \n\nExample 7.14 \n\nProblem How does an RFID tag securely communicate and read by a reader? How is an RFID tag secured? \n\nSolution \n\nMethod 1: An RFID tag may have a processor and memory. Then it computes one-way hash function called meta ID on tag. When the RFID reader uses the meta-ID, then only the tag communication unlocks and the tag becomes readable. After the reader finishes reading, the tag gets locked. This disables reading by unknown entities to the system. \n\nMethod 2: The tag can self-destruct if under attack. \n\nIP for an RFID in Internet of RFIDs \n\nData from the RFID reader after filtering, aggregation and routing get stored at an IP address. This data is in XML format. Data accesses using HTTP and SOAP protocols. \n\nInternet protocol (IP), IPv6 is 128-bit IP address, which is required for routing data on the Internet. It needs to be mapped with the 96-bit EPC. The EPC is header, manufacturer, product and serial number bits. \n\nA method for secure IPv6 communication is the use of Cryptographically Generated Addresses (CGAs). A host suffix/interface identifier generates a cryptographic one-way hash function. The function input is a public key as binary input. CGA is meant to be globally unique in a statistical sense. CGAs may, however, not be workable routing addresses at the IP layer for RFID IoT system. \n\nAnother method is Overlay Routable Cryptographic Hash Identifiers (ORCHID). It is a newly suggested class of identifiers. The identifier is based on CGAs. The ORCHID format is compatible to IPv6-like address format. \n\nThe ORCHID identifier is used just by the APIs and applications. It differs for IPv6 address. It does not identify the network locations, while IPv6 has locator which is 64-bit network prefix. \n\n7.6.3 Web of Things of RFIDs \n\nWeb of Things (WoT) means making objects a part of the World Wide Web. WoT software, architecture styles such as JSON, REST, JSON, and programming patterns such as web sockets, makes this feasible. WoT data store of objects is similar to web pages store. The \n\n272 Internet of Things: Architecture and Design Principles \n\nweb (application layer) receives and sends data using the Internet (IP network layer). WoT enables IoT applications for the RFIDs also as RFID enables identification of each object distinctly on the web. \n\nReconfirm Your Understanding \n\n\u25cfA tag is an electronic circuit which transmits its ID using RF signals. The ID transmits to a reader which associates a computing device and connects to the Internet. \n\n\u25cfRFID forms the IoT network using the computing system which connects to the Internet and then to IoT server. \n\n\u25cfRFID system components for IoT applications and services are RFID tag with transceiver; reader with associated computing device and transceiver; hotspot or mobile of computer for Internet connectivity; middleware, and applications and services. \n\n\u25cfMiddleware consists of RFID identity manager, device manager, data router, analyser, storage and database server and services. \n\n\u25cfExamples of IoT applications of RFIDs are for tracking and inventory control, identification in supply chain systems, business processes, RFID based temperatures or any other parameter sensor, in factory design, brand protection, and anti-counterfeiting and business processes. \n\n\u25cfDesign, security, cost, protection, recycling and active life are issues in IoT RFID applications and services. \n\n\u25cfEPCglobal architecture framework assigns a unique identity for business processes. Applications and services uniquely identify physical objects, loads, locations, assets and other entities using the framework. \n\n\u25cfEPC Information Services (EPCIS) is a design of EPCglobal standards which enables EPC-related data sharing within and across enterprises. \n\n\u25cfONS performs the lookup functions based upon the DNS. DNS name enables web server Internet connectivity using HTTP, REST, webSockets and Internet protocols. \n\n\u25cfTechnological challenges are wireless interference, implementing data processing subsystems, reducing system components\u2019 costs, robust system design and security of the system components. \n\n\u25cfData security solutions can be encryption, tag deactivation on intrusion detection, mutual authentication between the tag and reader, detections of the tag owner, reader analyser and data cleaning. \n\n\u25cfRFID IoT system 128-bit IPv6 address can be generated using CGA. \n\n\u25cfORCHID is a newly suggested class of identifiers with a format compatible to IPv6-like address format. \n\n\u25cfWeb of Things means making objects data and object applications and services a part of the World Wide Web. \n\nSelf-Assessment Exercise \n\n1. How is an RFID identified for IoT applications? 2. Why does the RFID tag not create a network on its own? Why does it need a \n\nnearby reader for creating a network of RFIDs? 3. Show the RFID IoT system components for the parcel tracking applications \n\nand services using a diagram. \n\n\u2605\u2605 \u2605\u2605\u2605 \n\n\u2605 \n\n\n![Image](/src/assets/generated_images/iot2_p299_i0.png)\n\nSensors, Participatory Sensing, RFIDs and Wireless Sensor Networks 273 \n\n4. List the examples of RFID tags IoT applications and services. 5. List the middleware functions required for the RFID IoT applications and \n\nservices. 6. What are the technological issues in RFID IoT system design? 7. List the security issues in using the RFIDs IoT. 8. What are the features of EPCglobal architecture framework? 9. Why is EPCIS required? 10. How does an object data communicate and store at a web server using ONS? 11. How is the IPv6 used for the RFID objects using ORCHID? 12. How is the web of things implemented? \n\n\u2605\u2605 \n\n\u2605 \n\n\u2605 \u2605 \u2605 \n\n\u2605\u2605 \u2605\u2605\u2605 \u2605\u2605\u2605 \n\n7.7  WIRELESS SENSOR NETWORKS \n\nTECHNOLOGY \n\nA set of sensors can be networked using a wireless system (Section 1.5.3). They cooperatively monitor the physical and environmental conditions, such as temperature, sound, vibration, pressure, motion, or hazardous gas-leaks and pollutants at different locations. A WSN acquires data from multiple and remote locations. For example, in Internet of Waste Containers, the sensors wirelessly communicate the waste containers statuses in a waste management system in a smart city; sensors in Internet of Streetlights acquire data of ambient light conditions; and a WSN communicates the nearby traffic densities data for the control and monitoring of traffic signals. \n\nEach node of the WSN has an RF transceiver. The transceiver functions as both, a transmitter and receiver. \n\nFollowing subsections define WSN and describe its history, context, and architecture, and nodes, connecting the nodes, networking of the nodes and securing the communication. The subsections also describe establishment of a WSN infrastructure, data-link layer MAC protocols, routing protocols, various integration approaches, challenges of security, QoS and configuration, and WSN specific IoT applications. \n\n7.7.1 WSN Concepts \n\nDefinition \n\nWSN is defined as a network in which each sensor node connects wirelessly and has the capability of computation, for data compaction, aggregation and analysis. Each one also has communication as well as networking capabilities. A WSN consists of spatially distributed autonomous devices (sensors). \n\nExplain the Wireless Sensor \n\nNetwork (WSN) \n\ntechnology \n\nLO 7.6 \n\n274 Internet of Things: Architecture and Design Principles \n\nWSN History \n\nSound-waves-based surveillance and tracking systems for enemy submarines were used in the 1950s. Wireless-based networked radars were also used during this time. Research on the Distributed Sensor Networks (DSN) using network communication started before 1980. The DSNs are in use since then. Many spatially distributed sensing nodes collaborate and network autonomously on best effort basis. Research and applications of Low Power Wireless Integrated Micro-Sensors (LWIM) use in DSNs is ongoing since 1998. \n\nWSNs have a large number of IoT applications. Examples are smart homes and smart city. The WSN nodes can sense and communicate, using the Internet, wirelessly the data from remote locations, such as industrial plant machines, forests, lakes, gas or oil pipelines, which may sometimes not be easily accessible. \n\nContext-based Node Operations \n\nThe dictionary meaning of the word \u2018context\u2019 is \u2018the circumstances that form the setting of an event, statement, or idea, and in terms of which it can be fully understood. A WSN node can adapt, re-program or do another task using a sensor and associated circuit, computations, networking capabilities and context at that node. \n\nWhen nodes can adapt their operations in response to changes in the environment, then it is called context-dependent sensing, networking and computing. The application layer programs help the node to differentiate the tasks to be undertaken on a changed context. \n\nThe selection of data, memory, power and routing path management, the routing protocol, users, devices and application interfaces in the WSN system can be programmed to function as per the context, and consider the circumstances during networking and computations. \n\nContext can be a physical, computing, user, structural or temporal context. Following may correspond to the context for re-programming of the actions of the WSN nodes: \n\n\u25cfPast and present surrounding situations \n\n\u25cfActions such as the present network \n\n\u25cfSurrounding devices or systems \n\n\u25cfChanges in the state of the connecting network \n\n\u25cfPhysical parameters such as present time of the day \n\n\u25cfNearest connectivity currently available \n\n\u25cfPast sequence of actions of the device user \n\n\u25cfPast sequence of application or applications \n\n\u25cfPreviously cached data records \n\n\u25cfRemaining memory and battery power at present A WSN reprogramming can be Over-The-Air (OTA), which means wirelessly modifying the codes in flash memory through an access point by the gateway,  application or service. \n\nExample 7.15 shows how nodes, coordinators and routers take into account and adapt their tasks according to a context. \n\nSensors, Participatory Sensing, RFIDs and Wireless Sensor Networks 275 \n\nExample 7.15 \n\nProblem How is the context taken into account by the WSN nodes, network coordinators and routers? \n\nSolution \n\nAssume a set of WSN nodes sensing the environment conditions, which includes the detection of hazardous goods or gases in an industry. As soon as a sensor senses a hazardous good, the node discovers the paths and protocols available for broadcasting the newly sensed information. The nodes coordinate with each other to send the information towards the destination. Assume a WSN in a forest tied with a bird or mule or another object. The node can follow any direction and reach any location at different instances. When the node finds another node in the WSN, it shares the information. When any node of a WSN senses and discovers wireless radiation from an access point, it off- loads the collected data. The access point sends that on the Internet or to another coordinating WSN with another set of node. Further, the node battery can also accumulate the charge from the radiations of the access point. \n\nAssume a wireless sensor node may extend the interval for temperature or other data transmission when it senses low memory or power availability. When the node completes the off-loading of the data and recharges at the access point or coordinating node of WSN clusters, it may reduce the interval for temperature measurements. \n\n7.7.2 WSN Architecture \n\nWSN Node Architecture \n\nFigure 7.16 shows the three-layer architecture of a node. The three layers are application layer, network layer (serial link with data-link MAC), physical cum data-link layer (MAC + Physical Layer). \n\nPackets \n\nNetwork Layer \n\nSensor \n\nTransceiver Wireless Network \n\nWireless Radio Circuit + Antenna \n\nSensor Node CPU + Program \n\nData Adaptation Physical cum Data-link Layer \n\nApplication Layer \n\nCommunication Subsystem \n\nMAC + Physical \n\nFigure 7.16 Architecture of a wireless sensor node \n\nThe application layer software components are sensor management, sensor query and data dissemination, task assignment, data advertisement and application-specific protocols. \n\n276 Internet of Things: Architecture and Design Principles \n\nSensor, CPU and program sensor node constitute the application and network layers. Network layer links serially to the data-link layer, and may include the coordination or routing software. A serial link interconnects the layers to a wireless radio circuit and antenna. The radio circuit is at physical cum data-link layer. Communication subsystem uses MAC and physical protocols. \n\nArchitecture for Connecting Nodes \n\nFigure 7.17 shows two architectures for connecting WSN nodes, fixed connecting infrastructure of WSN nodes, coordinators, relays, gateways and routers, and mobile ad- hoc network of WSNs, access points, routers, gateways and multi-point relays. \n\nAn access point is a fixed point transceiver to provide the accessibility to nodes present nearby or nodes reaching in the wireless range. A multipoint relay connects to other networks such as the Internet or mobile service provider network. A router\u2019s role is to select a path for packet transmission among the presently available paths in the network. A coordinator provides the link between the two networks. \n\nWSN1 \n\nInternet \n\nWSN2 WSN3 WSN4 \n\nRouter or Gateway \n\nWSN1 \n\nAccess Point Router or Gateway \n\nWSN4 \n\nWSN3 \n\nWSN2 Internet \n\nCoordinating WSN Node \n\nMulti-Point Relay \n\nMulti-Point Relay \n\n(ii) Ad-hoc network of mobile WSNs \n\n(i) Fixed Connecting Infrastructure \n\nFigure 7.17  Architecture for connecting WSN nodes: (i) Fixed connecting infrastructure of WSN nodes, \n\ncoordinators, relays, gateways and routers and (ii) Mobile ad-hoc network of moving WSNs \n\nFixed infrastructure example is a smart home network consisting of WSNs at security surveillance points, refrigerator, air conditioner, microwave, TV and computers with Wi- Fi access point. Another example is WSN nodes, access points, routers, gateways and multi-point relays. At an industrial plant, multiple machine locations, stores, offices, sales and receipts and other plant locations. \n\nSensors, Participatory Sensing, RFIDs and Wireless Sensor Networks 277 \n\nAd-hoc infrastructure example is mobile WSNs tied with birds or animals for habitat monitoring. \n\nArchitecture for Networking of the Nodes \n\nTwo basic architectures for networking of the nodes are layered architecture and multi- cluster architecture. \n\nWireless Multi-Hop Infrastructure Network Architecture (MINA) \n\nMINA is a layered architecture. The WSN nodes have data sensing as well as capabilities of forwarding towards the access point (base station). The nodes can be mobile and have coverage and mobility range for communication to remote access points. \n\nAccess points possess data gathering and processing capabilities and have connectivity with a larger network, such as the Internet. Figure 7.18 shows layered architecture. \n\nEach node connects to a short-distant neighbour. When the node moves to longer distances then it communicates through 2 or 3 hops to the access point (base station). Each node has low-power transceivers to the nearest neighbouring layer WSNs. \n\nWSN5 \n\nInternet \n\nWSN2 \n\nWSN1 \n\nWSN3 \n\nRouter or Gateway \n\nWSN6 \n\nLayer 2 (Two Hop \n\nWSNs) \n\nLayer 3 (Three Hops WSN) \n\nLayer 3 (Three Hops \n\nWSN) \n\nWSN4 \n\nLayer 1 (One Hop \n\nWSN 1) \n\nLayer 1 (One Hop \n\nWSN 6) \n\nAccess Point (Base Station) \n\nFigure 7.18 Layered Architecture for network of nodes \n\nAssume that the base station is surrounded by three layers of WSNs. Layer 1 WSNs directly connect. Layer 2 WSNs first connect to layer 1 WSNs functioning as coordinators and then directly connect. Layer 3 WSNs first connect to layer 2 WSNs functioning as coordinators, then connect to layer 1 WSNs and then connect to the access point. \n\nThe figure shows that layer 1 WSN1 and WSN6 connect directly to the access point. It means hop count = 1. The figure also shows WSN 2 and WSN 3 at layer 2. They connect by one hop to WSN1 and next hop through WSN1. Hop count = 2 for layer 2. It means that WSN 2 connects to WSN1 which has connectivity with the access point (base station). \n\n278 Internet of Things: Architecture and Design Principles \n\nThe figure also shows WSN 4 and WSN 5 at layer 3. They connect by three hops, one to layer 2 WSN and then layer 1 WSN and then to the access point. Hop count = 3 for layer 3. It means that WSN 5 connects to WSN2, then to WSN1 and then the access point (base station). WSN 4 connects to WSN3, then to WSN1 and then the access point (base station). Access points connect the clusters using wireless LAN (802.11b) protocol. The access points enable connectivity to the Internet. Sensor data is archived and can be queried in real-time, and users with mobile devices and remote clients can access the data. \n\nMultiple Clusters Architecture \n\nEach cluster has a gateway node. A set of clusters with a gateway each has one cluster with a cluster-head gateway. Multi-cluster architecture has a number of clusters, which associate a cluster-head gateway. \n\nCluster-head enables a tree-like topology of the clusters in a multi-cluster architecture. The cluster formation and election of cluster-heads is autonomous in distributed WSNs and WSN clusters. Figure 7.19 shows a multi-cluster architecture. The figure shows two clusters. The figure also shows a cluster-head gateway. Head gateway connects to the Internet or cellular of other networks and provides connectivity to WSNs in the multiple clusters. \n\nWSN8 \n\nGateway \n\nInternet \n\nWSN7 \n\nWSN5 \n\nWSN6 \n\nWSN9 \n\nWSN10 \n\nGateway \n\nWSN2 \n\nWSN1 \n\nWSN3 \n\nWSN4 \n\nCluster Head Gateway \n\nCluster 2 \n\nCluster 1 \n\nFigure 7.19 Multi-cluster architecture for network of nodes \n\nA number of clusters associated with the cluster-head gateway depends on the coverage required in the network. When a cluster-head exists then a gateway interconnects two clusters. Each node connects to a short-distant neighbour. The node connects to a gateway node through one, two or more hops when it connects to the WSN of another cluster. When a node moves to longer distances then it communicates to the neighbouring cluster through the gateway. \n\nSensors, Participatory Sensing, RFIDs and Wireless Sensor Networks 279 \n\nCluster 1 is an ad-hoc network of mobile WSNs (WSN 1 to WSN5). The WSNs in a cluster may have mesh architecture or layered architecture. Each WSN connects to another WSN in its wireless range. Cluster 2 is an ad-hoc network of mobile WSNs (WSN 6 to WSN10). \n\nClustered architecture enables data compaction or fusion and aggregation. A gateway communicates compacted or aggregated data to another cluster. A cluster-head further aggregates, compacts or fuses the data before communication to the web server or cloud using the Internet. \n\n7.7.3 WSN Protocols \n\nNetwork protocols have design goals as: (i) limit computational needs, (ii) limit use of battery power and thus bandwidth limits, operation in self-configured ad-hoc setup mode and (iv) limit memory requirement of the protocol. \n\nThe physical layer does adaptive RF power control at the transceiver; reduces power in case of nearby node, increases the power when the nearest node is at a greater distance, uses CMOS low power ASIC circuits and energy-efficient codes. \n\nData-link Layer Media Access Control (MAC) Protocol \n\nS-MAC (Sensor-MAC) protocol can be deployed at the data-link layer. S-MAC nodes go to sleep for prolong periods. They need to synchronise at periodic intervals. \n\nS-MAC protocol enables use of the energy-efficient, collision-free transmission, and intermittently synchronises the operations. Collision-free transmission results from scheduling of a channel. Each node can be allocated the channel. Channels are reused such that collision-free transmission takes place and retransmission is not resorted to. \n\nRouting Protocols \n\nThe network layer uses multi-hop route determination, energy-efficient routing, route caching and directed diffusion of data. \n\nRouting protocols are either proactive or reactive. Proactive protocols keep route cache and determine the route in advance. Reactive protocols determine the route on demand. Routing protocols are table-driven when a routing table guides the paths available. Routing protocols are demand-driven when a source demands the route and it guides the paths available. \n\nFixed Wireless Sensor Networks may use Cluster-head Gateway Switch Routing (CGSR) which guides the paths using heuristic routing schemes. \n\n7.7.4 WSN Infrastructure Establishment \n\nWhen a WSN infrastructure establishes the following steps which need consideration: \n\n\u25cfSensors with associated CMOS low power ASIC circuits, their radio ranges and energy-efficient coding \n\n280 Internet of Things: Architecture and Design Principles \n\n\u25cfInfrastructure selection, (i) fixed connecting infrastructure of nodes, coordinators, relays, gateways and routers, or (ii) mobile ad-hoc network of mobile WSNs with limited or unspecified mobility region \n\n\u25cfNetwork topology and architecture according to the applications and services, wireless multi-hop infrastructure network architecture or multi-cluster architecture \n\n\u25cfNetwork nodes self-discovering, self-configuring and self-healing protocols, localisation, mobility range, security, data-link and routing protocols, link quality indicator (LQI) (packet reception ratio), coverage range, and QoS required according to applications and services \n\n\u25cfClusters, cluster gateways, cluster-heads and clusters hierarchy \n\n\u25cfRouting, data aggregation, compaction, fusion and direct diffusion \n\n\u25cfSynchronisation of times at intermittent intervals as time is used as reference in inter- node distance estimation, accounting for the delays, localisation, ranging and location services. \n\nWSN Various Integration Approaches \n\nWSN needs integrated approaches for: \n\n\u25cfNodes design and provisioning of resources \n\n\u25cfNodes localisation \n\n\u25cfNodes mobility \n\n\u25cfSensor connecting architecture \n\n\u25cfSensor networking architectures \n\n\u25cfData dissemination protocols \n\n\u25cfSecurity protocols \n\n\u25cfData-link layer and routing protocols \n\n\u25cfIntegration with sensors data, other than wireless sensors data, for IoT applications and services \n\nQuality of Service \n\nQuality of Service (QoS) is an average weighted QoS metric over the lifetime of a network. Several metrices are as follows: (i) Average delay: Measure of the time taken in generation of sensor data and its delivery up to the destination, (2) Lifetime: Time up to which the WSN functions effectively or given energy resources of the modes will last, (iii) Throughput: Bytes per second delivered up to the destination. Low throughput means high delays. It also relates to the bandwidth of the network, and (iv) Link Quality Indicator (LQI) which means packets delivered/packet transmitted from the nodes. \n\nReal-time applications of communication over the WSNs sensor networks need provision of guaranteed specifications for maximum delay, minimum bandwidth or other QoS parameters. \n\nChallenges of high QoS are (i) routing through nodes of high throughputs, lower delay and paths which use low energy resources, (ii) link and (ii) maintaining the product of priority and delay, which means higher priority packets take lower delay paths and lower priority packets take higher delay paths. \n\nSensors, Participatory Sensing, RFIDs and Wireless Sensor Networks 281 \n\nA metric is the coverage of a sensor network. The coverage depends on the density and locations of the nodes in the region, communication range and sensitivity of the nodes. Another metric is percentage of times the network cover occurrence of an event in case of surveillance systems, hazard chemicals or fire-detection systems. \n\nConfiguration \n\nChallenges of configuring in view of resource constraints with the nodes statically or dynamically or self-automatic are the following: (i) locations and mobility range of the WSN nodes, (ii) clusters, (iii) gateways, (iv) cluster-heads, (v) sampling rate of the sensed parameters and (vi) their aggregation, compaction and fusion. \n\nChallenges are to be met with limited battery power, storage, computation capability, bandwidth and scalability limit on the nodes. \n\n7.7.5 WSN Nodes Secure Communication \n\nSensor networks need secure communication for data privacy and integrity. Authentication ensures data from the sensing node only, maintains data integrity and disables the communication of messages from unauthenticated sources. Privacy ensures data secrecy and eavesdropping (entering without permission). \n\nBerkeley laboratories suggested SPINS (Security Protocols in Network of Sensors). SPINS use the symmetric cryptographic protocol because of the following reasons\u2014an asymmetric cryptographic method which has high overhead in term of memory and computations for digital signatures, key-generation and verification. It also has high memory requirements and communicates higher number of bytes compared to the symmetric method. \n\nSPINS is a suite of security protocols for the sensor networks which are: (i) Secure Network Encryption Protocol (SNEP) and (ii) micro-Tesla (m-Tesla). SPINS use block cipher encryption functions. \n\nSNEP enables secure point-to-point communication. It ensures data privacy and integrity. It secures communication after authentication process. It does not require message replay, thus message remains fresh. \n\nAccess point distributes session key to A and B using SNEP. Two nodes, A and B, share six keys. The encryption keys, KAB and KBA, Cipher-block-chaining Message Authentication Code (MAC) keys, KAB and KBA, and counter keys, CA, CB are the shared keys. MAC ensures message integrity and privacy. . \n\n\u25cfm-TESLA is light-weight version of TESLA. It enables authenticated broadcasting. The authentication is micro-timed and efficient. It results in stream-loss tolerant secure authentication. \n\nm-TESLA. First a packet is listened and considered as a parent. It is authenticated later. This makes secure authentication stream-loss tolerant. \n\nData privacy and integrity needs and two \n\nprotocols SNEP and \n\n\u03bc-TESLA \n\n282 Internet of Things: Architecture and Design Principles \n\nDistributed sensor networks use a key management scheme, which can be (i) based on probabilistic key sharing or (ii) random key pre-distribution key sharing. \n\nLocalised Encryption and Authentication Protocol (LEAP) \n\nDifferent packets when using LEAP use different keying mechanisms. Security needs decide the mechanism. A node uses four keys: individual key, group key, cluster key and share a pair of key with the neighbour. \n\nA challenge for highly-distributed architecture with localised coordination is the implementation of goals of a system for applications and services. \n\nImplementation needs are autonomous operation, self-organisation, self-configuration, adaptation, energy conservation at physical, MAC, link, route, application layer, design of scalable node density, number and types of networks. \n\nNetwork is data-centric network and route nodes have no addressability. Three challenges, viz. security, QoS and configuring of nodes are as follows: \n\nSecurity \n\nSecurity challenges are: \n\n\u25cfHello flood attack: An attacker node sends hello messages repeatedly, and thus drains the energy of the attacked node. \n\n\u25cfSybil attack is an attack where a single node, presents itself as different entities at different times. \n\n\u25cfSelective forwarding attack is an attack when the attacker node does not forward the attacked node messages on receiving. \n\n\u25cfSinkhole attack is when an attacked node behaves as an access point and receives the messages without forwarding them. \n\n\u25cfWormhole attack is an attack where the attacker node gives false information of distances of the destinations, thus forcing the attacked node to take longer paths. The longer path has high latency and thus high delivery delays of packets. \n\n7.7.6 WSN IoT Applications \n\nWSNs are increasingly being used as a subsystem in IoT-based applications and services. WSN can function as a source of data along with other systems and connect through a gateway and access point to the Internet. \n\nAn example of WSN specific IoT application is smart home control and monitoring system (Sections 1.5.3 and 12.5.1). A connected home has the following applications deployed in a smart home: \n\n1. Mobile, tablets, IP-TV, VOIP telephony, video conferencing, video-on-demand, video- \n\nSurveillance, Wi-Fi and Internet 2. WSN nodes and wireless actuator nodes, which can be built using ZigBeeIP (Section \n\n2.3.1) are nodes for home security access control and security alerts, lighting control, \n\nSensors, Participatory Sensing, RFIDs and Wireless Sensor Networks 283 \n\nhome health care, fire detection, leak detection, energy efficiency, solar panel monitoring and control, temperature monitoring and HVAC control and automated meter reading. Figure 7.20 shows source-end cluster of ZigBee WSN and actuator nodes, coordinators and routers connected through gateway and set of RPL routers for data packets from IPv6 addresses and communicating with IoT and M2M IoT applications and services layer for data packets from IPv6 addresses. \n\nGateway \n\nCluster of ZigBee based WSN Nodes and Actuators \n\nActuator Nodes \n\nWSN Nodes \n\nActuator \n\nNode \n\nActuator \n\nNode \n\nWSN Application \n\nFramework \n\nIoT Comm. Framework \n\nRPL Comm. \n\nFramework \n\nData Consolidation \n\nFramework \n\nSource End IPv6 Addresses \n\nApplications and Services \n\nLayer Protocols \n\nApplications Support  Layer \n\nProtocols \n\nSet of RPL \n\nRouters \n\nData Center/ \n\nCloud/ Web Server \n\nData Store \n\nData of all Sensors including WSN Nodes \n\nSource End IPv6 Addresses \n\nNetwork \n\nFigure 7.20  Source-end cluster of ZigBee WSN and actuator nodes, coordinators and routers \n\nconnected through gateway and set of RPL routers for data packets from IPv6 addresses and communicating with IoT and M2M IoT applications and services layer \n\nZigBee devices form WPAN (Wireless Personal Area Network) devices in home network. WSN nodes, coordinating nodes and routing nodes can also use ZigBee protocol for physical layer wireless connectivity. ZigBee is IEEE 802.15.4 standard protocol for physical/data-link layer (Phy/MAC). \n\nZigBee IP is an enhancement for IPv6 connectivity (Section 2.3.1). ZigBee IP is enhancement with RFD. RFD (Reduced Function Device) means one that functions for the \u2018sleepy\u2019 battery-operated device. Sleepy means one that wakes up infrequently, sends data \n\n284 Internet of Things: Architecture and Design Principles \n\nand then goes back to sleep. 6lowpan refers to IPv6 over low power wireless personal area network which permits communication of IPv6 packets in a sensor network. \n\nReconfirm Your Understanding \n\n\u25cfA set of sensors can be networked using the wireless. They do cooperative monitoring of physical or environmental conditions, such as temperature, sound, vibration, pressure, motion or hazardous gas-leaks and pollutants, waste containers, home appliances and surveillance systems at different locations. \n\n\u25cfSound-waves-based surveillance and tracking systems for enemy submarines were used in the 1950s. Research and applications of low power wireless integrated micro-sensors and WSN uses are ongoing since 1998. \n\n\u25cfWSNs are subsystems which connect to the Internet using gateways. The subsystems have a number of IoT applications and services, such as for smart homes and smart cities. \n\n\u25cfWSN nodes associate with CMOS low power ASIC or microcontroller circuits, transceiver of adaptable radio ranges and coding for processing needs to be energy-efficient. \n\n\u25cfWSN infrastructure can be fixed connecting infrastructure of nodes, coordinators, relays, gateways and routers, or an ad-hoc connecting network of mobile WSNs with limited or unspecified mobility region. \n\n\u25cfThe architecture of a WSN is according to applications and services. Two basic architectures are wireless multi-hop infrastructure network architecture or multi-cluster architecture using clusters, cluster gateways, cluster-heads and clusters hierarchy. \n\n\u25cfWSN nodes and gateway do the routing, data aggregation, compaction, fusion and direct diffusion. \n\n\u25cfNetwork is a data-centric network and route nodes have no addressability. \n\n\u25cfNetwork nodes use self-discovering, self-configuring and self-healing protocols. \n\n\u25cfThree challenges are the WSN security, QoS and configuring of the nodes. \n\n\u25cfWSN issues are localisation, mobility range, security, data-link and routing protocols, link quality indicator, coverage range, and required QoS according to applications and services. \n\n\u25cfA WSN IoT application is smart home control and monitoring system (Sections 1.5.3 and 12.5.1). A connected home has number of applications deployed in the smart home. \n\nSelf-Assessment Exercise \n\n1. How does a wireless sensor circuit differ from that of a sensor? 2. How does a wireless sensor node circuit differ from that of an RFID? 3. List the context changes on which a WSN node may be configured to re- \n\nprogram. 4. Draw the three-layer architecture of a wireless sensor node. 5. What are the advantages of fixed WSN nodes infrastructure? 6. What are the advantages and characteristics of infrastructure for ad-hoc WSN \n\nnodes? \n\n\u2605\u2605 \u2605\u2605 \n\n\u2605 \n\n\u2605 \u2605 \u2605\u2605 \n\nSensors, Participatory Sensing, RFIDs and Wireless Sensor Networks 285 \n\n7. How is a fixed WSN architecture used in IoT application to waste containers \n\nmanagement system? 8. How is an ad-hoc WSN architecture used in IoT application for habitat \n\nmonitoring of birds? 9. What are the advantages of layered multi-hop WSN nodes? 10. List the security attacks in WSNs. 11. List the advantages of using SNEP and micro-TESLA for privacy and data \n\nintegrity in WSNs over security protocol, such as TLS. 12. List the design challenges of WSN security, QoS and configuring of the nodes. 13. List the security attacks in WSN. 14. List the considerations for establishing infrastructure when deploying a WSN. \n\n\u2605\u2605\u2605 \n\n\u2605\u2605\u2605 \n\n\u2605\u2605 \n\n\u2605 \u2605\u2605\u2605 \n\n\u2605\u2605\u2605 \n\n\u2605 \u2605 \n\nKey Concepts \n\n\u25cfAccelerometer \n\n\u25cfAccess point \n\n\u25cfAd-hoc network \n\n\u25cfAnalog sensor \n\n\u25cfAnalog to digital converter \n\n\u25cfAutomotive IoT \n\n\u25cfBarcode \n\n\u25cfCAN protocol \n\n\u25cfDigital sensor \n\n\u25cfEPC \n\n\u25cfFixed infrastructure \n\n\u25cfGyroscope Hotspot \n\n\u25cfI2C protocol \n\n\u25cfIndustrial IoT \n\n\u25cfMicrocontroller port \n\n\u25cfMulti-cluster architecture \n\n\u25cfMulti-hop architecture \n\n\u25cfNFC \n\n\u25cfOn-off states \n\n\u25cfParticipatory sensing \n\n\u25cfPressure sensor \n\n\u25cfQR code \n\n\u25cfQuality of service \n\n\u25cfRFID \n\n\u25cfRFID reader \n\n\u25cfSecurity \n\n\u25cfSensor node \n\n\u25cfSerial port interface \n\n\u25cfSet of on-off states \n\n\u25cfSmart home \n\n\u25cfSoftware library \n\n\u25cfTemperature sensor \n\n\u25cfTransceiver \n\n\u25cfUART \n\n\u25cfWireless sensor network \n\nLearning Outcomes \n\nLO 7.1 \n\n\u25cfMany IoT applications need data generated from sensing devices. Sensors for number of physical environments, parameters and conditions convert physical energy into electrical energy. \n\n\u25cfA complex sensor includes an output processing circuit, which possesses computing and communication capabilities. Sensing needs the microcontroller for storing, computing and communication and sensor electronic circuits. \n\n\u25cfSensors are of two types\u2014analog and digital. Sensors can sense temperature, humidity, acceleration, angular acceleration, object distance, orientation angle with respect to a fixed direction, magnetic object proximity, touch and gestures of users, motion, sound, vibrations, shocks, electric current and environment conditions. \n\n286 Internet of Things: Architecture and Design Principles \n\n\u25cfDigital sensing needs a circuit to generate 1 or 0 or binary output of 1s and 0s for storing, computing and communication. Digital sensors find wide applications. For example, sense the number of chocolates of each type of flavours remaining unsold and communicate that number to chocolate fill service. Another example is sense unoccupied parking slots. \n\n\u25cfMEMS is a micro electromechanical sensor which detects linear accelerations ax, ay and az along three axes x, y and z, respectively. \n\n\u25cfThings get sensed, identified by barcode readers or QR code, and the associated circuit communicates the object identity and object document information to the Internet. \n\nLO 7.2 \n\n\u25cfParticipatory sensing means participation of physical sensors as well other means, such as social media. Applications of participatory sensing are many, such as retrieving weather and environment information. It can be used to retrieve information about pollution, waste management, road faults, individual and group of personal health, traffic congestion, urban mobility or disaster management such as flood, fire etc. \n\n\u25cfIndustrial Internet of Things (IIoT) is the use of IoT technologies in manufacturing and predictive maintenance. IIoT integrates complex physical machinery M2M communication with the networked sensors, and uses of software, analytics, machine learning and knowledge discovery. \n\n\u25cfAutomotive IoT enables connected cars and vehicles data communication on the Internet for maintenance, services and a number of applications. \n\nLO 7.3 \n\n\u25cfThe examples of actuators are light sources, LEDs, piezoelectric vibrators and sounders, speakers, solenoids servomotor, relay switch, switching on a set of streetlights, application of brakes of a moving vehicle, ringing of alarm bell, and switching off or on the heater or an air conditioner or a boiler current in a steam boiler in a thermal plant. \n\nLO 7.4 \n\n\u25cfEach serial interface uses a serial communication protocol, UART, SPI or I2C or CAN protocols. Automotive sensors communicate serial data using LIN, CAN and MOST serial protocols \n\n\u25cfA software serial library is provided in the Integrated Development Environment (IDE) software for a microcontroller system for distinct programs for use during communication using a serial interface protocol and for serial synchronous communication to computer, tablet, mobile and other devices. \n\nLO 7.5 \n\n\u25cf RFIDs form the IoT network using the computing system which connects to the Internet and then to IoT server. \n\n\u25cfRFID system components for IoT applications and services are (i) RFID tag with transceiver, (ii) A reader with associated computing device and transceiver, (iii) Hotspot or mobile of computer for Internet connectivity, (iii) Middleware and (iv) Applications and services. \n\n\u25cfExamples of applications of Internet of RFIDs are tracking and inventory control, identification in supply chain systems, business processes, RFID based temperatures or any other parameter sensor, in factory design, brand protection, and anti-counterfeiting and business processes. \n\nSensors, Participatory Sensing, RFIDs and Wireless Sensor Networks 287 \n\n\u25cfEPCglobal architecture framework assigns a unique identity for business processes. ONS performs the lookup functions based upon the DNS. DNS name enables web server Internet connectivity using HTTP, REST, webSockets and Internet protocols. \n\n\u25cfData security solutions can be encryption, tag deactivation on intrusion detection, mutual authentication between tag and reader, detections of tag owner, a read data analyser and data cleaning. \n\n\u25cfRFID IoT system 128-bit IPv6 address can be generated using CGA. \n\nLO 7.6 \n\n\u25cfA set of sensors can be networked using the wireless. They cooperatively monitor the physical or environmental conditions, such as temperature, sound, vibration, pressure, motion or hazardous gas leaks and pollutants, waste containers, home appliances, and surveillance systems at different locations. \n\n\u25cfWSNs are subsystems which connect to the Internet using access points and gateways. The subsystems have a number of IoT applications and services, such as for smart home, and smart city. \n\n\u25cfArchitecture of a WSN is according to applications and services. Two basic architectures are wireless multi-hop infrastructure network architecture or multi-cluster architecture using clusters, cluster gateways, cluster heads, and clusters hierarchy. \n\n\u25cfNetwork is a data-centric network and route nodes have no addressability. Three challenges are security, QoS and configuring of nodes. \n\nExercises \n\nObjective Questions \n\nSelect one correct option out of the four in each question. \n\n1. Sensors use the parameters of (i) resistance, (ii) capacitance, (iii) reverse diode \n\nsaturation current, (iv) saturation current between collector-emitter in photo- transistor, (v) current in LED, (vi) piezoelectric current or (vii) magnetic field variation with time for sensing the physical environment or conditions. (a) (i) and (ii) (a) (i) to (vi) (b) (i) to (iv) \n\n(c) All except (v) 2. Relative humidity sensor senses using: \n\n(a) Capacitance change between the parallel plates due to water vapours in air (b) Resistance of air varying with moisture \n\n(c) Piezoelectric effect in air (d) Magnetic flux changes 3. Distance of a car in front is measured by measuring delay of (i) ultrasonic pulses \n\nechoed back, (ii) microwaves reflected, (iii) infrared reflected, (iv) light reflected and (v) image from the car in front. (a) (i) to (iii) \n\n\u2605\u2605 \n\n\u2605 \n\n\u2605\u2605 \n\n288 Internet of Things: Architecture and Design Principles \n\n(b) (iv) \n\n(c) (i) (d) (v) 4. Accelerometer sensor uses (i) MEMS, (ii) ultrasonic waves,  (iii) IR  and has \n\n(iv) three, (v) five terminals and (vi) six terminals for voltage outputs corresponding to three components of acceleration. (a) (iii) and (iv) (b) (i) and (v) \n\n(c) (ii) and (vi) (d) (i) to (iii) and (vi) 5. Participatory sensing is the sensing by (i) individuals, groups of people and \n\ncommunities using mobile phones with multiple sensors and cloud services, (ii) collaborative sensor circuits and (iii) multiple parameters sensing by individuals and groups of sensors, contributing, collecting and analysing sensory information to form a body of knowledge. (a) All (b) (iii) \n\n(c) (ii) (d) (i) 6. Industrial Internet of Things (IIoT) is the use of IoT technologies in (i) refining \n\nthe operations of manufacturing, (ii) maintenance, (iii) refining business models. IIoT involves the uses of (iv) integration of complex physical machinery, (v) M2M communication with the networked sensors, (vi) software, (vii) analytics, (viii) machine learning, and (ix) knowledge discovery. (a) All except (ii), (iii) and (ix) (b) All (iii) and (ix) \n\n(c) All (d) (i) and (vi) to (ix) 7. Automotive IoT enables (i) connected cars, (ii) vehicle-to-infrastructure technology, \n\n(iii) predictive and preventive maintenances, (iv) descriptive and predictive analytics, (v) manufacture to develop  the improved components and (vi) use of autonomous cars. (a)  All (b) All except (ii) and (v) \n\n(c) All except (vi) (d) All except (iii) and (vi) 8. An actuator is a device which takes actions as per the input command using (i) 1s and \n\n0s, (ii) pulse or state (1 or 0) or set of 1s and 0s or (iii) width of the input pulses of 1s and 0s and (iv) control inputs. (a) All except (iii) and (iv) (b) All except (iii) \n\n(c) All (d) All except (iv) 9. A software serial library is provided in (i) the integrated development environment \n\nfor a microcontroller system and (ii) in library programs of the user. The library has (iii) the distinct program for each serial interface protocol, (iv) a program for \n\n\u2605\u2605 \n\n\u2605 \n\n\u2605\u2605 \n\n\u2605\u2605\u2605 \n\n\u2605 \n\n\u2605\u2605\u2605 \n\nSensors, Participatory Sensing, RFIDs and Wireless Sensor Networks 289 \n\nset of serial interface protocols, (v) the program for all interface protocols and (vi) a program for sending data to USB port for onward transmission on the Internet. (a) (i), (iii) and (vi) (b) (i) and (v) \n\n(c) All except (vi) (d) All 10. The Web of Things (WoT) means making (i) objects (ii) objects including RFIDs and \n\n(iii) JSON as a part of the World Wide Web. (iv) WoT data store of objects is dissimilar to web pages store. (v) The Web (Application Layer) receives and sends data using the Internet (IP Network Layer). (vi) WoT enables IoT applications for the RFIDs also as RFID enables identification of each object distinctly on the web. (a) All (b) (i), (ii), (v) and (vi) \n\n(c) All except (vi) (d) All except (iii) 11. SPINS SNEP and micro-TESLA protocols for WSN security has advantages as: \n\n(i) Uses asymmetric cryptographic method, (ii) high overhead in term of memory and computations, (iii) uses digital signatures, (iv) has high memory requirements and (v) communicates higher number of bytes compared to symmetric cryptographic methods method. (a) (i) (b) (ii) \n\n(c) (iii) (d) None 12. Challenge for highly-distributed architecture with localised coordination is the \n\nimplementation of goals of a system for applications and services using WSNs implementation needs are (i) autonomous operation, (ii) self-organisation, (iii) self- configuration, (iv) adaptation, (v) energy conservation at physical, MAC, link, route, application layer, (vi) design of scalable node density, number and types of the networks, (vii) security and (viii) quality of service. (a) (iii) to (vii) (b) All \n\n(c) All except (vi) (d) (ii) to (viii) \n\nShort-Answer Questions \n\n1. How do sensors measure sound intensity, strain, flex, pressure, vibrations and \n\nmotion? [LO 7.1] 2. Why is an equation or table required to find the sensed parameter value from the \n\nsensor circuit output? [LO 7.1] 3. How are distances sensed? [LO 7.1] 4. What are the uses of a phototransistor-LED-pair-based digital sensor in an automobile? \n\n[LO 7.1] 5. How is participatory sensing used for city traffic densities management using IoT? \n\n[LO 7.2] 6. How can industrial IoT be defined? [LO 7.2] \n\n\u2605\u2605\u2605 \n\n\u2605 \n\n\u2605\u2605 \n\n\u2605 \n\n\u2605\u2605 \n\n\u2605\u2605 \u2605\u2605\u2605 \n\n\u2605\u2605 \n\n\u2605 \n\n290 Internet of Things: Architecture and Design Principles \n\n7. What are the automotive IoT applications of vehicle communication with other \n\nvehicles, surrounding infrastructure and Wi-Fi local area network? [LO 7.2] 8. What are the actuators used in Internet of Streetlights? [LO 7.3] 9. Why is a serial CAN bus deployed for connecting sensor circuits in an automobile? \n\n[LO 7.4] 10. When are the barcodes and QR codes used? [LO 7.5] 11. How is the security maintained in RFID IoT system? [LO 7.5] 12. What are the differences in nodes and network topology for RFID IoT and WSN IoT \n\napplications? [LO 7.6] \n\nReview Questions \n\n1. What are the uses of an analog sensor? What are the uses of a digital sensors? \n\n[LO 7.1] 2. How do sensors for temperature, pressure and humidity function and communicate \n\ndata on Internet? [LO7.1] 3. Why do many sensors have three or four terminals for communication to the \n\nmicrocontroller? How are such sensors used for IoT applications and services? \n\n[LO 7.1] 4. How do the digital compass and accelerometer function? [LO 7.1] 5. What are the merits and demerits of participative sensing? [LO 7.2] 6. How is industrial IoT used? [LO 7.2] 7. Give a table of applications of analog and digital sensors in automotive IoT. \n\n[LO 7.2] 8. What are the uses of LEDs when given constant 1 or 0 inputs, pulse width modulated \n\ninputs and variable interval 1s and 0s inputs? [LO7.3] 9. How are actuators used for IoT based control and monitoring? [LO 7.3] 10. What are the signals and their uses in serial bus UART, I2C and CAN protocols? \n\n[LO 7.4] 11. What is software library required for using the protocols for communication of \n\nsensors data? [LO7.4] 12. How is RFID tag ID, location and time information communicated to the server for \n\nIoT applications? [LO7.5] 13. How is the RFIDs infrastructure established for IoT? [LO7.5] 14. What are the data-link, network, security and application layer protocols used in the \n\nWSNs? [LO7.6] 15. Why are the data aggregation, compaction and fusion needed before transmitting \n\ndata from a WSN gateway and cluster head? [LO7.6] 16. How is infrastructure for IoT, which includes WSN infrastructure established? \n\n[LO7.6] \n\nPractice Exercises \n\n1. Write the procedure for using a circuit using the resistance bridge, signal conditioning \n\namplifier, ADC, serial port and microcontroller to sense change in resistance and thus the physical environment? [LO 7.1] \n\n\u2605\u2605\u2605 \n\n\u2605 \u2605\u2605 \n\n\u2605 \u2605 \u2605\u2605\u2605 \n\n\u2605 \n\n\u2605\u2605\u2605 \n\n\u2605\u2605\u2605 \n\n\u2605 \u2605\u2605 \u2605\u2605 \n\n\u2605 \n\n\u2605\u2605\u2605 \n\n\u2605 \u2605\u2605 \n\n\u2605\u2605 \n\n\u2605\u2605\u2605 \n\n\u2605 \u2605 \n\n\u2605\u2605\u2605 \n\n\u2605\u2605 \n\n\u2605 \n\nSensors, Participatory Sensing, RFIDs and Wireless Sensor Networks 291 \n\n2. How is a capacitance bridge used to sense change in capacitances on a level detector \n\nin a tank? [LO 7.1] 3. Using a diagram, explain how an array of 8 photo-transistors is used to sense the \n\nlinear position of a linear moving machine part? [LO 7.1] 4. How is an array of 8 photo-transistors used to sense the instantaneous orientation \n\nangle of a rotating shaft with precision of (360\u00b0/256)? [LO 7.1] 5. Describe the procedure for using ultrasonic sensing method for detecting railway \n\ntrack faults for prescriptive maintenance. [LO 7.1] 6. Write the procedure for automotive IoT monitoring the driver\u2019s health during driving. \n\n[LO 7.2] 7. Draw diagram for controlling a servomotor in an IoT application. [LO 7.3] 8. Write the sequence of bits and bytes when using UART for communication RFID ten \n\ncharacters ID. [LO 7.4] 9. List the steps for secure communication in Internet of RFIDs. [LO 7.5] 10. How can Internet of RFIDs be used in logistics? Explain using a diagram the stages \n\nused and communication between them. [LO 7.5] 11. Draw a diagram showing Internet-connected wireless sensors network in a smart- \n\nhome for remotely controlling, monitoring and providing the services. 12. Explain when and why is fixed network infrastructure and ad-hoc network \n\ninfrastructure used in WSNs. [LO 7.6] 13. State the applications and reasons for use of a multi-hop layered architecture. \n\n[LO 7.6] 14. State the applications and reasons for use of an ad-hoc network architecture in WSNs. \n\n[LO 7.6] \n\n\u2605\u2605 \n\n\u2605\u2605 \n\n\u2605\u2605\u2605 \n\n\u2605\u2605 \n\n\u2605\u2605 \n\n\u2605 \u2605 \n\n\u2605 \u2605\u2605 \n\n\u2605\u2605\u2605 \n\n\u2605\u2605 \n\n\u2605\u2605\u2605 \n\n\u2605\u2605\u2605 \n\n",
  "createdAt": "2026-02-17"
}