{
  "title": "12",
  "slug": "iot2-12",
  "description": "Module from iot2.pdf: 12",
  "tags": [
    "iot2",
    "Elite"
  ],
  "content": "# 12\n\nIoT Case Studies \n\nLearning Objectives \n\nLO 12.1 Examine design complexity levels and use of connected Platform-as-a-Service (PaaS) cloud for accelerating design, development and deployment of M2M, IoT and IIoT applications and services. \n\nLO 12.2 Familiarise the design approaches for IoT/IIoT globally trending usages in core business categories/areas\u2014premises, supply-chain and customer monitoring. \n\nLO 12.3 Outline a new concept \u2018connected car\u2019 with the example of Tesla. LO 12.4 Summarise the design approaches to IoT applications for smart homes, smart cities, smart environment monitoring and smart agriculture using illustrative examples \n\nLO 12.5 Undertake new IoT project design challenges from understanding of a case study, \u2018Smart city streetlights control and monitoring\u2019. \n\nRecall from Previous Chapters \n\nIoT/M2M/IIoT application examples: Chapters 1 to 11 described number of examples of IoT\u2014an Internet-connected umbrella; Internet-connected streetlights; Internet-connected RFIDs; Internet of WSNs; Internet-connected projects, such as wearable watch, smart home and smart city; Internet-connected ATMs; Internet- connected chain of Automatic Chocolate Vending Machines (ACVMs); Internet-connected automotive to an automotive service centre for servicing; IIoT technologies for optimising the bicycle manufacturing processes; a railroad maintenance and service centre using Internet- \n\n446 Internet of Things: Architecture and Design Principles \n\nconnected sensors on the rails and deploying IIoT predictive analytics; Internet-coordinated manufacturing and production processes with information from the sale services, customer feedbacks and maintenance centres. \n\nIoT/M2M communication protocols: Chapters 3 described a connectivity framework for the devices and network domains and layers, and how the connected devices use the CoAP, LWM2M, XML, message queues, MQTT, XMPP, SOAP, RESTful HTTP, WebSockets and other protocols for web connectivity to services, applications and processes. \n\nChapter 4 described the Internet communication protocols and application-layer port protocols. \n\nIoT/M2M data processing and analytics in the applications and services: \n\nChapter 5 introduced the terms data acquiring, validating, organising, processing, analytics, visualisation, business processes, processing intelligence, knowledge discovery and knowledge management. \n\nDesign using cloud PaaS in an IoT project development and deployment: \n\nChapter 6 described cloud-based service models, and PaaS as a development platform. \n\nDesign of embedded devices with the sensors, actuators, bus communication protocols, RFIDs and WSNs: \n\nChapter 7 described sensor technology, analog and digital sensors, the use of actuators, use of data communication protocols on buses, ports and interfaces (UART, I2C, LIN, CAN, USB and MOST) and technological aspects of RFIDs and WSNs. \n\nDesign of embedded devices with Arduino, Raspberry, Intel Galileo and Edison, mBed or other boards and IDEs: \n\nChapter 8 described embedded devices hardware and software, popular embedded devices platforms (Arduino, Intel Galileo and Edison, Raspberry Pi, Beagle Bone, and mBed), mobiles and tablets for prototyping and designing for IoT and M2M. \n\nDevelopment of IoT software using IDEs, IoT stacks, online components and APIs: \n\nChapter 9 described the ways of developing software components using IDE. Section 9.3 described Eclipse IoT stack for developing the data acquiring, validating, communicating and gateway software components. Section 9.4 described the online component APIs, web APIs and WebSocket APIs for message exchanges between embedded devices and applications/services on the server/cloud. \n\nIoT security and privacy provisioning software requirements: \n\nChapter 10 described IoT vulnerabilities, the security requirements, methods of analysis of threats to privacy and security, use and misuse case methods, and the practical aspects of access control, message integrity, non-repudiation and availability. Section 10.6 described security models for IoTs. \n\nIoT Case Studies 447 \n\n12.1 INTRODUCTION \n\nAn IoT project design involves a prototype design. A design uses number of technologies due to number of layers through which data communicates, processes and is analysed (Figures 1.2 to 1.5). Production of an IoT system is planned after the prototype is satisfactorily tested, simulated and debugged. \n\nFollowing are key terms which need to be understood learn project case studies for IoT systems. \n\nService refers to a set of related software functionalities/components. The set is reused for one or more purposes. The set enables the provisioning of access to one or more capabilities. An interface of a service provides the access to capabilities. The access to each capability is consistent with the constraints and policies, as specified by a service description. Examples of service capabilities are provisioning of security, bank transactions, device IDs management and device or vehicle tracking. \n\nWeb service refers to a service using web protocols, web objects or WebSockets. For example, location, weather reporting, traffic density reporting or streetlights monitoring and controlling service. \n\nCloud computing is a collection of services available over the Internet that deliver computational storage, software or infrastructure functionalities, such as a service provider for connected systems, and for enabling distributed, grid and utility computing. \n\nPaaSis a service model in which the platform is made available to a developer of application, service or process on demand. PaaS developed applications, services and processes which execute using the platform for computing, data store and distribution computing nodes are made available through Internet on-demand. The platform, network, resources, maintenance, updating, and security as per the developer requirements are responsibility of the cloud service provider. \n\nExamples of services are communication management functions, a deployment server for sending and receiving messages from the device agents, diverse sources and devices data store, big data store, server data and DBMS management functions, events processing, message caching and routing, OLTP, OLAP, data analytics for IoT /M2M or other applications/services/business processes, intelligence, and knowledge discovery. \n\nCloud-connected device platform refers to a cloud services platform for the devices connectivity, control, monitoring, applications, services and other functions. \n\nCloud-connected Universe Platform (CUP) refers to a cloud services platform for the multi- sources and systems data and devices connectivity, a controls, monitoring, applications, services and other functions. The CUP provisions number of functions and access to connected devices and data sources, such as customers, mobile applications and social network. \n\n448 Internet of Things: Architecture and Design Principles \n\nDevice agent refers to the software which provides the reporting and real-time information to a deployment server (enterprise or applications or cloud server). The agent also refers to software for controlling the device that is installed onto devices/mobile devices. The agent communicates with a control deployment server and carries out the instructions it receives from the server. \n\nMulti-tenant platform refers to a platform that can be used by multiple developers, companies and service deployments. The platform charges recurring expenses as per used/rendered services by the platform. \n\nDomain agnostic platform refers to a platform which functions and renders services on virtually any business domain. \n\nPredictive analytics is an advanced analytics technique that is used  to answer the question\u2014 What will happen? The answer is based on interpretations of the outputs and results from advanced descriptive analytics, data visualisation and other methods. For example, Caterpillar Inc. has been running over 3 million construction equipment machines across the globe. Predictive analytics of the data over the Internet from the machines predicts and reports the failures to Caterpillar service and maintenance centres.1 Other examples are predicting (i) expected fault from stress build-up data from sensors placed all along an oil pipeline, (ii) expected component failure from embedded sensors data in a connected car, or (iii) customer behavioural changes and preferences for advance planning of production or logistics. \n\nData visualisation refers to examining and viewing the results from an analytics process, or process for intelligence or knowledge on a dashboard, infographic, or other applications. Visualisation may be for data dices and slices (Section 5.5.1 and Example 5.10). \n\nInfographic refers to information graphic or graphic visual representation of information, data or knowledge that enables easy viewing or use and clear recognition of view or trends or patterns.2 \n\nAutomated dashboard or infographic refers to creation of dashboard or infographic by software, such as analytics or business process. \n\nConnected car refers to a car that is equipped with Internet access, and usually also with a WLAN. The car shares its Internet access with other devices both on the inside and outside, and is also outfitted with special technologies that tap into the Internet or WLAN, and provide additional benefits to the driver. Another definition from McKinsey for connected car is \u2018a vehicle which optimises its own operation and maintenance as well as the convenience and comfort of passengers using on-board sensors and Internet connectivity.\u20193 \n\n1 http://www.caterpillar.com/en/news/caterpillarNews/ 2 https://en.wikipedia.org/wiki/Infographic 3 mhttp://www.mckinsey.com/industries/automotive-and-assembly/our-insights/whats-driving-the-connected-car and http:// www.autoconnectedcar.com/2014/04/152-million-connected-cars-in-2020-with-14-5-billion-in-revs-very-big-data/ \n\nIoT Case Studies 449 \n\nR is a statistical computing and graphics language and environment that includes number of statistical linear and nonlinear modelling, time series analysis, statistical tests, and classifications and clustering. \n\nCVS (Concurrent Versions System) client refers to a software client for revision control for a development software. The client tracks all work and all changes in a set of files that allows collaboration among the developers, separated in space and time. \n\nGit client refers to a built-in open source GUI tool used during browsing and sending a request for a response to a server. A Git-client user gets a platform-specific experience, such as Windows experience. \n\nPyDevrefers to a Python IDE for Eclipse code development in Python, Jthyon or IronPython. \n\nOver-The-Air Programming (OTP) means program memory is reprogrammed through wireless transceiver when the functioning of an embedded software circuit needs modification. For example, for extending capabilities or installing a new version or path with the program. \n\nLow Power Wide Area Network (LPWAN) refers to a type of wireless telecommunication network designed to allow long-range communications that communicate at a low bit rate among things (connected objects), such as WSNs and battery-operated sensors. A number of standards are included in LPWAN. Examples are LTE Advanced for Machine Type Communications (LTE-MTC) for connected thing, and LoRaWAN (Low power and range WAN) specification released in 2015. WAN stands for Wide Area Network. \n\nIFTTT refers to free web-service from a company named as IFTTT.4 Its name is derived from the service which enables a service user to create a sequential set of conditional statements (If This Then That), called applets which trigger actions by change to other web services, such as Facebook, Twitter, Gmail. The web APIs control the actions. A trigger corresponds to \u2018this\u2019 and action corresponds to \u2018that\u2019. A trigger can provide ingredient (basic data, such as picture or e-mail sender address, subject, body, attachment, receive date) for action. The action task can be communicating content on a social network. Presently IFTTT operating system versions are Android 4.1 onwards and iOS7 onwards which enable services such as smart home controls and automation using mobile phones or tablets. \n\nSection 12.2 describes design complexity levels and design approach of using a connected Platform-as-a-Service (PaaS) cloud for accelerating design, development and deployment of M2M, IoT, IIoT applications and services. Section 12.3 describes the applications of development platforms for IoT/IIoT in globally trending usages in premises, supply chain, customer and product monitoring areas. Section 12.4 describes a new concept \u2018connected car\u2019 with the example of Tesla. Section 12.5 describes approaches to IoT applications for smart homes, smart cities, smart environment monitoring, smart agriculture and smart production using illustrative examples. Section 12.6 describes a case study of smart streetlights in a smart city project. \n\n4 https://en.wikipedia.org/wiki/IFTTT \n\n\n![Image](/src/assets/generated_images/iot2_p476_i0.png)\n\n450 Internet of Things: Architecture and Design Principles \n\n12.2 DESIGN LAYERS, DESIGN COMPLEXITY AND DESIGNING USING CLOUD PaaS \n\nAn IoT prototype developer designs a project in stages. A design has various levels of complexities. A design approach uses connected devices PaaS or connected universe PaaS. \n\nFollowing subsections describe the prototype design stages, complexities and usages of open source tools and connected PaaS. \n\n12.2.1 Design Layers and Phases during Development and Deployment \n\nEquation 1.1 conceptually described a simple IoT system, such as, Internet of Umbrella. The system consists of a physical object or sensor and/or actuator, controller and Internet for connectivity to a web service and/or mobile service provider. The system needs designing for the following layers: \n\nLayer 1: Physical object(s), sensor(s) and/or actuators (s) Layer 2: Intranet, Internet or mobile service provider Layer 3: Controller/monitor Equation 1.2 (Figure 1.5) conceptualised Oracle architectural model. The IoT system or the product needs designing at the following layers between data gathering from sensors or other data sources and data organising and analytics. \n\nLayer 1: Gather Layer 2: Enrich + Stream Layer 3: Manage Layer 4: Acquire at server or cloud and organise Layer 5: Analyse + Intelligence Equation 1.3 (Figure 1.3) conceptualised IBM framework. The IoT system or product needs designing at following layers between sensors or other sources of data and analytics and intelligence. \n\nLayer 1: Gather Layer 2: Consolidate Layer 3: Connect + Collect Layer 4: Assemble Layer 5: Manage, Analyse Layer 6: Enterprise integration, Complex Applications Integration and SoA \n\nExamine design \n\ncomplexity levels and use of connected Platform-as- a-Service (PaaS) cloud for accelerating design, \n\ndevelopment and deployment of M2M, IoT, IIoT applications \n\nand services. \n\nLO 12.1 \n\nDesign stages 1 to 3 for a simple IoT system and increasing number \n\nof stages from 5 up to 11 for complex IoT/ M2M/IIoT applications \n\nand services \n\nIoT Case Studies 451 \n\nFigure 7.9 showed participation of four sources of data in the  participatory processes in a complex IoT system and product. The IoT system or a product needs designing at the following phases: \n\nPhase 1: Gather data from individual group and collective groups of sensors and data \n\nsources, such as CRM, ERP or social media sources through a coordination process between them Phase 2: Data Capture, Consolidate, Connect + Collect Phase 3: Data Consolidation Phase 4: Connect, Data Processing and Validation Phase 5: Analytics and Data Visualisation Phase 6: Applications, Services Phase 7: Applications Integration and SoA Figure 7.10 depicted IIoT industrial processes groups of sensors and data sources, such as CRM, ERP or social media sources, that participate in a complex IIoT system or product. The IoT system or product needs designing at following phases: \n\nPhase 1\u20139: IIoT industrial processes and use of groups of sensors and data sources \n\nsuch as CRM, ERP or social media sources for data capturing and gathering, consolidation Phase 10: Connect, Collect and Data Processing Phase 11: Analytics and Data Visualisation Phase 12: Applications and Services Figure 11.5 depicted a sophisticated IoT system in which data gathers from multiple sources and services, and is part of the key resources. Figure 11.6 depicted a highly sophisticated IoT system for coordinated manufacturing which addresses emergent and real-time needs using predictive analytics and intelligence and where information convergence creates new experiences for current products. Information enables innovative services. \n\n12.2.2  Design Complexity Levels in IoT Prototypes and Product Development \n\nand Deployment \n\nA complexity level can be assigned with increasing IoT prototypes and product design complexities. Security and privacy are common concerns during the communication in all designs. Six complexity levels can be assigned as: \n\nComplexity Level 1: Internet of Umbrella (Example 1.1) has least complexity in design as it consists of a single physical object, and depends on a single weather web service. Equation 1.1 can be used to represent an IoT system. Internet of other home items in smart homes, such as refrigerator and home lighting networks also have the least complexity in design. \n\nSix design complexity \n\nlevels for IoT/M2M/ IIoT applications and \n\nservices \n\n452 Internet of Things: Architecture and Design Principles \n\nApplication or service program and system does not use the cloud or server platform. \n\nComplexity Level 2: Internet of Streetlights (Examples 1.2 and 2.1) has level 2 complexity. Figure 1.1 depicted a group of streetlights connected to a group controller using the intranet. The group controllers coordinate and connect to the Internet and applications and services of a central coordinating server. The IoT system can be conceptualised by Equation 1.2 or 1.3 with little analytics. \u2018Internet of drip irrigation points in channels\u2019 also has the complexity level 2 in its design. \n\nSystem of complexity level 2 uses the cloud or server database platform for acquiring and organising, an application or service program such as controlling and monitoring is used. \n\nComplexity Level 3: Internet of RFIDs (Example 2.2) has level 3 design complexity. Platform provisions for a number of applications and services, such as tracking, security, inventory control and supply chain management. The IoT system can be conceptualised by equation 1.2 or 1.3 with additional complex analytics and an additional stage for visualisation. Internet of ATMs (Example 2.3) also has level 3 design complexity. \n\nLevel 3 complexity system uses a cloud or server platform. The platform acquires and organises enriched data points, event triggers and alerts at a database, analyses the data with analytics and visualises the analysed data. \n\nComplexity Level 4: \u2018Internet of WSNs\u2019 has level 4 design complexity. Smart home and city systems (Section 1.7.2) can be conceptualised by Figures 1.5, 1.11 and 7.9 reference models. The system requires server platform for acquire, organise, analyse and visualise steps of multiple sources data, and connects to a number of networks. \u2018Internet of rail track sensors\u2019 in rail track fault prediction and detection, \u2018Internet of oil pipeline sensors\u2019 and \u2018Internet of information about weather, environment information, pollution, waste management, road faults, individual and group of people health and traffic congestion\u2019 (Section 7.3) also have design complexity level 4. \n\nA level 4 complexity system uses networked devices, coordinators and a centralised server cloud platform. The platform acquires and organises enriched data points, event triggers and alerts at a database, analyses the data with analytics, visualises the analysed data, processes intelligence and provisions for a number of applications and services. \n\nComplexity Level 5: Internet of ACVMs (Example 5.1) which gathers multiple ACVMs data has complexity level 5. \u2018Internet of Automotive Components and Predictive Automotive Maintenance Application and Service (ACPAMS)\u2019 also have this complexity level. \n\nLevel 5 complexity system uses multi-input data sources and a cloud platform. The system cloud-server platform acquires, organises, performs data, events, triggers and streams processing and OLAP, visualises multiple sources analysed data and provisions for applications and services. The system extracts intelligence, may deploy machine learning and may perform knowledge discovery and knowledge management. \n\nComplexity Level 6: Industrial IIoT systems and products involve the integration of complex physical machinery M2M and IoT communication. They have design complexity level 6. \n\nIoT Case Studies 453 \n\nRecapitulate Figure 7.10, which shows IIoT phases in the bicycle manufacturing process. Industrial Internet of Things (IIoT) is an application of IoT technology in manufacturing. These systems and products analyse data points, triggers, events and alerts from networked sensors and multiple data sources. \n\nExamples of the functions of IIoT are refining the operations for manufacturing or maintenance, or refining the business model of an industry. \n\nAnother example of complexity level 6 system is value creation system using information- driven IoT value chain in production/manufacture-driven value chain (Figure 11.5). Another example is real-time monitoring scenario in maintenance scheduling, predictive maintenance, or in fault or anomaly detection in real time (Figure 11.6). \n\nComplexity level 6 system uses multi-input data sources and multi-server cloud platform. A system cloud-server platform acquires, organises, performs OLTP, events and streams processing and OLAP, visualises multiple sources data and may connect to a number of servers. The system extracts intelligence, deploys machine learning and performs knowledge discovery, management and provisions for numerous applications and services. \n\nA complexity level 1 IoT prototype and product design needs embedded development platform and IDEs (Sections 8.2 and 8.3). Embedded platform enables system hardware and IDE enables software development. The code writing, system design and test of the embedded devices for IoT and M2M are done using the IDEs and development platforms (Section 9.2). Software development for end-to-end connectivity can deploy Eclipse implementations and frameworks included in Eclipse IoT stack (Section 9.3.2). \n\nComplexity levels 2 to 4 IoT prototype and product designs need connected devices and device network Platform-as-a-Service (PaaS) cloud. \n\nComplexity levels 5 and 6 IoT prototype and product designs need connected Platform- as-a-Service (PaaS) cloud, such as TCS Connected Universe Platform (CUP). \n\n12.2.3 Tools, Projects and Platforms \n\nProfitbricks describes top 49 tools for IoT project design and development.5 Postscapes describes a number of open source tools, projects and platforms.6 Following are examples of four open source tools, projects and platforms available for IoT prototype designs, development and deployment. \n\nEclipse IoT IDE is most popular Java IDE with excellent user interfaces (UIs), Windows Builder, integration with XML editor, Git client, CVS client, PyDev and other workspace with an extensible plug-in system (Section 9.3). Plug-ins enable development of applications in C, C++, JavaScript, Perl, PHP, Prolog, Python, R, Ruby (including Ruby on Rails framework) and other programming \n\n5 https://blog.profitbricks.com/top-49-tools-internet-of-things/ 6 http://www.postscapes.com/internet-of-things-award/open-source/# \n\nA number of tools and a \n\nnumber of open source \n\ntools, projects and platforms are available \n\nto the developers of IoT applications and \n\nservices \n\n454 Internet of Things: Architecture and Design Principles \n\nlanguages. It provides multi-projects environment in same window, number of plug-ins and debug viewing. \n\nOracle IoT development platform refers to provisioning of Oracle Java SE Embedded, Oracle Java ME Embedded, Oracle Java Embedded Suite and Oracle Event Processing solutions that facilitate seamless communications between all elements of the IoT architecture (Figure 1.5). Oracle PaaS is a large and big data platform, which delivers, integrates, secures and retrieves, and analyses comprehensive data from millions of device endpoints. Oracle solutions enable real-time response and data capture. The solutions integrate with the IT systems. Oracle M2M platform offers middleware capabilities and communications between devices. \n\nKaaIoT refers to an IoT development platform which is a multi-purpose middleware platform with inclusion of built-in end-to-end data encryption solutions and software for monitoring, management and configuration of connected devices using communication protocols. It provides an elastic server-architecture deployable at cloud, a fast-growing ecosystem of compatible hardware, analytics and data processing systems, distributed IoT systems, and services which include smart home, connected car, fleet management, operate across a broad variety of devices, and enterprise applications. \n\nMicrosoft Research Lab of Things (MSRLT) refers to a platform for innovative solutions, applications and source code samples that have key features of enabling the interconnection of devices, provide HomeOS client side component/source code platform, codes, sensors and devices deployable on Windows-based PC (HomeHub). The platform enables implementation, deployment, monitoring the field studies and analysis of experimental data in areas, such as healthcare, energy management and home automation. \n\n12.2.4 Connected Platform-as-a-Service (PaaS) Cloud \n\nFollowing are connected devices PaaS and connected universe PaaS. \n\nXively Connected Devices Platform \n\nSection 6.4 described IoT development and deployment using Xively, Nimbits and others platforms. Xively (Section 6.4.1) is PaaS model cloud platform, free for developers. Xively permits many languages and platforms. Xively cloud is elastic and scalable, manages and routes the message in real time, has lifecycle management capabilities, does time series archiving, generates conditional triggers and assigns fine-grain permissions, and enables many devices\u2019, provisioning, activation and management. The platform provides a developer-workbench and device-management console. \n\nXively is a PaaS model cloud platform that permits RESTful API, multiple data formats, including JSON, XML and CSV. Xively enables development using searchable libraries of devices as well as business CRM and ERP objects, clients for iOS, Android, JavaScript and more, and server libraries for programs development Ruby, Python, Java and more. \n\nXively PaaS capabilities \n\nof elastic and scalable \n\nserver, management \n\nand routing of the messages in real time, and libraries of devices \n\nas well as business CRM and ERP objects \n\nIoT Case Studies 455 \n\nNimbits Connected Devices Server and Platform \n\nNimbits (Section 6.4.2) is a PaaS on a cloud platform (Figure 6.3). Nimbits provides a downloadable server which functions as the distributed-server nodes, Nimbits Server-L and XMPP Server-L. Developer downloads the servers-L onto a chip, Raspberry Pi and web server from the Nimbits cloud platform. \n\nNimbits provides hardware and software solutions to a developer with an advantage that only application required data, messages, alerts, triggers and notification need to communicate on the Internet between the servers-L node and the Nimbits cloud server-S and XMPP Server-S, as shown in Figure 6.3. \n\nThe applications and services communicate with the servers-S. The platform enables connectivity, recording and processing with geo and time-stamping of data and enables the platform communication with the application. The node enables retrieval of large amounts of data, (from devices), event alerts and triggers for the application. The platform also enables complex analytics. \n\nNimbits PaaS is an open source for IoT applications and services, and offers distributed cloud (Section 6.4.2). Nimbits provides a downloadable server platform on chips, Raspberry Pi, web server compatible with most J2EE servers (such as Jetty Server or Apache Tomcat,) and clouds using Linux, Amazon EC2, Google App Engine. \n\nIBM Internet of Things Foundation Connected Devices Platform \n\nIBM Internet of Things Foundation (IITF) is a fully managed, cloud-hosted service for devices registration, connectivity and control, rapid visualisation and storage of data derived from IoT. Applications can connect using the HTTP API. IITF Node-RED is a visual editor for wiring the IoT application. \n\nIBM Bluemix is a cloud platform. IITF along with Bluemix provides access to the applications to the devices data, fast composition of analytics and visualisation dashboards. IITF features at various stages in IBM conceptual framework (Figure 1.3) are: \n\n\u25cfConnect: Provides registration, connectivity end-to-end in pub/sub mode using MQTT protocol, and HTTP API for devices remotely monitors the device connectivity using MQTT clients or HTTP APIs, provides secure connectivity of devices to the development boards and cloud, and connects using open-source device code from Eclipse Paho. \n\n\u25cfCollect: Collect and manage a time-series view of devices data, near real-time IoT data visualisation and OLTP, optimised business results with near real-time decision making \n\n\u25cfAssemble: Events assembled into logic flows with the help of Bluemix \n\n\u25cfManage: Connections and subscriptions to be managed \n\nNimbits PaaS capabilities of offering \n\ndistributed cloud and \n\nNimbits providing a downloadable server \n\nplatform on chips, Raspberry Pi, web \n\nserver \n\nIBM IoT foundation and Bluemix platform capabilities of connect, \n\ncollect, assemble, manage, analyse and \n\ndata visualisation deploying IBM Watson \n\nanalytics \n\n456 Internet of Things: Architecture and Design Principles \n\n\u25cfAnalyse: IBM Watson Analytics solution enables analytics, OLAP, predictive analytics and data visualisation with automated dashboard and infographic creation. \n\nCISCO IoT (CIOT) System \n\nThe system allows a developer to work in the familiar Linux application environment. The developer can develop the applications in a number of languages, use a number of programming models and open-source development tools. \n\nCIOT provides the network connectivity, cyber and physical security and data analytics. \n\nApplication development platform, CISCO IOx combines IoT application execution within the CISCO Fog applications. IOx technology offers highly secure connectivity, fast and reliable application integration with sensors and cloud, near real-time, automated and high volume of data. \n\nCISCO Fog provides an ecosystem with the ability to transform sensor data and perform the control functions within the distributed network nodes. This enables development of applications such as site asset management, energy monitoring and smart parking infrastructure and connected cities. \n\nAWS IoT Platform \n\nAWS IoT is a PaaS for secure and bi-directional communication software between sensors, actuators, embedded systems and boards, and the AWS Services at the cloud.7 The platform enables the collection, storage and analysis of data from multiple devices, enabling development of applications that control these devices from the tablets or phones. \n\nAWS IoT is a PaaS that provides the devices connectivity to AWS and other devices. The PaaS enables secure data and interactions, and processing of device data, and enable offline and online interactions of the applications with the devices. \n\nFigure 12.1 shows the components of AWS IoT device SDK (Software Development Kit), AWS IoT and AWS services and data flow diagram and architecture for developers of large number of IoT applications and services using AWS IoT and AWS Services PaaS. \n\nTCS Connected Universe Platform \n\nA Connected Universe Platform (CUP) offers PaaS for connectivity of the IoT/M2M devices as well as customer, mobile apps and \n\n7 https://aws.amazon.com/iot-platform/how-it-works/AWS IoT Features \n\nCISCO IoT, iOx and Fog application platform \n\nfor capabilities of highly secure connectivity, fast \n\nand reliable application \n\nintegration and functions of controls within the distributed \n\nnetwork nodes \n\nAWS IoT device SDK, \n\nIOT and services capabilities of collect, \n\nstore, analyse and using the data from \n\nmultiple devices and development of \n\napplications \n\nTCUP capabilities of distributed computing \n\nand data processing functions and usages \n\nof data analytics and visualisation in business processes, intelligence, knowledge \n\ndiscovery and big data \n\nenabled architecture \n\nIoT Case Studies 457 \n\nother data. CUP also offers connectivity to applications and services. CUP provides the data processing functions and usages of data analytics in business processes, intelligence and knowledge discovery. \n\nTCS offers a Connected Universe Platform (TCUP) which is a highly scalable platform for sensor integration, sensor data storage, analytics (real-time and Big Data processing), rich query capabilities and visualisation.8 Figure 12.2 shows the CUP architecture and data-flow diagram and architecture when using the TCUP cloud server for PaaS. \n\nFeatures of cloud-based TCUP are: 1. Offers a scalable cloud PaaS which has secure architecture 2. Offers a domain agnostic multi-tenant platform which optimises the network traffic 3. Gathers, stores and analyses data captured at the embedded sensors, events and \n\ndiversified sources 4. Enables device management, sensors data acquisition and storage, and analytics 5. Provides Sensor Web Enablement (SWE) services which span sensor description, \n\ndiscovery, integration, sensor observation and measurement capture, storage, and query 6. Can deploy solutions across heterogeneous and interoperable devices, sensors and \n\napplications \n\n8 http://www.tcs.com/about/research/Pages/TCS-Connected-Universe-Platform.aspx \n\nDevice Shadows \n\nDevice Access \n\nAI \n\nSecurity \n\nApplications/ \n\nServices \n\nAWS SERVICES \n\nApps \n\nAPIs RESTful Developer \n\nNetwork \n\nDatabase \n\nCompute \n\nAnalytics \n\nMessaging \n\nAWS IOT \n\nAWS IOT APIs \n\nAWS IoT DEVICE \n\nSDK \n\nOrganise and analyse \n\nDeveloper \n\nDevice Registry Communication \n\nManagement \n\nTools \n\nDeveloper \n\nTools \n\nApplication \n\nServices \n\nData Store \n\nDesktop and \n\nApplication \n\nStreaming \n\nAuthentication \n\nand Authorisation \n\nDevice Gateway HTTP, TCP, UDP, MQTT, \n\nWebSockets \n\nIoT Devices/M2M \n\nData \n\nSensor Networks \n\nData \n\nRule Engine \n\nDevice state \n\nduring intermittent connections \n\nFigure 12.1  Components of AWS IOT device SDK, AWS IOT and AWS services and data flow diagram and \n\narchitecture for developers of large number of IoT applications and services using AWS IOT and AWS PaaS \n\n458 Internet of Things: Architecture and Design Principles \n\n7. Ensures meeting of future performance needs even as the numbers of devices and \n\nusers grow 8. Offers device software modules and a set of web services for the application \n\ndevelopers to create highly scalable, intelligent and predictive analytics driven IoT applications 9. Allows IoT applications to be built for virtually any devices/sensors and virtually \n\nany business domain 10. Integrates IoT data with enterprise systems easily and with ease 11. Makes it easy to develop, deploy and administer IoT, M2M/IIoT software applications 12. Offers a single platform for creating innovative products, intelligent infrastructure, \n\nenhancing operational efficiencies, and craft new customer experiences and helping companies offer unique services to their customers 13. Offers remote operations and monitoring 14. Provides big data enabled architecture and distributed computing 15. Offers secure communication and privacy. \n\nStream Level 3 \n\nLWM2M/ CoAP \n\nEmbedded \n\nSensors \n\nDevice Agents \n\nDevice Agents \n\nGather Level 1 \n\nEnrich Level 2 \n\nMessage \n\nRouter \n\nMessage \n\nCache \n\nNetwork Network \n\nInternet Firewall \n\nManage \n\nLevel 4 \n\nAcquire \n\nLevel 5 \n\nDatabase Firewall \n\nOrganise and Analyse \n\nLevel 6 \n\nAnalytics \n\nDatabase \n\nRDBMS \n\nServer \n\nData Mgmt. \n\nBig Data Store \n\nApps \n\nEvent Processing \n\nDeveloper \n\nNetwork \n\nDevice Identity Management \n\nand access Management \n\nDevices \n\nand Diverse Sources \n\nData \n\nDevice Access Management \n\nDevice Identity Management \n\nDevice Management \n\nMobile Apps User \n\nData \n\nCustomer \n\nData \n\nMobile Apps User \n\nData \n\nCustomer \n\nData \n\nIoT Devices/ \n\nM2M Data \n\nSensor Networks \n\nData \n\nHTTP, \n\nTCP, UDP, MQTT, ModBus \n\nand other Protocol Handlers \n\nApplications/ \n\nServices Apps \n\nMessage \n\nRouting \n\nTCUP Cloud Server \n\nWiFi Communi- \n\ncation \n\nMobile Hotspot Communi- \n\ncation \n\nWiFi Communi- \n\ncation Mobile Hotspot Communi- \n\ncation \n\nCommuni- \n\ncation Management \n\nWiFi/Mobile \n\nCommuni- \n\ncation \n\nRESTful APIs \n\nFigure 12.2  CUP architecture and data-flow diagram and architecture when using the TCUP cloud \n\nserver for PaaS for the developers and large number of IoT applications and services \n\nIoT Case Studies 459 \n\nReconfirm Your Understanding \n\n\u25cfSix design complexity levels are there in IoT prototypes development and deployment. \n\n\u25cfA number of open source tools and connected device platforms are available for IoT prototypes development and deployment \n\n\u25cfOracle IoT platform for Java embedded solutions for the devices and functions for data gathering, enriching, streaming, managing, acquiring, organising, analysing and enterprise and applications integration. \n\n\u25cfMicrosoft Research Lab of Things for implementation, deployment, monitoring field studies and analyse experimental data in number of areas \n\n\u25cfIBM Internet of Things Foundation (IITF) and IBM Bluemix cloud platform connect, collect, assemble and manage; and IBM Watson analytics provide predictive analytics and data visualisation. \n\n\u25cfCISCO IoT System application development and deployment platform provides network connectivity, data analytics, and cyber and physical security. CISCO IOx technology offers highly secure connectivity, and fast and reliable application integration with sensors and cloud, near real time, automated and high volume of data. CISCO Fog provides ability to transform sensor data and perform the control functions within the distributed network nodes. \n\n\u25cfAWS IoT device SDK (Software Development Kit), AWS IoT and AWS services enable secure data and interactions, processing of device data, and enable interactions of the applications with the devices and AWS services, such as developer, application services, AI, analytics and management tools, database, storage, processing and desktop and application streaming, \n\n\u25cfTCS connected universe platform is a cloud PaaS that is scalable and has secure architecture. TCUP gathers, stores and analyses data captured by the embedded sensors, events and diversified sources. \n\n\u25cfTCUP based solution can be deployed across heterogeneous and interoperable devices, sensors and application. \n\n\u25cfTCUP offers device agents, device software modules and a set of web services for the application developers to create highly scalable, intelligent and predictive analytics driven IoT applications. \n\n\u25cfOffers a single platform for creating innovative products, intelligent infrastructure, enhancing the operational efficiencies, and craft new customer experiences and helping companies offer unique services to their customers. \n\nSelf-Assessment Exercise \n\n1. List the new features added at each complexity level when design complexity \n\nincreases. 2. What are the capabilities and features of the Oracle IoT/M2M plaform? 3. Why do we prefer open source tools for IoT development? What are the \n\nlimitations of open source tools for IoT development? 4. How do the connective devices PaaS and connected universe platforms help \n\nin accelerated project design? \n\n\u2605 \n\n\u2605 \u2605\u2605 \n\n\u2605\u2605\u2605 \n\nNote: \u2605 Level 1 & Level 2 category \u2605\u2605 Level 3 & Level 4 category \u2605\u2605\u2605 Level 5 & Level 6 category \n\n\n![Image](/src/assets/generated_images/iot2_p486_i0.png)\n\n460 Internet of Things: Architecture and Design Principles \n\n5. List the benefits of Xively features of elasticity and scalability, managability \n\nand routability of the messages in real-time features. 6. What are the advantages of Nimbits provision of a downloadable platform as \n\nthe distributed-server node? 7. How is Nimbits distributed-server nodes used for multi-location smart \n\nparking applications? 8. What are the functions of Connect stage in the IBM IoT foundation? 9. How does CISCO IoT, IOx and Fog enable control functions within the \n\ndistributed network nodes? 10. How is the smart parking infrastructure application used with CISCO Fog \n\nplatforms? 11. How does data flow between AWS IoT, AWS services and applications \n\nrepresent Equation 1.3? 12. How does data flow in TCUP represent Equation 1.2? 13. How do the components of TCUP function as per Oracle IoT architecture \n\nreference model (Figure 1.5)? 14. What does creation of \u2018highly scalable, intelligent and predictive analytics \n\ndriven IoT applications using TCUP\u2019 mean? 15. Draw a table to show a comparison between Nimbits cloud architecture and \n\nTCUP architecture. 16. List the TCUP cloud server sub-units and their usages. \n\n\u2605\u2605 \n\n\u2605\u2605 \n\n\u2605\u2605\u2605 \n\n\u2605\u2605 \u2605\u2605\u2605 \n\n\u2605\u2605\u2605 \n\n\u2605 \n\n\u2605 \u2605 \n\n\u2605\u2605 \n\n\u2605\u2605\u2605 \n\n\u2605\u2605\u2605 \n\n12.3 IoT/IIoT APPLICATIONS IN THE PREMISES, SUPPLY-CHAIN AND CUSTOMER MONITORING \n\nTata Consultancy Services (TCS) is a world renowned nearly about $16-20 billion annual revenue generating organisation for IT services, consulting and business solutions. TCS made a global trend study \u2018Internet of Things: The Complete Reimaginative Force\u2019 and web-published it in July 2015.9 TCS categorised IoT/IIoT business usages into four high-level categories of core business areas for tracking global trends: \n\n\u25cfPremises monitoring: Examples are Internet-connected cameras, sensors and other devices at banks, ATMs, airports, shopping centres and so on. Example 2.3 describes the architecture of Internet of ATMs in banking applications. \n\n\u25cfSupply-chain monitoring: Examples are Internet-connected RFIDs, sensors, cameras and other devices in the production, distribution and services, and supply-chain order verification, automated reordering and shipping (SCOVARS) : \n\n\u25cfCustomer monitoring: Examples are Internet-connected digital devices, mobile apps, wearable devices such as wristband for tracking customers behaviours, preferences, \n\n9 http://www.tcs.com/SiteCollectionDocuments/White%20Papers/Internet-of-Things-The-Complete-Reimaginative-Force. pdf). \n\nFamiliarise the design approaches for IoT/IIoT globally trending usages in core \n\nbusiness categories/ \n\nareas\u2014premises, \n\nsupply-chain and customer monitoring. \n\nLO 12.2 \n\nIoT Case Studies 461 \n\nlocations, systems or components health for applications such as business planning, analytics, health and other services. \n\n\u25cfProduct monitoring: Examples are Internet-connected embedded hardware, software, devices network and IIoT technologies which help in product optimisation during the manufacturing process such as bicycle manufacturing process (Example 7.8). Example 11.6 describes IoT applications for coordinated manufacturing and production processes for portfolio mix of automobiles. Following subsections describe the case studies of projects in premises monitoring system; connected ATMs physical security system; supply chain monitoring; RFID integration into the supply chain order verification; automated reordering and shipping (SCOVARS); and customer monitoring system involving; tracking of customers\u2019 carrying Internet-connected digital devices (TCCICDD). \n\n12.3.1 Case Study: Connected ATM Premises Monitoring Project \n\nBanks, bank-ATM machines, offices, stores, company\u2019s business places, residences, hotels and others need to monitor their premises remotely using sensors, digital cameras and other devices connected to the Internet. An ATM system deploys a number of subsystems. Consider a project of designing surveillance subsystem for each ATM. A design process is divided into a number of steps as given below. \n\nAbstraction \n\nA developer first abstracts the suspicious activity detection as a system event for the activities that endangers the physical safety of the machine and its cash. On the events at the premise, the triggers, messages and data communicates to the banking system in real time using the Internet as a communication channel. The developer abstracts the video clips recorded from the camera as data files from the system that communicate to data store at a surveillance-system server for a group of bank ATMs. A software developer abstracts the hardware as source of events and data files and abstracts software as communicating process for the triggers, messages, data and data files. \n\nReference Model for Surveillance System \n\nTwo domains and their high-level service capabilities in the surveillance system IoT architecture reference model are: \n\n(1) Device and gateway domain deploy digital camera, spatially arranged vibration \n\nsensors at an ATM premise devices and media-server gateway for the surveillance. The domain high-level capabilities are: \n\n\u25cfEnriches the sensors and camera data into the events, data files, and processes the events generated, data filters, time stampings and encrypting \n\n\u25cfMedia Server Gateway communicates the enriched data deploying the TCP/IP. \n\nSteps in designing a premises monitoring \n\nsystem\u2014connected ATMs physical security \n\nsystem \n\n462 Internet of Things: Architecture and Design Principles \n\n(2) Applications and network domain deploys the applications and services and have \n\nhigh-level capabilities as follows\u2014surveillance management functions using the accessed data. The functions include initiation of actions on detection of security breaches at the ATM, and data storage and organising functions for the video files. Figure 12.3 shows the data-flow diagram and domain architecture reference model for the ATM premise monitoring and the surveillance system management functions and services. \n\nNetwork \n\nInternet Firewall \n\nDatabase Firewall \n\nAnalytics \n\nWiMax \n\nDevice and Gateway Domain Applications and Network Domain \n\nEvents \n\nDigital Video Camera \n\nVibration \n\nSensors \n\nEmbedded \n\nSensors \n\nSensors Networks \n\nData \n\nMedia Server \n\nGateway \n\nActivity Intervals Video files \n\nEvent Intervals for \n\nVideo files \n\nVideo Processing \n\nand Filtering \n\nWiFi Communi- \n\ncation \n\nAccess Network Management \n\nHTTPS, TCP, UDP, IP Protocol \n\nHandlers \n\nEvent Messages \n\nRouter \n\nOn event \n\nFiles Cache \n\nVideo \n\nFiles Cache \n\nMedia Server Devices and \n\nSensors Management \n\nATM Access and \n\naccess Manage- \n\nment \n\nATM Event Messages, \n\nVideo Files and \n\nData \n\nATM Sensors \n\nand Cameras Management \n\nATMs Surveillance System Server \n\nServer Data Management \n\nBig Data Store \n\nEvent Message \n\nRouting \n\nEvent Processing \n\nDatabase \n\nRDBMS \n\nSurveillance \n\nManagement Applications\\ \n\nServices \n\nFigure 12.3  Data-flow diagram and domain architecture reference model for the ATM premise \n\nmonitoring and the surveillance system management functions and services \n\nIdentifying Requirements of Device and Gateway Domain \n\nDevices hardware design components are 24 \u00a5 7 active digital video cameras; number of spatially-distributed embedded vibration-sensors at the ATM premises; sensors data processing for detection of suspicious activities; video-processing and filtering hardware; communication network connectivity for the events, and on the event, real-time videos and communication network connectivity for the large voluminous data of video clips of transaction activities of users. \n\nIoT Case Studies 463 \n\nSoftware design modules at the device domain are software components for embedded device such as the distributed vibration sensors processing their data; filtering and extraction of events; communication on the events and on the event videos in real time; embedded camera device video filtering out irrelevant video clips of inactivity intervals data and extracting the relevant intervals video files; and media server gateway for communication of events and on-event video files to the bank server in real time. Large voluminous data of video clips communicate to the data store during periods of inactivity at the ATM. \n\nIdentifying Requirements of Network Sub-domain \n\nNetwork hardware and software design components are Wi-Fi/WiMax access network, core IP network, and surveillance system server. Software design components are network management functions to ensure secure communication network between the device and gateway domain and applications/services. \n\nIdentifying Requirements of Application Sub-domain \n\nSoftware design components are data store organising functions; and surveillance management functions are real-time events processing and \u2018on the event\u2019 video file, activating the alarms (SMS alerts to bank authorities and city police authorities). \n\nDesign Implementation of Device and Gateway Domain Hardware and Software \n\nAn implementation of ATM premise circuits and embedded sensor devices software needs high computing power for video and multimedia processing. Let us recall Section 8.3.4. Raspberry Pi 2 model B+ (RPi 2) can be deployed for the prototype embedded real-time systems for 24 \u00a5 7 active digital video cameras; spatially-distributed embedded vibration sensors; sensors data processing; video processing and filtering; and communication network. \n\nRPi 2 CPU is quad-core ARM Cortex-A7/ 900 MHz and a graphic processor (Broadcom VideoCore IV) for graphics and video, 1 GB RAM, plus multimedia card module, MicroSDHC card. The RPi 2 provides high-performance computing and graphics. \n\nSection 9.2.3 described the programming of Raspberry Pi platform. AdafruitIDE, a web- based IDE can be deployed for prototype development. Open source ARM videoCore driver enables driving of the camera hardware. Open source Raspbian provisions a Linux distribution using OS. \n\nSection 9.3 described Eclipse IoT stack-based end-to-end IoT solutions with Java and OSGi. A developer can code using following Eclipse stack components for abstractions, software and gateway software in embedded sensors and devices: \n\n1. Eclipse Mihini hardware abstraction and other services in embedded Lua runtime 2. Eclipse.Pi4J for the development of embedded sensor devices software using the \n\nframework based on WiringPi and PiFace, Gertboard and other shields 3. Eclipse Koneki functions for development of device applications in embedded Lua \n\nlanguage 4. Eclipse Krikkit rules system for configuring the device platforms \n\n464 Internet of Things: Architecture and Design Principles \n\n5. Eclipse Kura for the Raspberry Pi and the Kura development environment, Gateway. \n\nServices, cloud connectivity, management of device, network configuration and applications. \n\nDesign Implementation of Application and Network Domain Software \n\nThe developer uses OLTP for data store to activate interval time and location stamped (Section 5.4.1) video files. Software developer uses event analytics (Section 5.5.2) for developing surveillance management functions. \n\nTesting and Validation \n\nThe implanted hardware/software of both domains needs to be thoroughly tested in the laboratory environment by using sensors and cameras. \n\n12.3.2 Case Study: Connected RFIDs Supply Chain Monitoring Project \n\nSupply-chain monitoring process is important for companies, distributors and manufacturers. The IoT applications and services consist of Supply-Chain Order Verification, Automated Reordering and Shipping (SCOVARS) operations. The operations involved are planning and scheduling of production, scheduling deliveries, shipping, delivery confirmation from customer, automated reordering from customers, order verification, acknowledgement operations which repeat in each cycle. \n\nAn example of applications of SCOVARS is sale of toys, such as LEGO at stores and planning and scheduling of production of toys. Inventory control of each kind of toys uses the RFID labels at the toys, packages and containers for shipping. Whenever a toy sells at a store, such as WalMart, the inventory auto adjusts. Reordering of the toys sold during a week takes place using an app for automated reordering at the customer\u2019s end. When a reordering event occurs, then that processes at a server and the event messages route to the ERP applications at the LEGO enterprise. \n\nSection 1.1.3 introduced RFID, its functions, role and uses in IoT applications. Sections 1.5.2 and 7.6.1 explained connected RFID devices and RFID readers at both the customer end and enterprise end. A developer divides the design process into a number of steps as follows. \n\nAbstraction of SCOVARS \n\nProduction End (PE) assigns an identity to a root node (level 0) of data tree. Supply End (SE) assigns identities at daughter data-nodes (level 1) for each shipment. Shipping Node (SN) assigns identities at container data nodes (level 2). Shipping End (SHE) consists of identities of group of containers data nodes (level 3). Sales Organisation End (SOE) receiving the group of toy containers consists of identities of containers at data nodes \n\nSteps in designing a supply-chain monitoring \n\nsystem\u2014connected \n\nRFIDs system supply chain order verification, automated reordering and shipping \n\n(SCOVARS) \n\nIoT Case Studies 465 \n\n(level 4). Point of Sale End (POSE) assigns the identities at leaf nodes. A code designer abstracts the PE to POSE end-to-end communication as communication of data trees. Each data tree has data nodes with Universal Resource Identifiers (URIs), messages, alerts and triggers. Data nodes are distributed nodes in the PE-POSE supply chain network. \n\nThe code designer abstracts the POSE to PE end-to-end communication as communication of events, alerts, triggers, messages and data files. Each file has reordering information. \n\nArchitecture Reference Model for SCOVARS \n\nDesigner considers ITU-T four-layers (Figure 2.2) architecture as the reference. The layers have generic management, specific management and management and security capabilities. Four layers for Internet of RFIDs for SCOVARS are: \n\nLayer 1: Device layer capabilities and gateway capabilities are present in RFID physical device-cum-RFID reader, which uses the URI at each node. \n\nLayer 2: Transport and network capabilities use the protocol handlers and Internet connectivity. \n\nLayer 3: Services and application-support layer capabilities at a server node are RFID devices URI registry, access management, URI management and URI time series, server node database, events processing and data analytics. \n\nLayer 4: Services and applications capabilities perform the tracking, plan and schedule production, schedule deliveries, shipping, order verification, and acknowledgement operations. \n\nDesign Implementation of Layer Hardware/Software \n\nDesign implementation and prototyping of the devices between PE and POSE ends needs Arduino-like computing power. Prototype development can be done using Arduino Yun which combines the Arduino-based board with Linux. This is because of the two processors, ATmega32u4 for support to Arduino and Atheros AR9331 for running Linux. IoT application enablers are Wi-Fi, Ethernet support, a USB port, micro-SD card slot, 3 reset buttons and more. The Yun can be controlled from anywhere with any Internet-connected web browser without assigning an IP address to the board. WebSockets can also be used for providing real-time full-duplex communication over TCP.10 \n\nRefer Section 8.2\u2014Arduino board can be programmed using downloadable tools. Arduino IDE is the tool for the software development of embedded devices that makes application development easy. For example, a software serial library is provided in the IDE for a microcontroller system. The library consists of number of programs. The distinct program exists for each serial interface protocol. The program enables a user to directly use these protocol specific programs, such as using a program for reading an RFID tag or using a program for sending data to USB port for onward transmission on the Internet. \n\n10 http://asynkronix.se/internet-of-things-with-arduino-yun-and-yaler/ \n\nArduino board for prototyping the devices between PE and POSE \n\nends \n\n466 Internet of Things: Architecture and Design Principles \n\nA software serial library is provided in the Integrated Development Environment (IDE) for a microcontroller system. The library consists of a number of programs. \n\nSection 9.3 described Eclipse IoT stack-based end-to-end IoT solutions with Java and OSGi. Software developer can use Eclipse Kura development environment, gateway, services, cloud connectivity, management of device, network configuration and applications. \n\nDesign Implementation of Applications in SCOVARS \n\nThe developer can use connected devices or connected universe platform. The software requirements are event processing and transaction processing, database functions and event analytics (Section 5.5.2) for the development. \n\nTesting and Validation \n\nThe implanted hardware/software at each end-point between POSE and PE needs to be thoroughly tested in a laboratory environment. Arduino IDE is open source and provides embedded hardware and software platform, simulating and debugging. \n\n12.3.3 Case Study: Customer monitoring in IoT Applications/Services Project \n\nData from tracking of customers and customer database provides the behaviours, preferences, locations, usage patterns and product health. Applications such as business planning, analytics, health, services and manufacturing use this data. Consider \u2018tracking of customers carrying Internet-connected digital devices\u2019 (TCCICDD) project for the IoT applications and services case study. \n\nTracking is done using customer\u2019s Internet-connected mobile apps and wearable digital devices, customer databases, customer-end embedded devices and sensors. Information from customer feedbacks, the sale services and maintenance centres also enable tracking. Tracking customers and their information enable creation of innovative products, intelligent infrastructure, enhancing the operational efficiencies, craft provisioning of new customer experiences, and offer unique services to their customers. \n\nAn example is usage of customer behaviour, preferences, locations analytics and visualisation for sale services, customer feedbacks and preference for creating information for controlling supply chain and boosting sales. \n\nTCCICDD design process can be divided into a number of steps as follows. \n\nAbstraction for TCCICDD \n\nA designer abstracts the sensors and devices data as device messages. The designer abstracts the customer data for TCCICDD as devices messages, events, alerts and triggers. The sensors are put at the places of customer\u2019s visits, such as malls and company sales centres. \n\nCustomer tracking and \n\ncustomer database \n\nof behaviours, preferences, locations, \n\nusage patterns and product health for the innovative applications \n\nand services \n\nIoT Case Studies 467 \n\nThe messages include customer ID, location and time stamps. The designer abstracts contents as devices database. The database deploys the time-series information of the customer feedbacks, the sale services and maintenance centres. \n\nThe data store at the server for time series and location-stamped customer data, customer database and network accessed data, messages and events. \n\nCommunication gateway and the Internet abstract as network. Network consists of communication between the customer data, customer database and device messages and a connected universe or other PaaS. \n\nArchitecture Reference Model for TCCICDD \n\nLet TCCICDD project designer deploy Oracle reference model architecture (Figure 1.5) for the applications of IoTs in services and business processes. Five layers in project reference model are as follows: \n\nLayer 1 (Gather): A Mobile app of the company and apps at wearable and other devices connected devices send customer data to the gateway for change of locations, product health, preferences, usages of the product and feedbacks. Customer database contents are ID, account number, options, age, name and other information. The layer gathers the customer data, customer database, sensors and device data and sends that to layer 2 gateway. The software at embedded devices, sensors at malls and other public places also gather and send the data to gateway. \n\nLayer 2 (Enrich and Stream): Gateway enriches the data by generating time series and location-stamped data and adapting for communication using IPv4 protocol on the network. Gathered and enriched data stream to the server using the network. \n\nLayer 3 (Manage): Communication management functions access and perform ID management, data and messages routing and caching functions. \n\nLayer 4 (Acquire and Organise at server or cloud): Devices and diverse sources data store and acquires the data routes. Data is organised as big data store and database RDBMS. \n\nLayer 5 (Analyse + Intelligence): Applications perform analytics and data visualisation, and extract intelligence \n\nLayer 6 (Enterprise Integration, Complex Applications Integration and SoA) \n\nFigure 12.4 shows data-flow diagram and architecture for information, customers\u2019 data, IoT/M2M devices, sensors using a connected devices PaaS and TCCICDD applications and services. \n\nIdentifying Requirements at Six Layers at TCCICDD \n\nRequirements at six layers for TCCICDD are as follows: \n\nLayer 1 (Gather): The applications and services install at the mobile and wearable devices embed hardware and software for gathering the customer data. An embedded device \n\n468 Internet of Things: Architecture and Design Principles \n\ngathers the customer data for acquiring at server database. The embedded sensors and device hardware and software gather the data and communicate that to the gateway. \n\nLayer 2 (Enrich and Stream): Gateway software and processor accesses the data of layer 1 and enriches the data by generating time series and location-stamped data and adapts the data for sensing it to the network. Network card or shield streams to the server using network protocols. \n\nLayer 3 (Manage): Communication management functions does access and ID management, customer data and messages routing and caching. \n\nLayer 4 (Acquire and Organise): Server data store acquires the customer, events and data of devices and diverse sources. \n\nLayer 5 (Analyse and Intelligence): Data is organised as big data store and database RDBMS. Data is analysed using event processing, message routing and analytics \n\nManagement \n\nof Customer \n\nDevice Identity Device, Mobile, Customer Management \n\nGateway \n\n. \n\nNetwork \n\nInternet Firewall \n\nDatabase Firewall \n\nAnalytics \n\nApps \n\nWiFi \n\nWiFi \n\nNetwork \n\nWSNs \n\nGather Level 1 \n\nEnrich + Stream \n\nLevel 2 \n\nManage \n\nLevel 3 \n\nAcquire + Organise Level 4 \n\nAnalyse and intelligence Level 5 \n\nCustomer \n\nData \n\nMobile Apps User \n\nData \n\nMobile Service Network Information \n\nLocation and Other \n\nServices Information \n\nCustomer Database \n\nIoT Devices/ \n\nM2M \n\nData \n\nEmbedded \n\nSensors \n\nMobile Hotspot \n\nMobile Hotspot \n\nLocal Network \n\nGateway \n\nData Adaptation Transactions \n\nProcessing \n\nDevice Agents \n\nWiFi/Mobile \n\nCommuni- \n\ncation \n\nCommuni- \n\ncation Management \n\nHTTP, \n\nTCP, UDP, MQTT, ModBus, CAN and \n\nother Protocol Handlers \n\nMessage \n\nRouter \n\nMessage \n\nCache \n\nTCCICDD \n\nDatabase \n\nServer \n\nData Manage- \n\nment \n\nBig Data Store \n\nMessage \n\nRouting \n\nEvent Processing \n\nDatabase \n\nRDBMS \n\nDeveloper Re-planning, re-scheduling \n\nor innovate productionand \n\nbetter customer experiences \n\nusing TCCICDD data \n\nData \n\nVisualisations \n\nApps Service/ \n\nProduction/ \n\nManufacture \n\nTCUP or Other connected devices PaaS  Platform \n\nFigure 12.4  Data flow diagram and architecture for information, customers\u2019 data, IoT/M2M devices, \n\nsensors using a connected devices PaaS and TCCICDD applications/services \n\nIoT Case Studies 469 \n\nLayer 6 (Enterprise Integration, Complex Applications Integration and SoA): Applications perform analytics and data visualisation, and extract intelligence for service, production and manufacturing, re-planning, re-scheduling or innovating the production and providing better customer experiences using TCCICDD data. \n\nDesign Implementation of Hardware, Software, Applications and Services \n\nDesign implements layer 1 using mobile apps and embedded sensors and devices software. Design of sensors/devices needs Arduino and Raspberry Pi like computing power depending on the sensor. Example 9.12 explained Internet-connected smartphones for weather and location services using the APIs for web applications. Similarly a mobile app tracks the location data of the customer. \n\nA program sends data to USB/MMC port for onward transmission on the Internet. Section 9.3 described Eclipse IoT stack-based end-to-end IoT solutions with Java and OSGi. A software developer can use Eclipse Kura development environment, Gateway. Services, cloud connectivity, management of device, network configuration and applications. \n\nProject developer can use TCUP or other PaaS for communication management. Applications developer uses TCUP or other server platform data store, database, events and streams processing, OLTP and OLAP software, database functions, event analytics, analytics and data visualisation, and extract intelligence for service, production and manufacturing, re-planning, re-scheduling or innovating the production. \n\nReconfirm Your Understanding \n\n\u25cfPremises monitoring deploys a surveillance system, which communicates source of events, triggers, messages, data and data files between the ATMs and the bank server. \n\n\u25cfReference model architecture for ATM surveillance system can be considered as ETSI two-domains model\u2014device and gateway, and network and applications domains. \n\n\u25cfA design process has number of steps, viz. abstraction, design of hardware and software in a reference model, identifying requirements of embedded hardware and software modules for the domains, design implementation for the domains hardware and software, and testing and validation. \n\n\u25cfPrototype development board for premises monitoring system can be Raspberry Pi 2 Model B+. The board includes quad-core ARM Cortex-A7/ 900 MHz CPU, a graphic processor (Broadcom VideoCore IV) for graphics and video, 1 GB RAM, multimedia card module. OS Raspbian Ubuntu distribution of Linux, Snappy) enables programming for secure running of autonomous machines, sensors and video cameras. \n\n\u25cfDeveloper implements the design for domains hardware and software deploying Eclipse Stack, events and streams processing, OLTP and event analytics. \n\n\u25cfA supply-chain monitoring system is SCOVARS. Architecture reference model can be IETF/ITU-T reference model for RFIDs supply-chain applications for planning and scheduling production, scheduling deliveries, shipping, order verification, acknowledgement operations and customer applications for delivery confirmation from customer\u2019s and automated reordering. \n\n\u25cfSCOVARS uses RFID devices, readers and gateway, network, server and applications. \n\n470 Internet of Things: Architecture and Design Principles \n\n\u25cfSCOVARS design process and prototype development has number of steps\u2014abstraction, design of hardware and software in a reference model, identifying requirements of layer 1 embedded hardware and software modules and layer 2 to 4 software, design implementation for the domains hardware and software, and (v) testing and validation \n\n\u25cfArduino board suits prototype RFIDs at the customer and company ends. Arduino IDE and tools enable programming for a user to directly use these protocol-specific programs, such as using a program for reading an RFID tag or using a program for sending data to a USB port for onward transmission on the Internet. \n\n\u25cfA developer can implement the design for the hardware and software using the IDE and Eclipse Kura module in Stack. \n\n\u25cfDeveloper uses event processing and OLTP software, database functions and event analytics for the development of applications at the company end. \n\n\u25cfArduino IDE enables embedded hardware and software platform, simulating and debugging. \n\n\u25cfAn architecture based on Oracle reference model is used for TCCICDD. \n\n\u25cfA customer monitoring system is TCCICDD. It uses mobile apps, embedded sensors/devices, gateway, network, server and applications. \n\n\u25cfApplications for data visualisation and service, production or manufacture re-planning, re-scheduling or innovating the production and providing better customer experiences using TCCICDD data. \n\n\u25cfTCCICDD design process and prototype development have a number of steps\u2014abstraction, design of hardware and software in a reference model, identifying requirements of layers 1 embedded hardware and software modules and layers 2 and 3 gateway software and processor, design implements using a server platform, and testing and validation. \n\n\u25cfA developer can implement the design for hardware and software using the IDE and Eclipse Kura module in Stack. \n\n\u25cfThe project uses TCUP or other server platforms for communication management, data store and database. \n\n\u25cfA developer can use TCUP or other server platform, event processing and OLTP software, database functions and event analytics for the development of applications for a company using TCCICDD data. \n\nSelf-Assessment Exercise \n\n1. Make a table of abstraction of the hardware/software units in surveillance \n\nsystem in Internet of ATMs. 2. What are the hardware and software capabilities in ETSI architecture device \n\nand gateway for surveillance system for Internet of ATMs? 3. What are the hardware and software in ETSI architecture network and \n\napplications domain for surveillance system in Internet of ATMs? 4. List the functions in Eclipse IoT stack which can be used in the surveillance \n\nsystem. 5. Why does Raspberry Pi 2 Model B+ suit the prototype development of ATM \n\ndevices, sensors and cameras? 6. List the functions of each component and module in ATMs surveillance \n\nsystem server. \n\n\u2605 \n\n\u2605 \n\n\u2605\u2605 \n\n\u2605\u2605\u2605 \n\n\u2605\u2605 \n\n\u2605\u2605\u2605 \n\n\n![Image](/src/assets/generated_images/iot2_p497_i0.png)\n\nIoT Case Studies 471 \n\n7. Make a table of abstraction of the hardware/software units in supply chain \n\nmonitoring system SCOVARS. 8. What are the hardware and software requirements in IETF architecture layers \n\n1 and 2 for SCOVARS at the company and customer ends? 9. What are the functions for the application-support and applications layers 3 \n\nand 4 for SCOVARS? 10. List the functions of IDE needed at layer 1 in SCOVARS. 11. Why does Arduino Yun suit the prototype development of RFIDs layer 1 for \n\nSCOVARS? 12. List the functions at layer 3 for SCOVARS server. 13. Make a table of abstraction of the hardware/software units in TCCICDD. 14. What are the hardware and software requirements in Oracle architecture \n\nlayers 1 and 2 for TCCICDD for customer ends? 15. What are the functions for the layers 2, 3 and 4 for TCCICDD? 16. How do the applications use the data gathered at layer 1 for TCCICDD? 17. Why do mobile apps and embedded devices/sensors suit the prototype \n\ndevelopment of TCCICDD for layer 1? 18. List the functions at layers 5 and 6 for TCCICDD server. \n\n\u2605 \n\n\u2605 \n\n\u2605\u2605 \n\n\u2605\u2605\u2605 \n\n\u2605\u2605 \n\n\u2605\u2605\u2605 \n\n\u2605 \u2605 \n\n\u2605\u2605 \u2605\u2605\u2605 \u2605\u2605\u2605 \n\n\u2605\u2605 \n\n12.4 CONNECTED CAR AND ITS APPLICATIONS AND SERVICES \n\nFollowing subsections describe the connected car. The in-car components network among themselves. The car connects to the service centre, manufacturing units, traffic-monitoring systems and other services. \n\n12.4.1 Connected Car \n\nRecall Examples 5.2 and 5.7. Internet-connected cars enable the services of automotive service centres and predictive maintenance using predictive analytics. \n\nSection 12.1 introduced the concept of a connected car. Figure 12.5 shows an overview of in-car subunits in a connected car. \n\nIn-Car ECUs Cluster Network \n\nA connected car generates data using in-car Electronic Control Units (ECUs) cluster consisting of digital embedded devices/product heath devices/sensors. The cluster uses Bluetooth and NFC for inter-devices wireless communication, Controller Area Network (CAN) and Local Interconnect Network (LIN) for wire communication. Multimedia devices use Media Oriented System Transport (MOST). \n\nOutline a new concept \u2018connected car\u2019 with the example \n\nof Tesla \n\nLO 12.3 \n\nConnected in-car components network and Internet-connected \n\ncars enabling number \n\nof services \n\n472 Internet of Things: Architecture and Design Principles \n\nCluster \n\nThe cluster consists of the following systems: \n\n\u25cfEngine control \n\n\u25cfSpeed control and brake system, antilock braking, automatic braking and regenerative braking \n\n\u25cfSafety systems \n\n\u25cfSeat and pedal controls \n\n\u25cfCar environment controls: Car climate and light controllers control the air-conditioning, heater, ventilation, windows, light and temperature (ACHVWLT). \n\n\u25cfAutomobile status monitoring: Automobile status monitoring, tyre pressure, real-time vehicle mileage, data loggers and driving assisting devices management, steerable head lights, windshield IR camera, windscreen heads up display, night-vision assistance, and so on. \n\n\u25cfSystem interfaces for commands, voice activation, and Advanced Driver Assistance System (ADAS) and interfacing (System interfaces are soft programmable buttons, voice commands, and wireless personal area connectivity in the automobile). \n\nEthernet, MOST, Bluetooth Network \n\nLIN, CANNetwork \n\n2.5/3G /4G Network \n\nIn-Car Climate Control System \n\nMiracast Network \n\nWeather \n\nInternet Connected External LTE 4G Network to Cloud \n\nMobile Hotspot \n\nMaps/ Navigation \n\nMobile Apps/User \n\nDatat \n\nStreaming Audio Video \n\nLevel 3 \n\nHead Unit and \n\nRear Seats Entertainment \n\nAudio Video Infotainment \n\nSystems \n\nDisplay Communication \n\nAudio Communication \n\nRear View \n\nMonitor \n\nBluetooth, NFC, LIN, CAN, MOST based In-Car Network \n\nECUs (Digital Embedded Devices/component heath \n\nDevices/Sensors/ \n\nCluster \n\nReal Time Speed Monitor \n\nEngine Control Systems \n\nFuel Injection \n\nControl \n\nAdvanced Driver \n\nAssist System \n\nAntilock, Automatic, regenerative Braking System \n\nSteering Control \n\nSystem \n\nAuto Gear Control \n\nSystem \n\nFigure 12.5 Overview of an Internet-connected car \n\nIoT Case Studies 473 \n\nRoute and Traffic Monitors \n\nRoute and traffic controls and monitoring are done by mobile API based car location and surrounding area maps, cached traffic reports for real time traffic monitoring, guided route programming and route planners. \n\nInfotainment Systems \n\nInfotainment systems are as follows\u2014displayed text-to-speech converters. Bluetooth connected music player, VCD/DVD, car mobile phones, audio CD player, LCD screen, touch panel screen, Miracast devices for streaming Internet radio and video. Auto- managed infotainment features. \n\nEthernet Connectivity \n\nNext generation in-car network uses Ethernet bus and Ethernet audio-video bridge. The bridge is between the connected number of subsystems and units. The examples of usages of bridge are connectivity of other in-car networks with the head unit and rear-seats entertainment, driver information centre, advanced diver assistance system, and around view monitoring and gateways at ECUs. \n\nInternet Connectivity \n\nA connected car uses 2.5G/3G/HSPA+/4G or Wi-Fi network for connectivity of weather, maps, navigation and mobile apps and user data. Navigation is using data feed of near real-time traffic conditions to the car. Maps APIs may use Google maps. Location APIs use real-time GPS locations from location services. Internet connectivity can not only be through mobile data services of service providers but also from Wi-Fi nodes installed at the junctions in smart cities, where the network stacked for the cloud platform transmits from a nearby connected car in vicinity. Latest generation connected cars use 4G LTE for streaming audio-video (Internet radio and mobile TV), and for multimedia over the air updates for their in-car infotainment system. \n\nConnected car IoT enables seamless connectivity of \u2018in-car\u2019 systems with the Internet, driver assist/alerts, infrastructure usages, open source infotainment audio-video updates, and the company computational platforms. The Internet-connected car analytics enables diagnostics, prognosis, car maintenance and company services, comfort and convenience. \n\n12.4.2  Automotive Components Predictive Automotive Maintenance Service \n\n(ACPAMS) and Re-planning manufacturing process (RPMP) \n\nTwo applications of the connected car are: \n\n1. Automotive Components Predictive Automotive Maintenance Service (ACPAMS): \n\nOptimally-preparing and more effective maintenance, automatic detection of service requirements by direct transfer of service-relevant data to car maintenance and service centre, and driver/car user server and automatic reminder of servicing appointments shorten the service visits. \n\n474 Internet of Things: Architecture and Design Principles \n\n2. Re-planning manufacturing process (RPMP): The data are the customer ID and \n\nlocation and time stamped data as follows: \n\n\u25cfIn-car network data from ECUs Cluster of digital embedded devices/ car-health devices/sensors \n\n\u25cfIn-car climate control system \n\n\u25cfStreaming audio video \n\n\u25cfMaps, navigation, weather, mobile apps and user data \n\nApplications and services ACPAMS and RPMP \n\nACPAMS is a car maintenance service. A developer can design a number of service centre applications, such as remote diagnostics, roadside assistance, car malfunction and car- location-based emergency services and reporting for the service-centre support, remote care, fleet management, fuel and eco-initiatives. Connected-car advanced analytics with in- depth views including car-health monitoring, car-health trend analysis, condition-based maintenance triggers, detecting dependencies amongst car-health problems, depreciation analysis and driving behaviour analytics, analysis, detecting patterns of dependencies among vehicle health issues, location-based geospatial analysis. \n\nRPMP enables re-planning, re-scheduling or innovating the production and manufacturing of automotive components and the car. RPMP also enables design for better customer experiences using the organised and analysed data. \n\nFigure 12.6 shows data-flow diagram and architecture of connected car using TCUP for system designing, developers, manufacturing units and maintenance service units and IoT applications/services. \n\nIdentifying Requirements at Six Layers at ACPAMS and RPMP \n\nRequirements at six layers for ACPAMS and RPMP applications and services are: \n\nLayer 1 (Gather): The apps install at the mobile and wearable devices embed hardware and software for gathering the car location, weather, traffic, navigation and car-health data. ECUs cluster gathers the data using buses. The embedded sensors and device hardware and software gather the data and communicate that using the bus. \n\nLayer 2 (Enrich and Stream): Software at car central computer access the data of layer 1. The data collects using CAN, MOST, Ethernet and Miracast Wi-Fi devices and display board. Software enriches the data by generating time series and location-stamped data and adapts the data for sending it to the network. The central-computer has smart gateway for ECUs cluster and provides cryptographic authentication, integrity and confidentiality functions for car cluster security. \n\nA car may use Miracast devices Wi-Fi alliance certified software implementation and Wi-Fi display technical specification. Wi-Fi alliance defines Miracast usages protocol to provide \u2018HDMI over Wi-Fi\u2019, replacing the cable from the computer to the display and in-car infotainment systems. Adapters plug into HDMI or USB ports that enable non- Miracast devices to connect using the Miracast. \n\n\n![Image](/src/assets/generated_images/iot2_p501_i0.png)\n\n![Image](/src/assets/generated_images/iot2_p501_i1.png)\n\n![Image](/src/assets/generated_images/iot2_p501_i2.png)\n\n![Image](/src/assets/generated_images/iot2_p501_i3.png)\n\n![Image](/src/assets/generated_images/iot2_p501_i4.png)\n\n![Image](/src/assets/generated_images/iot2_p501_i5.png)\nIoT Case Studies 475 \n\nThe in-car computer streams data to the network using mobile services or 2.5G/3G/ HSPA+/4G or Wi-Fi network protocols. \n\nLayer 3 (Manage): TCUP or a cloud server PaaS consists of communication management functions for the accesses, and ECU cluster, infotainment and other systems management, data and messages routing and caching. \n\nLayer 4 (Acquire and Organise): The platform acquires the ACPAMS and RPMP data, events and data of devices and diverse sources. \n\n\n\n\n\n\n\n\nConnected Car \n\nWiFi Network LTE Network \n\nInternet Firewall \n\nIP Network \n\nConnected Car \n\nConnected Car \n\nGather Level 1 \n\nEnrich Level 2 \n\nStream Level 3 \n\nManage Level 4 \n\nAcquire \n\nLevel 5 \n\nOrganise and Analyse \n\nLevel 6 \n\nCommunication \n\nManagement \n\nHTTP, \n\nTCP, UDP, LTE/3G/ \n\n2G Mobile Command \n\nOther Protocol Handlers \n\nMessage \n\nRouter \n\nMessage \n\nCache \n\nCar and Devices Identity and \n\nAccess Management \n\nCar ECUs \n\nDevices \n\nand Diverse Sources \n\nData \n\nMessages \n\ncaches \n\nMessage \n\nRouting \n\nDatabase Firewall \n\nDriver,  Car User and Service Centre \n\nServer Data Management \n\nDatabase \n\nRDBMS Big Data Store \n\nMessage \n\nRouting \n\nEvent Processing \n\nPrescriptive \n\nAnalytics \n\nDescriptive \n\nAnalytics \n\nPredictive \n\nAnalytics \n\nIIoT/IoT Applications/ \n\nServices \n\nAPIs for \n\nDeveloper \n\nApps for re-planning \n\nthe marketing, sales, \n\nServices and offering \n\nbetter customer \n\nexperiences \n\nManufacturing \n\nUnit Apps \n\nApps Service/ Maintenance \n\nCentre/ Service Calls/ \n\nDiagnostics/ \n\nPredictive Analytics TCUP or Cloud Server PaaS \n\nFigure 12.6  Data-flow diagram and architecture of connected cars using TCUP for system designing, \n\ndevelopers, manufacturing units and maintenance service units \n\n476 Internet of Things: Architecture and Design Principles \n\nLayer 5 (Analyse and Intelligence): The platform organises data as big data store and database RDBMS. Data is analysed using the event processing, message routing, analytics and AI. \n\nLayer 6 (Enterprise Integration, Complex Applications Integration and SoA): Services and applications run on the processors for the service, production and manufac- ture, data visualisation, re-planning, re-scheduling or innovating the production and better customer experiences using ACPAMS, RPMP and services data. \n\nDesign Implementation of Layers 1 and 2 Hardware/Software \n\nDesign implements layer 1 using mobile apps and embedded sensors and devices software. Design of ECUs/embedded devices/sensors/car-components health devices need Arduino AVR or ARM-based boards with the sensors. Infotainment systems prototype can use Raspberry Pi 2 Model B+ or BB boards. The boards provide high computing power, graphic, video and audio processing needs. A program sends data to USB/MMC port for onward transmission on Internet. \n\nEclipse IoT stack-based end-to-end IoT solutions with Java and OSGi: A software developer can use Eclipse Kura development environment, gateway. Services, cloud connectivity, management of device, network configuration and applications. \n\nDesign Implementation of Layers 3, 4, 5 and 6 \n\nThe project uses TCUP or other server platform for communication management, data store, and database. \n\nTCUP or Other Cloud Server PaaS Platform \n\nThe IoT/IIoT data stores at TCUP or other PaaS cloud. The data are used for number of purposes such as service centre maintenance, re-planning the marketing, sales, service and product development functions, manufacturing processes, and personalising and deepening customer experiences and by developing additional value-added services. \n\n12.4.3 Tesla Car with Semi-Autonomous Drive Assist \n\nA Tesla car is electric car running on lightweight lithium battery with more than 200 km range with autopilot mode. Autopilot refers to semi-autonomous Advanced Driver Assist System (ADAS). Tesla car has ADAS, twelve ultrasonic sensors in the front and rear bumpers, eight radar cameras mounted at the top of the windshield and forward looking radar. Tesla car hardware provides full self-driving capability at a safety level (SAE Level 5). \n\nADAS automates, adapts and enhances automobile systems for safety (SAE level 5) and better driving with features, such as incorporate GPS and traffic warnings and or alert about the blind spots. \n\nSafety features refers to collisions avoidance, accidents prevention, automate braking, and taking over control of the vehicle. \n\nIoT Case Studies 477 \n\nThe in-car system alerts the driver about potential problems, to other cars or dangers, and keeps the driver in the correct lane. \n\nThe Tesla system operates in a shadow mode which means processing without taking action but for sending data back to Tesla production unit to improve the car abilities and functionalities. Later the software can be upgraded over-the-air. Earlier, the car did not have automatic emergency braking and other features. Tesla expects full self-driving by 2017 end. \n\nReconfirm Your Understanding \n\n\u25cfIoT applications and services enable car maintenance service, service centre applications, for example, remote diagnostics, roadside assistance, car malfunction and location car based emergency services and reporting for service centre support, remote care, fleet management, fuel and eco initiatives. \n\n\u25cfInternet connected car has in-car network of ECUs. The architecture can be based on Oracle reference model for ACPAMS, RPMP and other services. \n\n\u25cfConnected car generates data using in car ECUs cluster consisting of digital embedded devices/ component health devices/sensors \n\n\u25cfLIN, NFC, CAN, MOST, Bluetooth, Ethernet and Miracast protocols enable in-car connectivity. \n\n\u25cfConnected car uses mobile apps for maps, navigation, location data and wearable devices or embedded health devices for health data. Connected car communicate to Internet using 4G LTE/3G/2.5 G mobile data or Wi-Fi over IP network. \n\n\u25cfA central in-car computer enriches the generated data. In-car infotainment systems use Miracast devices for in-car network. \n\n\u25cfTCUP or other PaaS cloud enables the developer to develop new applications. \n\n\u25cfThe platform runs the applications for\u2014maintenance by Service Centre; re-planning the marketing, sales, service and product development functions, manufacturing processes; and personalising and deepening customer experiences and by developing additional value-added services. \n\n\u25cfTesla is an electric car with autopilot mode. It will possess full self-driving capability with safety in future. \n\nSelf-Assessment Exercise \n\n1. Make a table of abstraction of the hardware/software units in ACPAMS and \n\nRPMP. 2. What are the hardware and software requirements in Oracle architecture \n\nlayers 1 to 6 for ACPAMS and RPMP for connected-car end? 3. Why do Arduino, Raspberry Pi Model B+ and mBed boards suit the \n\ndevelopment of the embedded devices/sensors for prototype development of ACPAMS and RPMP for layer 1? 4. List the functions at layers 5 and 6 ACPAMS and RPMP PaaS (Figure 12.6). 5. List the applications a developer uses for the car maintenance service centre \n\nand driver/car user server databases. 6. How do the car ECUs, devices and diverse sources data enable RPMP? \n\n\u2605 \n\n\u2605 \n\n\u2605\u2605 \n\n\u2605\u2605\u2605 \n\n\u2605\u2605 \n\n\u2605\u2605\u2605 \n\n\n![Image](/src/assets/generated_images/iot2_p504_i0.png)\n\n478 Internet of Things: Architecture and Design Principles \n\n12.5 IoT APPLICATIONS FOR SMART HOMES, CITIES, ENVIRONMENT-MONITORING AND AGRICULTURE \n\nSmart homes, smart cities, smart environment monitoring and smart agriculture are illustrative examples of IoT applications and services. Subsections below describe design approach for designing the projects in these areas. \n\n12.5.1 Smart Home \n\nSection 1.7.2 introduced the smart home concept and listed a number of smart home services, such as home lighting control, control and monitoring of appliances, security, intrusion detection, video surveillance, access control and security alerts, Wi-Fi, Internet, and remote cloud access, control and monitoring. \n\nSmart-home Devices Development and Deployment using an Open-source Software \n\nAll smart home devices can communicate using openHAB.11 HAB drives from Home Automation Bus. The developer deploys Java and OSGi services (Section 9.3.2) and uses the open source development environment and deployment platform. Its accompanying cloud platform12 my.openHAB provides communication between that with the cloud. The my.openHAB cloud-connector also provides REST (Section 3.4.4) and cloud-based services, such as IFTTT (Section 12.1). The operating system versions Android 4.1 onwards and iOS7 onwards for IFTTT, enable services such as smart home controls and automation using mobile phones or tablets. OpenHAB computing environment is Java. GUI clients are designed and can be used as downloads from git.13 IDE, guidelines, bindings for code development are provided for openHAB.14 Figure 12.7 shows architectural layers in openHAB development environment. \n\nA service in figure refers to service capabilities, which can be called upon whenever needed. The figure shows the following: \n\n1. Core openHAB objects\u2014REST service and repository; base library 2. openHAB add-on objects\u2014Item provider, protocol bindings, automation logics, user \n\ninterfaces and libraries 3. OSGi framework services\u2014Configuration administration, event administration \n\nservice, declarative services, log back, runtime and HTTP services \n\n11 http://www.openhab.org/ 12 https://my.openHAB.org 13 https://git-scm.com/downloads 14 http://docs.openhab.org/developers/developers/development/ide.html, /development/guidelines.html, /development/ bindings.html \n\nSummarise the design approaches \n\nto IoT applications for smart homes, smart \n\ncities, smart environment monitoring \n\nand smart agriculture \n\nusing illustrative \n\nexamples \n\nLO 12.4 \n\nHome automation enabling on deploying openHAB, a Java and \n\nOSGi services based open-source software development platform \n\nIoT Case Studies 479 \n\nHTTP Service \n\nLog back \n\nCore \n\nBase Library \n\nItem Provider \n\n(Add-On) \n\nProtocol Bindings (Add-On) \n\nAutomation Logic \n\n(Add-On) \n\nUser Interfaces \n\n(Add-On) \n\nREST Service \n\n(Core) \n\nRepository \n\n(Core) \n\nLibraries (Add-On) \n\nDeclarative \n\nServices \n\nEvent Administration \n\nConfiguration Administration \n\nOSGi Runtime \n\nFigure 12.7  Architectural layers in openHAB development environment \n\n4. OpenHAB deploys event administration service of OSGi with pub/sub mode. 5. A stateful repository is for querying and for use by automation logics. Some functions \n\nare stateless and do not depend on previous action(s). Remaining actions are stateful and dependent on previous chain of actions. State of items in repository is as per the actions. Two domains and their high-level service capabilities in the home automation system in IoT architecture reference model are: \n\n1. Device and Gateway Domain: Assume that the system deploys j lighting devices, \n\neach with a proximity sensor. Automation logic provides that if no change is found in proximity due to presence of person(s) then the devices switch off. Assume that the system also deploys k intrusion sensors and l appliances. Automation logic provides on intrusion, communicate trigger(s) to a local or remote web-service as per configuration setting at the configuration administration service of OSGi framework. 2. Application and Network Domain: Applications and network domain deploys \n\napplications and services and have high-level capabilities. \n\nDomain Architectural Reference Model \n\nFigure 12.8 shows the data-flow diagram and domain architecture reference model for home automation lighting, appliances and intrusion monitoring services. \n\n\n![Image](/src/assets/generated_images/iot2_p506_i0.png)\n480 Internet of Things: Architecture and Design Principles \n\n\nmy.openHAB. org \n\nHTTP Service \n\nDevice and Gateway Domain Applications and Network Domain \n\nAutomation Logic \n\nopenHAB \n\nEvents Bus \n\nUser Interfaces \n\nItem Provider \n\nAndroid \n\niOS \n\nApplets (Trigger and Actions) \n\nAnalytics \n\nControl of Home Devices \n\nRemote Control of Internet \n\nConnected Home Devices \n\nSmart Lights 1,\u2026, i \n\nProximity \n\nSensors \n\n1,\u2026, j \n\nIntrusion \n\nSensors \n\n1,\u2026, k \n\nAppliances \n\n1, \u2026, l \n\nProtocol Bindings \n\nEvent Messages \n\nRouter \n\nOSGi Framework \n\nEvent Message \n\nRouting \n\nEvent Processing \n\nHome Event \n\nMessages \n\nIntrusion Data Files \n\nIFTTT \n\nApplications/ \n\nServices \n\ne-Mail \n\nSocial Media \n\nSet of Web \n\nServices \n\nFigure 12.8  Data-flow diagram and domain architecture reference model for home automation \n\nlighting, appliances and intrusion monitoring services \n\nFigure shows that openHAB has an event bus. The bus is asynchronous. The event bus refers to a communication bus for all protocol bindings. The bindings link to the hardware. The event bus is the base service of openHAB. Example of the event is command, which triggers an action or a state change of some item or device. Another example of event is status update which informs about a status change of some item or device. For example, in response to a command. \n\nThe openHAB service is integration-hub between such devices and bindings between different protocols used for networking the home devices, OSGi and HTTP service. Usually just one instance of openHAB runs on a central coordinator (computer) at home. Event Administration Service of OSGi service is used for remote services. Several distributed openHAB instances can connect and deploy the event bus. \n\nCode Development Environment, Development, Debugging and Deployment \n\nThe openHAB development uses the Eclipse IDE (Section 9.3.1) for Java Developers. Development environment can be selected as Windows (32 or 64), Linux or Mac. The Eclipse Installer adds all required plug-ins, provides encoding settings for workspace, pre-configured code formatters and automatically prepares the IDE. Workspace compiles and provides runtime by opting\u201c openHAB_Runtime\u201d configuration. \n\nIoT Case Studies 481 \n\nThe openHAB platform is neutral to hardware and interfacing protocols. For example, a security camera device may be on Raspberry platform and lighting devices on Arduino. The automation logics can connect different systems. Bus systems, devices and protocols have dedicated bindings to openHAB. Each binding User Interface (UI) design can have unique look and feel. A binding sends and receives the commands, and status updates on openHAB event bus. \n\nThe openHAB brings together different bus systems, hardware devices and interface protocols. The dedicated bindings facilitate this. The openHAB solution aims for provisioning a universal integration platform for the devices. The codes are written in Java and are fully based on OSGi. The Equinox OSGi runtime and Jetty as a web server build the core foundation of the runtime. \n\nDevices hardware design components are 24 \u00a5 7 active digital video cameras for intrusion detection, number of spatially-distributed embedded proximity sensors, the home premises; sensors data processing for detection of suspicious activities; video- processing and filtering hardware; communication network connectivity to the events bus, and on the event, communication network connectivity. \n\nSoftware design modules at the device domain are software components for embedded device distributed proximity sensors data processing; filtering and extraction of events; and communication on the events, and media server gateway for communication of events. \n\nIdentifying Requirements of Network Sub-domain \n\nNetwork hardware and software design components are Wi-Fi/WiMax access network, core IP network, and server. Software design components are network management functions to ensure secure communication network between device and gateway domain and applications/services. \n\nThe openHAB cloud connector connects the local openHAB runtime to a remote openHAB cloud, such as my.openHAB, instance from openHAB foundation.15 \n\nDesign Implementation of Device and Gateway Domain Hardware and Software \n\nSection 7.2.2 described the sensors which can be deployed for a number of home automation applications. An implementation of home premise intrusion circuits and embedded sensor devices software needs high computing power for intrusion detection. Section 8.3.4 described Raspberry Pi 2 model B+ (RPi 2) which can be deployed due to high computing power. \n\nAn implementation of home premise lighting and appliances embedded sensor devices software needs computing power for lighting automation and Arduino or RPi boards can be deployed. \n\nThe openHAB can be used for end-to-end solutions for smart home applications and services. Section 9.3.2 described Eclipse IoT stack-based end-to-end IoT solutions with \n\n15 https://github.com/openhab/openhab/wiki/openHAB-Cloud-Connector \n\n482 Internet of Things: Architecture and Design Principles \n\nJava and OSGi. A developer can code using Eclipse stack components for abstractions, software and gateway software in embedded sensors and devices. Sample projects using openHAB are given at Github.16 \n\n12.5.2 Smart City \n\nSmart city applications and services connect people, process, data and things. A smart city can be defined as a vision which integrates multiple ICT and IoT solutions in a secure fashion to manage a city\u2019s assets such as information systems, schools, libraries, transportation systems, hospitals, power plants, water supply networks, waste management, law enforcement and other community services. Sectors that have been developing smart city technology include government services, transport and traffic management, energy, health care, water, innovative urban agriculture and waste management.17 \n\nSmart-city solutions integrate a number of city services and can include the following18: 1. Smart parking spaces 2. Smart street lightings and smart lighting solutions, such as SimplySNAP smart \n\nlighting solution which enables the development, control, and optimisation of a smart lighting implementation, developed by Synapse Wireless partnering with ThingWorx 3. Smart traffic solutions, such as smart energy management, smart parking, smart \n\nwaste bins, smart street lighting, and security and surveillance, developed by Tech Mahindra partnering with ThingWorx 4. Smart water management, such as AquamatiX for monitoring and optimizing a city\u2019s \n\nwater and sewage services 5. Smart connected bike share services 6. Smart health services 7. Smart structures (building, bridges and historical monuments) health, vibrations and \n\nmaterial conditions monitoring, analysing and managing structures health data to improve energy usage, maintenance, operations, and comfort solution. For example using solutions developed by WiseUp partnering with ThingWorx platform 8. Smart city system integrator, such as Pactera from ThingWorx \n\nArchitectural View \n\nFigure 1.12 shows four-layer architectural framework developed at CISCO cloud IoT for a city. Layers consists of (i) devices network and distributed nodes, (ii) distributed \n\n16 https://github.com/openHAB/openHAB/wiki/Projects-using-openHAB 17 https://en.wikipedia.org/wiki/Smart_city 18 https://www.thingworx.com/about/news/ptc-demonstrates-industry-leadership-smart-cities-smart-city-expo-world- congress-2016/ \n\nSmart city secure deploying multiple ICT and IoT solutions, such as smart parking, \n\ntraffic solutions, street- \n\nlighting, health and waste management \n\nservices \n\n\n![Image](/src/assets/generated_images/iot2_p509_i0.png)\n\n![Image](/src/assets/generated_images/iot2_p509_i1.png)\nIoT Case Studies 483 \n\ndata capture, processing and analysing, (iii) data centres and cloud and (iv) applications, such as waste containers monitoring. Figure 12.9 shows data-flow diagram and domain architecture reference model for the smart city applications and services.19 \n\n\n\nIoT Core \n\nTrigger and Actions \n\nServices, Security and City Services Management \n\nEdge Computing \n\nApps \n\nCity Devices and Gateways Domain \n\nShared Network, Cloud IoT Platform and Applications Domain \n\nSmall Cells/ WLAN/ LPWAN \n\nCloud Network \n\nCity Cloud IoT Platform \n\nSmart City \n\nServices \n\nSmart Devices \n\n1,\u2026, i \n\nSensors \n\n1,\u2026, j \n\nIntrusion \n\nSensors \n\n1,\u2026, k \n\nMobile and Fixed \n\nAssets, \n\nand Devices \n\n1,\u2026.., l \n\nIP Protocol Distributed \n\nNetwork \n\nDistributed Network using MPLS Protocol \n\nMPLS Services HTTP, HTTPS, Wi-FiServices \n\nDevices, Distributed LPWAN and \n\nCloud Interconnect \n\nData Processing and Analytics \n\nApplication \n\nEnablers \n\nConnectivity Management \n\nDevice Management \n\nData Files \n\nStore \n\nApplications/ \n\nServices \n\nAndroid \n\nApps \n\niOS  Apps \n\nSocial Media \n\nSet of Web \n\nServices \n\nFigure 12.9  Data flow diagram and domain architecture reference model for the smart City Applications \n\nand Services \n\nTwo domains are (i) City devices and Gateways domain, and (ii) shared network, cloud IoT platform and applications domains. Services, security and city services management are cross-domain functions. Assume the edge sensors and devices consist of, say i-smart devices, j- sensors, k-intrusion sensors and l- mobile and fixed assets and devices whereas i, j, k and l can be very large numbers. \n\nThe edge sensors and devices wirelessly connect within small cells, systems connect with WLAN (Wireless LAN). They communicate using LPWAN. The distributed network of edge-computing systems connects using IP protocols or using the Multiprotocol Label Switching (MPLS). The MPLS assigns the labels to data packets and forward the labels to city cloud IoT platform. \n\nCity cloud IoT platform collects messages, triggers, alerts and data files at data store. The platform does device and connectivity management functions, application enabler \n\n19 https://networks.nokia.com/smart-city \n\n484 Internet of Things: Architecture and Design Principles \n\nfunctions, and data processing and analytics. The platform generates triggers which follows actions, such as connect to social media, set of web services, applications, iOS apps and Android apps. The platform connects to a number of city applications and services. \n\nSmart city applications and services can deploy CISCO IoT, IOx and Fog. This is because of usages of shared networks and distributed access point nodes, and the need of an ecosystem with ability to transform sensor data and perform the control functions within the distributed network nodes. This enables development of applications, such as site asset management, energy monitoring, and smart parking infrastructure and connected cities. \n\nAlternatively, smart city solutions can deploy ThingWorx IoT platform, which is an intelligent management platform for all connected things (IMPACT). IMPACT platform provides devices and connectivity management, application enablement, data and analytics with secure end-to-end access. \n\nSensors, Devices, Hardware Edge Systems Deployment \n\nSection 7.2.2 described the sensors which can be deployed for a number of city applications. Section 8.3 described embedded platforms Arduino, Edison, RPi, BeagleBone and mBed which can be used for prototype development of edge systems. \n\nAn open-source prototyping platform, openHAB and hardware RPi or Arduino can be deployed at the edge systems. Bosch presented at CES 2017 a prototyping platform for IoT.20 The platform connects the devices and provides a number of solutions. Edge hardware is Bosch XDK 110 development kit, which includes devices [eight number microelectromechanical system, accelerometer, magnetometer and gyroscope, coupled with relative-humidity (RH), pressure (P), temperature (T), acoustic and digital light- sensors], functional extendibility with a 26-pin extension port, Bluetooth and Wi-Fi connectivity.21 XDK workbench includes its IDE. \n\nCode Development Environment, Development, Debugging and Deployment \n\nSection 9.3.2 described end-to-end IoT Solutions with Java and Eclipse IoT Stack. Section 12.5.1 described openHAB software platform for devices, sensor and edge systems at a smart home. Java, Eclipse IoT Stack and openHAB can be used for end-to-end solutions for smart city applications and services. \n\nXDK workbench is for code development environment for the prototype kit XDK 110. The workbench includes the IDE, software for all system component drivers, a debugger port, and high and low level APIs for sensors. The bench also includes libraries for sensor readings, CoAP and LWM2M client and server, MQTT client and broker using Eclipse Paho connector, and HTTP client request and response server. Also included are virtual SDK applications for virtual mobile iOS and Android GUIs for monitoring and control of the sensors and WLAN and Bluetooth LE protocol stacks. XDK provides access to XDK developer community for online technical support. The community offers platform for discussions of ideas, exchange of information and innovation. \n\n20 http://www.eetimes.com/document.asp?doc_id=1331136 21 http://xdk.bosch-connectivity.com/overview \n\nIoT Case Studies 485 \n\nSmart City Parking \n\nA growing problem in cities is of vehicular traffic congestion and parking spaces. A modern city, therefore, provides a number of multilevel parking spaces which spread all over the city. A driver needs a mobile app. Significant fuel saving can result from provisioning of smart parking spaces in a city. \n\nA smart parking-service should enable the following: 1. Guides the drivers for the available parking slots and spaces 2. Provides a mobile app, and the app assists a driver and enables him/her to obtain the \n\nappropriate parking-slot information remotely. The information includes location of the parking utility, its cost, advance reservation facility, direction guidance and the time to reach an available slot. The app accesses the slots availability in real-time data in pub/sub mode. 3. Publishes messages in real time for available slots and alerts for slot unavailability at \n\nthe parking utility 4. Consists of a central supervisory control and monitoring system (CSS) which connects \n\nthe edge sensors and devices, accurately senses the slots available for occupancy of vehicles in real time, and predicts the expected availability time in case of non- availability of slots 5. Optimises the usages of parking spaces and reaching time 6. Provides display boards at road traffic junctions for status of availability 7. Provides good parking experience to users 8. Adds value for all parking stakeholders, drivers and service providers 9. Enables intelligent decisions using data and historical analytics reports at city cloud \n\ndata store, and enables planning for traffic flow in the city by predictive analytics Sensors play vital role in the smart parking. The application is ranked as topmost among 50 sensor-applications for a smarter world.22 \n\nDomain Architecture Reference Model \n\nFigure 12.10 shows data-flow diagram, domains and architecture reference model for smart parking applications and services. \n\nThe figure shows four layers at two domains. Parking spaces are at layer 1. They are sensed using coordinators at each level in multilevel parking spaces. An actuator for the light at each slot is used. Lighting control module at the coordinator actuates the parking space lights. The lightings can be switched on and off as per requirement for each space. \n\nA Parking Assistance System (PAS) is at layer 2. This includes CCS and three modules for monitoring, control and display. Layers 1 and 2 communication protocols are ZigBee, LWM2M and UDP. \n\nThe CSS maintains a real-time database of time-series data of the parking spaces. The system connects layer 3, which includes the SMS gateway and cloud IoT platform. \n\n22 http://www.libelium.com/resources/top_50_iot_sensor_applications_ranking/ \n\n\n![Image](/src/assets/generated_images/iot2_p512_i0.png)\n\n![Image](/src/assets/generated_images/iot2_p512_i1.png)\n\n![Image](/src/assets/generated_images/iot2_p512_i2.png)\n486 Internet of Things: Architecture and Design Principles \n\n\n\n\nParking Area \n\nTrigger and Actions \n\nApps \n\nCity Cloud IoT Platform \n\nZigBee  network for coordinators \n\nSMS Service \n\nApps Store \n\nLayer 1 Layer 2 Layer 3 Layer 4 \n\nCity Parking Spaces and \n\nGateways Domain \n\nShared Network, Cloud, IoT Platform \n\nand Parking Applications Domain \n\nParking Services, Security and Services Management \n\nUltrasonic Sensors at Multilevel \n\nParking \n\nSpaces \n\nParking \n\nspaces 1,\u2026, i \n\nParking \n\nspaces 1,\u2026, j \n\nParking spaces 1,\u2026, k \n\nParking \n\nspaces 1,\u2026.., l \n\nUDP connected \n\nCentralised Supervisory \n\nSystem and Connectivity Management \n\nSpace monitoring, \n\nControl commands for \n\nactuators at each lighting \n\nand Display \n\nmodules at parking spaces \n\nReal-time \n\nDatabase \n\nDevice Management \n\nWi-Fi, HTTP, HTTPS, Wi-Fi Services \n\nDirection and route, Slot number \n\nallotted, Parked time \n\nand Billing information \n\nAndroid \n\nApps \n\niOS  Apps \n\nPayment Gateway \n\nParking Areas \n\nManagement \n\nConnectivity Management \n\nData Processing and \n\nData Analytics \n\nData Store \n\nSet of Web Services and Applications \n\nFigure 12.10  Data flow diagram, domain architecture reference model and four layers for the design of \n\nsmart parking applications and services \n\nLayer 2 connects CSS with all coordinators. Layer 2 includes a real-time time-series database. Layer 2 also connects with three modules for (i) displaying, (ii) space monitoring and (iii) control commands for actuators for each parking slot. \n\nLayer 3 consists of SMS gateway and City cloud IoT platform that connects CSS, modules and database using the Wi-Fi, HTTP and HTTPS services. The platform has data store, data processing and analytics, and parking areas and connectivity management modules. \n\nThe CSS sends the UDP packets using MPLS and uses a SMS service to communicate with the mobile app. The SMS service communicates parking information. A packet provides information such as slot available, slot allocated, time parked, billing information and directional and parking space route details to the user\u2019s mobile phone \n\nThe user downloads a PAS app from the App store. The user\u2019s mobile also connects to a payment gateway for parking service bill payment. \n\n\n![Image](/src/assets/generated_images/iot2_p513_i0.png)\n\n![Image](/src/assets/generated_images/iot2_p513_i1.png)\n\n![Image](/src/assets/generated_images/iot2_p513_i2.png)\n\n![Image](/src/assets/generated_images/iot2_p513_i3.png)\nIoT Case Studies 487 \n\nLayer 4 web services connect the cloud data store, and use the PaaS cloud for the analytics. \n\nHardware Prototype Development and Deployment \n\nSection 7.2.2 described sensors for ultrasonic pulse detectors. When a car parking slot is occupied, then the parked car reflects back ultrasonic pulses to the source. The sensor measures the reflected directional intensity and delay period for the reflections. The advantage of ultrasonic waves is that the distance and therefore, identification of reflector car surface is also found from the delay in reflected pulses. \n\nThe coordinator updates the parked slots status on each alert from a circuit. The sensor associated circuit at coordinator alerts the CSS for status change and generates time-series messages from the sensor data and communicates to the CSS for saving at the real-time database. \n\nFigure 12.11 shows the design principle for a set up for identifying vacant spaces and slot IDs using ultrasonic pulses and back reflections to the transceiver (emitter and sensors) at the coordinator. \n\n\n\n\n\n\nZigBee Communication \n\nOccupied Slot \n\nOccupied Slot \n\nVacant Slot Central Supervisory \n\nSystem \n\nVacant Slot \n\nCoordinator with \n\nultrasonic pulse emitters and array of \n\nsensor circuits \n\nOccupied Slot \n\ninvisible \n\nOccupied Slot \n\ninvisible \n\nFigure 12.11  Design principle for the set up for identifying vacant spaces using ultrasonic pulses and \n\nback reflections from cars to the transceiver at the coordinator \n\n488 Internet of Things: Architecture and Design Principles \n\nAssume that a set of four coordinators each are placed at each level. A coordinator consists of a transceiver, which emits ultrasonic pulses and receives reflected signals using an array of sensors. Sensors have associated circuits at each level of parking. Assume that each transceiver\u2019s-coverage area at each coordinator spans to one fourth of the slots at that level. Therefore, total sixteen coordinators are located at four levels 1, 2, 3, and 4. Four coordinators at level 1 are Ci1, Ci2, Ci3 and Ci4, four at level 2 are Cj1, Cj2, Cj3 and Ci4, four at level 3 are Ck1, Ck2, Ck3 and Ck4 and four at level 4 are Cl1, Cl2, Cl3 and Cl4. \n\nThe coordinators process the status information and time-series data transmits to CSS. The CSS receives information of parking slots from the coordinators as UDP datagram. CSS then relays the parking information to city-cloud platform data-store and to users, which seeks that from mobiles or card dashboard computer. Each coordinator sends all messages with slot ID and observation instances onto the ZigBee network as time-series data. A real-time database updates at regular intervals, say of 1 m each. \n\nThe edge sensors and devices wirelessly connect within small cells, systems connect with ZigBee. They communicate using LPWAN. The distributed network of edge-computing systems connects using IP protocols or using the Multi Protocol Label Switching (MPLS). The MPLS assigns the labels to data packets and forward the labels to City cloud IoT- platform. \n\nCode Development Environment, Development, Debugging and Deployment \n\nSection 9.3.2 described end-to-end IoT Solutions with Java and Eclipse IoT Stack. Section 12.5.1 described openHAB software platform for devices, sensor and edge systems at a smart home. Java, Eclipse IoT Stack and openHAB can be used for end-to-end solutions for each parking utility in the city. \n\nSmart city parking solutions can also be developed using the intelligent management platform IMPACT. \n\n12.5.3 Smart Environment-Monitoring \n\nEnvironment monitoring refers to actions that are required for characterising and monitoring the quality of the environment. A smart environment monitoring system should enable the following: \n\n1. Preparations for assessment of environment impact 2. Establish the trends in environmental parameters and current status of the \n\nenvironment 3. Interpretation of data and evaluate environmental quality indices 4. Monitor the air, soil and water quality parameters 5. Monitor harmful chemicals, biological, microbiological, radiological and other \n\nparameters \n\nIoT Case Studies 489 \n\nWeather Monitoring System \n\nA smart weather monitoring system should enable the following: \n\n1. Each measuring node for weather parameters is assigned \n\nan ID. Each lamppost deploys a wireless sensor node. Each node measure the T, RH and other weather parameters at assigned locations. A group of WSNs communicates using ZigBee and forms a network. Each network has an access point, which receives the messages from each node. Figures 7.17 and 7.18 depicted the WSNs. They depicted interconnections between nodes, coordinators, routers and access points. Each access point associates a gateway. 2. The nodes communicate the parameters up to the access point using WSNs at \n\nmultiple locations. 3. Forward and store the parameters on an Internet cloud platform 4. Publishes weather messages for the display boards at specific locations in the city \n\nand communicates to weather API at mobile and web users 5. Publishes the messages in real time and send alerts using a weather reporting \n\napplication 6. Analyse and assess the environment impact 7. Enables intelligent decisions using data and historical analytics reports at city cloud \n\nweather data store Two domains and their high-level service capabilities in the weather monitoring services in IoT architecture reference model are: \n\n1. Device and Gateway Domain: Assume that the system deploys m weather-sensor \n\nembedded devices, each with a location-data sensor and n access-points for the WSNs. A sensor node does minimum required computations, gathers sensed information and communicates with other connected nodes in the network.23 \n\nmain computations and puts the result in real time updated database. The items identified for communication from gateway are queried from the database. The items communicate from gateway using network protocols and HTTP/HTTPS services. \n\n(i) Device subdomain: Hardware WSN board consists of sensors for weather \n\nparameters. A board example is Waspmote.24 Following are the sensor circuit features: ultralow power dissipation; multiple transceiver interfaces, such as ZigBee and Wi-Fi (for medium range), RFID, NFC, Bluetooth 2.1 or BL LE (for short range) and LPWAN, 4G, 3G (for long range); OTA programmability, AES, RSA, MD5, SHA, Hash (as encryption libraries) and bus protocols, such as CAN and RS232C. (ii) Gateway Subdomain: The parameters and alerts communicate to a local or remote \n\nweb service, time-and location-stamping service, item provider, protocol bindings and 6LowPAN/IPv6 modules as per configuration setting at the configuration \n\n23 https://en.wikipedia.org/wiki/Sensor_node 24 http://www.libelium.com/products/waspmote/overview/ \n\nUses of sensors for T, RH and Patm parameters, WSNs, access points, gateways \n\nand a cloud platform \n\nfor smart weather monitoring service \n\n490 Internet of Things: Architecture and Design Principles \n\nadministration service of OSGi framework. The bindings between ZigBee LANs, 6LowPAN and LPWAN and IPv6 protocols are used for networking of the devices, WSNs, OSGi with the HTTP/HTTPS services. 2. Application and Network Domain: Applications and network domain deploys the \n\napplications and services and has high-level capabilities, such analytics, data visualisation, display-board feeds, weather reporting application, and IFTTT triggers and actions. The cloud platform can be IBM Bluemix, AWS IoT or TCUP. \n\nDomain Architectural Reference Model \n\nFigure 7.17 depicted layered architecture for network of nodes with fixed connecting infrastructure and the mobile WSNs using coordinators, relays, gateways and routers. Figure 7.18 depicted a layered architecture for network of nodes with multilevel hops and router or gateway and access point. Figure 12.12 shows the data-flow diagram and domain architecture reference model for the WSN based monitoring services. \n\nHTTP/ HTTPS Service \n\nApplications and Network Domain \n\nItem Provider \n\nMobile \n\nAnalytics \n\nIFTTT \n\nData Visualisation \n\nDatabase \n\nSensor Embedded \n\nDevices 1,\u2026, m at \n\nWSN Nodes \n\n6LowPAN/ \n\nIPv6 Interfaces \n\nSensor WSNs Access Points \n\n1,\u2026, n \n\nDevice and Gateway Domain \n\nCloud Platform for Weather \n\nMonitoring Services Data Adaptation \n\nLayer \n\nProtocol Bindings \n\nTime and \n\nLocation Stamping \n\nService \n\nOSGi Framework \n\nEvents, Messages and alerts \n\nData Processing \n\nParameters \n\nand Alert Messages \n\nApplications/ \n\nServices \n\nInformation Reporting Bots \n\nApplets (Trigger \n\nand Actions) \n\nDisplay \n\nboards \n\nCentralised \n\nServices \n\ne-Mail \n\nSocial Media \n\nSmall Cells/ZigBee LAN/ \n\nLPWAN Communication \n\nFigure 12.12  Data-flow diagram and domain architecture reference model for the WSNs based \n\nmonitoring services \n\nDevices Hardware Design and Code Development Environment, Development, Debugging and Deployment \n\nA microcontroller circuit consists of memory, over the air programmability (OTP) and transceiver associated with each sensor or node. The weather monitoring circuit deploys sensors for T, RH and atmospheric pressure (Patm) and may include solar visible radiation, wind speed and direction, and rainfall. \n\nIoT Case Studies 491 \n\nHardware design of the sensor and WSN node can use Arduino board with ZigBee shield. Alternatively Waspmote, an open source wireless sensor platform for autonomous wireless low power including WSN nodes, called MOTEs (mobile terminals). Waspmote node battery power can be between 1 year and 5 years depending on the transceiver, frequency and the radio used. The platform is compatible with the Arduino IDE and has a community support. \n\nThe edge devices and WSNs codes development uses IDE such as the Arduino or Eclipse IDE (Section 9.3.1) for Java Developers. \n\nWeather Reporting Bot \n\nA bot is an application that runs automated or semi-automated scripts a for specific set of tasks and communicates the results over the Internet.25 A bot generally performs the task which are simple and structurally repetitive, such as a, weather reporting bot. The word \u2018bot\u2019 is derided from the word robot. \n\nA bot can communicate with an API using Instant Messaging (IM) or Internet Relay Chat (IRC) or to Twitter or Facebook. A bot can also chat and give responses to the questions from user API. \n\nA widely used bot is an application in which the script fetches, analyses and files information from a web server. A server may specify in a text file, called robots.txt for rules on bot behaviour on that server. A server can use software to deny access in case the script does not observe the rules specified at the file. \n\nA weather bot is multitasking. That can be used to communicate a report on a mobile. The bot fetches, analyses and communicates information to a report seeking API. The bot uses the weather parameters and generates the alert messages from the database and messages for forecast by a cloud analytics service. \n\nA mobile app can display the report in two succeeding frames repeatedly. The first frame shows the weather condition of the current day, as: \n\n1. First line: condition such as clear, rain, partly rain, cloudy or partly cloudy 2. Second line, first part text gives the day current T and four or five spaces 3. Second line, second part text gives superscripted text for the maximum T expected \n\nand subscripted text for minimum T expected, followed by four or five spaces 4. Second line, third part text gives superscripted text for current RH% value and \n\nsubscripted text for wind-speed in kmph (kilometer per hour). Thus, first reporting frame displays the current condition and day\u2019s forecast for Tmax and Tmin. Second frame shows the forecast for today, tomorrow and day after for weather as: \n\n1. First line: \u201cSat Sun Mon\u201d 2. Second line shows a symbol which is completely unfilled circle for sunny, or cloud \n\nimage with sun for partly cloudy, or cloud sign for fully cloudy below each day \n\n25 https://en.wikipedia.org/wiki/Internet_bot \n\nUses of weather bots for autonomous \n\nweather reporting \n\nservice \n\n492 Internet of Things: Architecture and Design Principles \n\nSat, Sun and Mon. After the sign, a superscripted word gives maximum T, and a subscripted word, the minimum expected on that day. Thus, forecast for three days is reported, viz. today, tomorrow and day after. Example of creating a weather bot is Slackweatherbot API.26 The bot uses the codes given a Farnciskim site.27The API is a node.js module for the bot. It displays Second frame shows the forecast for today, tomorrow and day after days for weather, for example as follows: \n\n1. First line: Bot name Current Runtime (such as 09:15 A.M.) 2. Second line shows \u201cCondition for City Name, Place Name, Current Time, Standard (such \n\nas IST, GMT) 3. Third line shows \u201cToday (such as SAT): T, condition (such as sunny, partly cloudy, \n\ncloudy or rain)\u201d 4. Fourth line shows \u201cTomorrow (such as SUN) Current: T, condition\u201d 5. Fifth line shows \u201cDay after (such as MON) Current: T, condition\u201d \n\nAir Pollution Monitoring \n\nA growing problem for all residents is air pollution from cars, toxic gases generated in factories and farms, such as carbon monoxide (CO). Pollution needs monitoring and to ensure the safety of workers and goods inside chemical plants. The monitoring does the following tasks: \n\n1. Monitoring and measuring levels of CO, a gas dangerous \n\nabove 50\u2013100 ppm level; carbon dioxide (CO2), a gas causes which greenhouse effect; and ozone (O3), a gas dangerous above 0.1 mg/per kg air level, for controlling air pollution 2. Monitoring and measuring levels of hydrogen sulfide (H2S), a highly toxic gas. It is a \n\ngreenhouse gas so its increase may contribute to global warming as well. 3. Monitoring and measuring levels of hydrocarbons, such as ethanol, propane. 4. Measure T, RH and Patm parameters for calibrations of sensed gaseous parameters of \n\neach node 5. Investigate air quality and the effects of air pollution. 6. Compute Air Quality Index (AQI) from the parameters, such as hourly or daily \n\naverages of air pollutant concentration, particulate matter (such as dust or carbon particle) 7. Compute source and spatial dispersion of pollutants as a function of day conditions, \n\nwind-speed and direction, air temperature and air temperature gradient with altitude and topography using analytics. 8. Data visualisation 9. Report the pollution status to monitoring authorities \n\n26 https://github.com/franciskim/Slackweatherbot 27 https://franciskim.co/how-to-create-a-weather-bot-for-slack-chat/ \n\nUses of sensors for CO, CO2 and T, RH and Patm \n\nparameters, WSNs, access points, gateways \n\nand a cloud platform for smart air pollution \n\nmonitoring service \n\nIoT Case Studies 493 \n\nSensors play a vital role in air-quality monitoring. The application has eleventh ranking among 50 sensor-applications for a smarter world.22 \n\nA data-flow diagram and domain architecture reference model for air pollution monitoring services are similar to Figure 12.12. Two domains and their high-level service capabilities in the air quality and pollution monitoring services in IoT architecture reference model are: \n\n1. Device and Gateway Domain: Assume that the system deploys m gas sensor embedded \n\ndevices at each WSN with a location-data sensor and n access-points for the WSNs (Figures 7.17 and 7.18). The data-adaptation layer at gateway does the aggregation, compaction and fusion computations for each sensor node data. The queries gather sensed information from the database and the items selected communicate using HTTP/HTTPS/MPLS services. \n\nWSN board IO ports connect the sensors for gaseous, particulate matter and weather parameters. Each sensor node is configured by assigning a node ID. A node ID maps with the GPS location found earlier from GPS modules at the data- adaptation layer at the gateway. \n\nis also configured for frequency of measurements every day and interval between two successive measurements. The sensor circuit is configured to activate only for measurement duration at a measuring instance followed by long inactive intervals. \n\ncoefficients of the temperature sensor. Refer Example 9.6 which gives the codes for uses of the calibration coefficients of sensed data communicated by I2C serial bus. The coefficients enable to sense parameters with enhanced accuracy. \n\natm (THP). Therefore, these parameters are also measured along with gas sensor outputs. Mapping of a sensor output with the THP coefficients at the adaptation layer will result into accuracy in the measurements of values of sensed parameters. \n\n24 which can be used with sensors such as city pollution CO, NO, NO2, O3, SO2 and dust particles sensors and air-quality finding sensors for SO2, NO2, dust particles, CO, CO2, O3 and NH3. The Arduino or Eclipse IDE can be used to develop codes for the Waspmote. 2. The Applications and Network Domain: The applications and network domain deploys the \n\napplications and services and have high-level capabilities, such as events, messages, alerts and data processing, databases, applications and services, analytics, data visualisation, display-board feeds, pollution reporting applications and services, and IFTTT triggers and actions. The cloud platform can be TCUP, AWS IoT, IBM Bluemix or Nimbits. \n\nForest Fire Detection \n\nA big problem for countries with large forest areas is forest fires. A fire monitoring service does the following tasks: \n\nUses of sensors for T, RH, CO, CO2 and infrared light, WSNs, alarm algorithm, access \n\npoints, gateways, real \n\ntime analytics and cloud platform for smart forest-fire detection and \n\nmapping of affected \n\nareas \n\n494 Internet of Things: Architecture and Design Principles \n\n1. Uses OTP features for programmable WSNs and gateways 2. Measures and monitors the T, RH, CO, CO2 and infrared light (fire generated) \n\nintensity in real time at preset intervals 3. Each WSN uploads the program and preset measured intervals of t1 (say, 300 s) each \n\nand the preset measured intervals of t2 (say, on 1 or 5 s) on sensed parameters values exceeding thresholds can instantaneously trigger the fire-alarm algorithm 4. Configures the data-adaptation layers with calibration parameters 5. Communicates the WSN messages at the preset intervals to the access point associated \n\nfor specific network area 6. Communicates alerts, triggers, messages and data at data-adaptation layer using an \n\nuploaded program at associated gateway 7. Uploads connectivity programs for gateways 8. Runs at the data-adaptation layer the faulty or inaccessible sensors at periodic \n\nintervals 9. Integrates data with the node locations found from mapping with node IDs, compute, \n\nand activate the alarms using an algorithm, input-sensed and calibrated coefficients 10. Processes the layer data and database information, and communicates instantaneously \n\nto nearest mobiles and fire-fighting services near the access point gateway 11. Updates the database and communicates to a cloud platform, such as Nimbits, \n\nmy.openHAB, TCUP, AWS or Bluemix platform 12. Modifies the preset measured intervals to t2 on activation of the fire alarm after value \n\nchanges above the configured threshold values 13. Uses analytics to evaluate reliability index of the preset, threshold and configuration \n\nvalues and need to update alarm-algorithm and if needs improvement then upload new algorithms 14. Uses analytics to generate and communicate topological maps for the currently fire- \n\ninfected forest area and reachability maps for fire-fighting service equipments Sensors play a vital role in forest-fire monitoring. The application has tenth ranking among 50 sensor-applications for a smarter world.22 Products \n\nFigure 12.13 shows a data-flow diagram and domain architecture reference model for the monitoring service. \n\nThe figure shows that the service deploys m embedded-sensor devices at each of n WSN associated with x access points. Device and gateway domain functions in the fire monitoring service for forests in IoT architecture reference model is as follows: A lookup table enables mapping of two entities. Location-data stamping uses sensor \n\nIDs at a lookup table. Data adaptation of each sensor is at the layer. Data aggregates, compacts and fuses, computes, gathers sensed information and the algorithms use that for alarm and faulty sensor identification and configuration management. Data store at the database, updates in real time. The alerts and messages communicate to IoT cloud platform. Hardware WSN board and sensors can use Waspmote board.24 Each WSN \n\ncommunicates to access points using a multiprotocol wireless router. \n\nIoT Case Studies 495 \n\nHTTP/ HTTPS Service \n\nDevice and Gateway Domain \n\nItem Provider \n\nMobile \n\nApplets (Trigger \n\nand Actions) \n\nApplications \n\nIFTTT \n\nData Visualisation \n\nDatabase \n\nApplications and Network Domain \n\nCloud platform for forest fire \n\nmonitoring services Sensor Embedded \n\nDevices 1,\u2026, m at \n\nWSN nodes 1,\u2026, n \n\n6LowPAN/ IPv6 Interfaces \n\nSensor WSNs \n\nAccess Point \n\n1, .., x \n\nSmall Cells/ZigBee LAN/ LPWANand Multiprotocol \n\nWireless Router \n\nAlarm-Activation \n\nFaulty-device \n\nIdentification Data Adaptation \n\nLayer \n\nProtocol Bindings \n\nTime and Location \n\nStamping Service \n\nOSGi Framework \n\nFire Service \n\nNeeded Alarms \n\nAlerts, Messages \n\nData Processing \n\nDevice and \n\nCommuni- \n\ncation Management \n\nParameters, \n\nAlerts and \n\nMessages Data Store \n\nFire Area Topology, \n\nContour and Map \n\nAnalytics \n\nEvents, Messages and Alerts \n\nOTP and Updates \n\nManagement \n\nDisplay Boards \n\nCentralised \n\nFire Services \n\ne-Mail \n\nSocial Media \n\nFigure 12.13  Data flow diagram and domain architecture reference model for the WSNs based Forest \n\nFire monitoring service \n\n12.5.4 Smart Agriculture \n\nFollowing section describes two applications viz., smart irrigation in crop fields and smart wine quality enhancing. \n\nSmart Irrigation \n\nSmart irrigation deploys sensors for moisture. A smart irrigation monitoring service does the following tasks: \n\n1. Sensors for moisture and actuators for watering channels \n\nare used in smart irrigation. 2. Uses soil moisture sensors with a sensor circuitry board \n\nwith each one  installed at certain depth in the fields. 3. Uses an array of actuators (solenoid valves) which are \n\nplaced along the water channels and that control deficiencies in moisture levels above thresholds during a given crop period. 4. Uses sensors placed at three depths for monitoring of moisture in fruit plants such as \n\ngrapes or mango, and monitors evapotranspiration (evaporation and transpiration) 5. Measures and monitors actual absorption and irrigation water needs 6. Each sensor board is in a waterproof cover and communicates to an access point \n\nusing ZigBee protocol. An array of sensor circuits forms a WSN. \n\nUses of soil moisture sensors, actuators for water channels, WSNs, LPWAN, access points, \n\ngateway and cloud \n\nplatform for smart \n\nirrigation \n\n496 Internet of Things: Architecture and Design Principles \n\n7. Access point receives the data and transfers it to an associated gateway. Data adapts \n\nat the gateway and then communicates to a cloud platform using LPWAN. 8. The cloud platform may be deployed such as Nimbits, my.openHAB, AWS or \n\nBluemix. 9. Analytics at the platform analyses the moisture data and communicates to the \n\nactuators of water irrigation channels as per the water needs and past historical data 10. Measurements at the sensors are at preset intervals and actuators activate at analysed \n\nrequired values of the intervals. 11. The platform uploads the programs to sensors and actuators circuitry and sets preset \n\nmeasurement intervals of T1 (say, 24 hour) each and the preset actuation interval of t2 (say, on 120 hour) 12. Sensed moisture values when exceed preset thresholds then trigger the alarm 13. An algorithm uploads and updates the programs for the gateways and nodes. 14. Runs at the data-adaptation layer and finds the faulty or inaccessible moisture \n\nsensors at periodic intervals 15. Open source SDK and IDE are used for prototyping the monitoring system. \n\nSmart Wine Quality Enhancing \n\nThe sensors monitor the soil moisture and trunk diameter in vineyards. The monitoring controls the sugar content in grapes and health of grapevines. \n\nData-flow diagram and domain architecture reference-model for the monitoring service are similar to ones shown in Figure 12.12. \n\nDevice and Gateway Domain \n\nA WSN measures moisture and other parameters and has an ID. Each node is a WSN. Each WSN measures at assigned places in a crop or vineyard at certain depth(s) inside the soil. Sensors at three equally spaced depths are used for the vineyard grapes sugar-control. A group of WSNs communicate among themselves using ZigBee and form a network. Each network has an access point, which receives the messages from each node using LPWAN. Figures 7.17 and 7.18 show the WSNs. They show interconnections between nodes, coordinators, routers and access points. Each access point associates a gateway. Each gateway communicates to the cloud using LPWAN. \n\nReconfirm Your Understanding \n\n\u25cfPrototypes for applications and services can be developed using the data-flow diagram, two-domain four-layers architectural reference model. Design of smart applications and services need designing and prototype development for the four architectural layers: (i) sensor and device networks, (ii) data adaptation and gateway, (iii) cloud platform, which includes data store and analytics, and (iv) applications and services. \n\n\u25cfIDE (layer 1) is used for programming the sensors and devices. \n\n\u25cfZigBee, 6LowPAN, IPv6, WLAN and LPWAN are used for communication from sensor and device networks. \n\nIoT Case Studies 497 \n\n\u25cfEclipse IoT stack and OSGi services (layers 1 and 2) can be used for Java programming at architectural layers 1 and 2. \n\n\u25cfAn access point receives the data and transfers it to the associated gateway. Data adapts at the gateway and then communicates to a cloud platform using LPWAN. \n\n\u25cfA cloud platform (layer 3), such as Nimbits, my.openHAB, AWS, Bluemix or TCS CUP, is deployed for processing the messages, events, alerts, triggers and data and storing, analytics, and visualising the results, and using the platform-specific features. \n\n\u25cfApplications, services and Mobile apps (layer 4) enable a number of services using the cloud. \n\n\u25cfIllustrative examples of numerous IoT applications and services are smart homes, smart cities, smart environment monitoring and smart agriculture. \n\n\u25cfSmart home services enable home-lighting control, control and monitoring of appliances, security, intrusion detection, video surveillance, access control and security alerts, Wi-Fi, Internet and remote cloud access for control and monitoring. \n\n\u25cfAn open source openHAB is the development environment and deployment platform. The platform is neutral to hardware and interfacing protocols. For example, a security camera device may be on Raspberry platform and lighting devices on Arduino. The automation logics can connect different systems. \n\n\u25cfA cloud platform is my.openHAB. The my.openHAB cloud connector also includes REST and cloud based services, such as IFTTT. \n\n\u25cfIFTTT service enables a developer to create a sequential set of conditional (If This Then That) statements, called applets, which trigger actions by change to other web-service, such as Facebook, Twitter, Gmail. APIs of the application control the actions using the triggers. \n\n\u25cfSmart city integrates multiple ICT and IoT solutions in a secure fashion to manage a city\u2019s assets, such as information systems, schools, libraries, transportation systems, hospitals, power plants, water-supply networks, waste management, law enforcement, and other community services. \n\n\u25cfSmart city edge sensors and devices wirelessly connect, and networks of the devices communicate using LPWAN, the systems connect using IP protocols or using the Multiprotocol Label Switching (MPLS). \n\n\u25cfSmart city solutions can deploy CISCO IoT cloud. Alternative is ThingWorx IoT platform for intelligent management of things. City cloud IoT platform collects messages, triggers, alerts and data files at data store. The platform uses events, triggers and data store and analytics. The platform connects to a number of city applications and services, and triggers the actions, such as connect to social media, set of web services, applications and mobiles apps. \n\n\u25cfSmart parking service is a city service, which guides the drivers to the vacant parking slots and spaces, and also provides a mobile app. The app assists a driver and enables the driver to obtain appropriate parking-slot information remotely. \n\n\u25cfSmart environment monitoring refers to actions that are required for characterising and monitoring the quality of environment, such as air, soil and water. \n\n\u25cfWeather-monitoring systems measure the T, RH, P and other weather parameters; communicate those using WSNs at multiple areas, which communicate up to the access points and associated gateways. The gateway adapts, stores and forwards the parameters to the Internet cloud platform. \n\n\u25cfWeather-monitoring service publishes weather-messages for display boards at specific locations in the city and communicates to weather APIs at mobiles and web users. \n\n\u25cfA bot fetches analyses and communicates server information repeatedly for the report-seeking APIs. The bots communicate the reports on a mobile app or web application. A weather-bot is a multitasking JavaScript or node.js scripts for the weather reports autonomously. \n\n498 Internet of Things: Architecture and Design Principles \n\n\u25cfSmart air-pollution monitoring-service measures the levels of CO, CO2, particulate matter and other parameters. The service computes AQI from the parameters, such as, hourly or daily averages of air pollutant concentration and particulate matter (such as dust or carbon particle) \n\n\u25cfThe service computes source and spatial dispersion of pollutants as a function of day conditions, wind-speed and direction, air temperature and air temperature \n\n\u25cfSmart forest fire monitoring service deploys number of network of WSNs, interconnected access points and associated gateways. The gateways connect with Internet cloud platform enables forest fire detection and map the affected area. \n\n\u25cfSmart irrigation deploys sensors for moisture at a depth in the crop fields and actuators for watering channels. Smart quality monitoring deploys sensors placed at three depths for monitoring of moisture in fruit plants such as vineyard or mango, and monitors evaporation and transpiration. \n\n\u25cfSmart irrigation controls deficiencies in moisture levels above thresholds during a given crop-period. \n\nSelf-Assessment Exercise \n\n1. What are the programming layers in development of prototypes? 2. List the roles performed by my openHAB cloud platform for smartHome \n\nservices? 3. What are the design complexities of smart home, smart city parking, weather \n\nmonitoring and air-quality index monitoring services? What are the limitations of open source tools for IoT development? 4. How does Eclipse IDE help in prototyping the sensor and device circuits? 5. Draw the objects and layers in openHAB architecture, and explain the use of \n\neach object and layer. 6. What are the objects and their uses at my.openHAB.org platform for openHAB \n\nbased development? 7. What are the functions of IoT core in smart city applications and services? 8. How are CISCO IoT, IOx and Fog used for smart city applications and \n\nservices? 9. What are the objects and their uses at city parking spaces and gateways \n\ndomain? 10. What are the objects and their uses at city cloud IoT platform for the parking \n\nservice? 11. How does provisioning of IFTTT service help in smart home and smart city \n\napplications and services? 12. How does delay period evaluation in receiving the reflected pulses enable \n\nidentification of a parking slot ID by the coordinator? 13. List the tasks of a weather monitoring service. 14. Why is the OTP feature useful in air-pollution monitoring circuits, network \n\nand gateway? 15. List the similarities in prototype development approach for weather, air- \n\npollution and forest-fire monitoring services. 16. List the tasks of a air-pollution monitoring service. \n\n\u2605 \u2605\u2605 \n\n\u2605\u2605 \n\n\u2605\u2605\u2605 \n\n\u2605\u2605 \n\n\u2605 \n\n\u2605\u2605 \u2605\u2605\u2605 \n\n\u2605\u2605\u2605 \n\n\u2605\u2605 \n\n\u2605 \n\n\u2605\u2605 \n\n\u2605 \u2605 \n\n\u2605\u2605\u2605 \n\n\u2605 \n\n\n![Image](/src/assets/generated_images/iot2_p525_i0.png)\n\nIoT Case Studies 499 \n\n17. What are the objects and their uses at cloud platform for forest-fire monitoring \n\nservices? 18. List the tasks of a smart irrigation monitoring service. 19. How does smart irrigation result in efficient uses of water? 20. Draw a table of similarities and differences between uses of IoT cloud \n\nplatforms for smart home, smart city, smart parking, smart weather, smart air-pollution and smart forest-fire monitoring services. \n\n\u2605\u2605\u2605 \n\n\u2605 \u2605\u2605 \u2605\u2605\u2605 \n\n12.6 CASE STUDY: SMART CITY STREETLIGHTS CONTROL AND MONITORING \n\nFigure 1.1 in Example 1.2 depicted the application of Internet of Things concept for the city streetlights. A lamppost hosts a streetlight, WSN actuator and sensors. The sensors enable messages for lamp functioning status, ambient light and traffic. The actuator enables switching the lights on and off. \n\nWhen ambient light is above threshold, then the lights are switched on. The WSN deploy sensors for detecting traffic presence and traffic density so that when traffic is not present, then lights are switched off. This results in saving of energy. The traffic density messages communicate to traffic-signal monitoring service. \n\nThe WSN transceiver can also accept data from other services, such as Wi-Fi service, security service or traffic signalling service and retransmit onto the network of WSNs and then to access points. City services can deploy lampposts in streetlighting systems as information networks. A lamppost can be an active node in the services network. \n\nEach transceiver at the lamppost can receive and retransmit in real time. Events, messages, alerts, triggers and notifications from a number of services can transmit for services such as smart parking, traffic signalling, waste management, air-quality index monitoring services, security services for home, banks and important public places, emergency services and hospitals. \n\nA control and monitoring service for city streetlights does the following tasks: \n\n1. Measures and monitors the streetlights and measures traffic parameters in real time \n\nat preset intervals 2. Each WSN is uploaded by the program for configuring and communicating within \n\nthe WSN network 3. The network connects a coordinator which deploys the data adaption, store, time, \n\nlocation, IDs stamping and gateway interfaces 4. Communicates the WSN network messages \n\nUndertake new IoT project design \n\nchallenges from understanding of a case study, \u2018Smart city streetlights control and \n\nmonitoring\u2019 \n\nLO 12.5 \n\nSmart city streetlights control and monitoring: \n\nwhen traffic is not present then lights are switched off as well as \n\nlampposts function as \n\ninformation network \n\nnodes \n\n500 Internet of Things: Architecture and Design Principles \n\n5. Messages transmit at the preset intervals to the access point, which connects a \n\ncoordinator. 6. Coordinator generates and communicates alerts, triggers, messages and data after \n\naggregating, compacting and processing at data-adaptation layer. 7. Coordinator creates and updates in real time a database which transfers to the cloud \n\nfor processing and for cloud data store. 8. Uses the OTP features and uploads the programs at the WSNs and gateways. An \n\nOTP module at the cloud node provides OTP management and uploads connectivity programs for gateways 9. Runs at the data-adaptation layer for faulty or inaccessible sensors at periodic \n\nintervals 10. Integrates data, and activates the alerts and triggers 11. Cloud node provides platform for processes, analyses and visualisation of the \n\ndata and database information. The node provides analytics and AI for optimising monitoring and control functions. 12. Cloud platform can be CISCO IoT, IOX and Fog, Nimbits, my.openHAB, TCUO, \n\nAWS or Bluemix platform with Watson analytics. \n\nArchitecture Reference Model Two Domains \n\nFigure 12.14 shows data-flow diagram and domain architecture reference model for the monitoring service. \n\nHTTP/ HTTPS Service \n\nDevice and Gateway Domain Applications and Network Domain \n\nItem Provider \n\nMobile \n\nIFTTT \n\nData Visualisation \n\nAI Tools \n\nDistributed Node of Cloud platform \n\nfor City Streetlight Monitoring \n\nService Sensor Embedded m Devices \n\n1,\u2026, m at Lamppost \n\nn Nodes \n\n1,\u2026, n \n\nZigBee/ 6LowPAN/ \n\nIPv6 Interfaces \n\nWSNs Network Coordinator \n\n1, .., x \n\nCoordinator \n\nDatabase \n\nProtocol Bindings \n\nTime, Lamppost \n\nID, lane ID and \n\nLocation Stamping \n\nservice \n\nOSGi Framework \n\nAlerts, Messages \n\nand Data Processing \n\nDevices \n\nand Network Communi- \n\ncation Management \n\nParameters, \n\nAlerts and \n\nMessages Data Store \n\nAnalytics for Traffic, Streetlights \n\nand Other Parameters \n\nOTP and Updates \n\nManagement \n\nEvents, Messages and Alerts \n\nApplets (Trigger \n\nand Actions) \n\nDisplay Boards \n\nCentralised \n\nControl \n\nand Monitoring \n\nService \n\ne-Mail \n\nSocial Media \n\nFigure 12.14  Data-flow diagram and domain architecture reference model for the WSNs networks of \n\ncity streetlights central control and monitoring service \n\nIoT Case Studies 501 \n\nDevice and Gateway Domain \n\nHardware and software components and modules are as follows: \n\nHardware \n\nHardware consists of m embedded-devices at a WSN. The n WSN node networks communicate between them using ZigBee/6LowPAN/IPv6 protocol. The city streetlight service deploys x coordinators. Each network communicates with a coordinator using LPWAN or ZigBee IP wireless interfaces. Coordinator functions as data store, protocol binder, item provider and gateway. \n\nEach lamppost deploys a WSN. Each node senses a set of sensors data. Sensor circuits can deploy Arduino boards with ZigBee or ZigBee IP shields. Each WSN interfaces with other WSNs and forms a network of ZigBee devices. \n\nA WSN measures the following parameters: (i) ambient light condition, whether above or below a preset threshold, (ii) presence or absence of traffic in vicinity, (iii) traffic density and (iv) lamppost status, whether non-functional or not \n\nEach lamppost need not measure traffic parameters. Each WSN configures the sensing devices so that a measurement activates or deactivates as per commands from the coordinator and central monitor service. Configuring the node enables each parameter measurement at different preset intervals. Each WSN configures the actuator for enabling the lights on and off as per commands. \n\nA group of WSNs communicate among themselves using ZigBee and form a network. Each network has an access point, which receives the messages from each node using LPWAN. Figures 7.17 and 7.18 show the WSNs. They show interconnections between nodes, coordinators, routers and access points. Each access point associates a gateway. Each gateway communicates to the cloud using LPWAN. \n\nSoftware \n\nOpen source IDE or Eclipse IoT stack which include OSGi can be used for software development at devices and gateway domain. \n\nEach WSN is assigned sensor-IDs, lamppost-ID, lane-ID, subgroup-ID (left and right sides traffic). A subgroup of wireless sensor nodes form a WSN network and an assigned network-ID. Each coordinator is assigned a coordinator-ID. \n\nEach coordinator has three modules: (i) protocol binding module, (ii) item provider module for communication of queried items, alerts, messages and data, and (iii) time, lamppost ID, lane ID and location stamping service. The coordinator can use an open source OSGi framework for Java codes. A database at coordinator stores in associated streetlights, lanes and lane subgroups data. \n\nApplications and Network Domain \n\nCloud platform for city streetlight monitoring service deploys a number of distributed nodes. Internet connectivity is using HTTP/HTTPS service. The IP protocol network \n\n502 Internet of Things: Architecture and Design Principles \n\nrouters connect each coordinator with a distributed node. The distributed node platform provides the: \n\n(i) Alerts, messages and data processing module (ii) Devices network and communication management module (iii) Analytics tools for traffic, streetlights and other parameters (iv) Data store for parameters, alerts and messages \n\n(v) AI tools (vi) Data visualisation tools (vii) Coordinators, networks and nodes update management using OTP (viii) Event messages, triggers and alerts for central control and monitoring services \n\n(ix) IFTTT for communication to mobile, e-mail, social media and web services and \n\napplications. \n\n12.6.1 Streetlights Control and Monitoring Coding Examples \n\nFollowing are the examples of communication of parameters from a lamppost to the coordinator in Java.28 \n\nClass Main \n\npackage com.main.execution.files; \n\nimport java.sql.Time; \n\nimport java.text.SimpleDateFormat; \n\nimport java.util.Date; \n\nimport java.util.HashMap; // JSON Object is subclass of java.util.HashMap \n\n//import org.json.simple.JSONObject; \n\nimport org.hibernate.Session; \n\nimport org.hibernate.SessionFactory; \n\nimport org.hibernate.cfg.Configuration; \n\nimport com.bean.classes.PathClass; \n\nimport com.bean.classes.StreetLight; \n\nimport LpostCommunication.com.trafic.communication.ResponseFromServer; \n\npublic class MainClass { \n\npublic static void main(String[] args) { \n\nConfiguration cfg=new Configuration(); \n\ncfg.configure(\u201cresourcefiles/hibernate.cfg.xml\u201d); \n\nSessionFactory sf=cfg.buildSessionFactory(); \n\nSession s=sf.openSession(); \n\nStreetLight lpostDetails=new StreetLight(\u201cLpost_1\u201d, \u201cLane1\u201d); \n\nResponseFromServer response=new ResponseFromServer(); \n\nresponse.getResponse(request, isFaulty, isAmbLightCondition, \n\n28 Code through courtesy Dr. Mrs. Preeti Saxena \n\nIoT Case Studies 503 \n\nisTrafficCondition, status); \n\nresponse.getResponse(lpostDetails, 0, 1, 1, 0); \n\nPathClass finalobject=response.action(lpostDetails); \n\ns.save(finalobject); \n\ns.beginTransaction().commit(); \n\ns.close(); \n\nsf.close(); \n\nSystem.out.println(\u201cDone\u201d); \n\n} \n\n} \n\nObject JSONText Out to string \n\nFollowing is the code in Java for adding a new sensor for traffic density. \n\nJSONObject obj=new JSONObject(); \n\nobj.put (\u201cname\u201d,\u201dSensTrafficDensity1\u201d); obj.put (\u201ctrafficDensitySensor\u201d,new Integer(100));//Sensed Traffic Density is Integer \n\nobj.put (\u201cnumberOftrafficDensitySensors\u201d, new Double(1000.21)); obj.put (\u201cis_newSensorAdded\u201d,new Boolean(true)); //Returns Boolean for new Sensor Addition StringWriter out = new StringWriter(); \n\nobj.writeJSONString(out); String jsonText = out.toString(); System.out.print (jsonText); \n\nResult: {\u201cName\u201d: \u201cSensTrafficDensity1\u201d: \u201cTrafficDensity\u201d: 10\u201d \u201cnumberOfSensors\u201d:1000000, \u201cnewSensorAdded\u201d: null, } \n\nLamppost WSN Streetlight Class \n\nFollowing is the code in Java for class StreetLight with a lamppost ID, laneID. status, \n\npackage com.bean.classes; \n\npublic class StreetLight { \n\npublic StreetLight(String lpostId, String laneId) { \n\n// To do Auto-generated constructor stub \n\nthis.lpostId = lpostId; \n\nthis.laneId = laneId; \n\n} \n\nprivate int status;// status of functioning, traffic presence and ambient light at a lamppost \n\nprivate String lpostId; \n\nprivate String laneId; \n\nprivate int isFaulty; // Street Light if faulty value is 1 (true) \n\nprivate int isAmbLightCondition; // sensor value , if ambient light conditions OK then value is 1 //(true) \n\nprivate int isTrafficCondition; // Traffic present the is 1 (true) \n\n504 Internet of Things: Architecture and Design Principles \n\npublic int getStatus() { \n\nreturn status; \n\n} \n\npublic void setStatus(int status) { \n\nthis.status = status; \n\n} \n\npublic String getLpostId() { \n\nreturn lpostId; \n\n} \n\npublic void setLpostId(String lpostId) { \n\nthis.lpostId = lpostId; \n\n} \n\npublic String getLaneId() { \n\nreturn laneId; \n\n} \n\npublic void setLaneId(String laneId) { \n\nthis.laneId = laneId; \n\n} \n\npublic int getIsFaulty() { \n\nreturn isFaulty; \n\n} \n\npublic void setIsFaulty(int isFaulty) { \n\nthis.isFaulty = isFaulty; \n\n} \n\npublic int getIsAmbLightCondition() { \n\nreturn isAmbLightCondition; \n\n} \n\npublic void setIsAmbLightCondition(int isAmbLightCondition) { \n\nthis.isAmbLightCondition = isAmbLightCondition; \n\n} \n\npublic int getIsTrafficCondition() { \n\nreturn isTrafficCondition; \n\n} \n\npublic void setIsTrafficCondition(int isTrafficCondition) { \n\nthis.isTrafficCondition = isTrafficCondition; \n\n} \n\n} \n\nClass for Lamppost Communication of traffic information with a Coordinator (Server) at an instance \n\nIoT Case Studies 505 \n\npackage LpostCommunication.com.trafic.communication; \n\nimport java.text.SimpleDateFormat; \n\nimport java.util.Date; \n\nimport com.bean.classes.PathClass; \n\nimport com.bean.classes.StreetLight; \n\npublic class ResponseFromServer { \n\npublic StreetLight getResponse(StreetLight request, int isFaulty, int isAmbLightCondition, int isTrafficCondition,int status) { \n\nrequest.setIsFaulty(isFaulty); \n\nrequest.setIsAmbLightCondition(isAmbLightCondition); \n\nrequest.setIsTrafficCondition(isTrafficCondition); \n\nrequest.setStatus(status); \n\nreturn request; \n\n} \n\npublic PathClass action(StreetLight response) { \n\nif (response.getIsAmbLightCondition() == 1 && response.getIsFaulty() == 1 \n\n&& response.getIsTrafficCondition() == 1) { \n\nSystem.out.println(\u201cLight Condition :\u201d + response.getIsAmbLightCondition() + \u201c Faulty \u201c \n\n+ response.getIsFaulty() + \u201c Trafic Condition \u201c + response.getIsTrafficCondition()); \n\n} else if (response.getIsAmbLightCondition() == 1 && response.getIsFaulty() == 1 \n\n&& response.getIsTrafficCondition() == 0) { \n\nSystem.out.println(\u201cLight Condition :\u201d + response. getIsAmbLightCondition() + \u201c Faulty \u201c \n\n+ response.getIsFaulty() + \u201c Trafic Condition \u201c + response.getIsTrafficCondition()); \n\n} else if (response.getIsAmbLightCondition() == 1 && response. getIsFaulty() == 0 \n\n&& response.getIsTrafficCondition() == 1) { \n\nSystem.out.println(\u201cLight Condition :\u201d + response. getIsAmbLightCondition() + \u201c Faulty \u201c \n\n+ response.getIsFaulty() + \u201c Trafic Condition \u201c + response. getIsTrafficCondition()); \n\n} else if (response.getIsAmbLightCondition() == 1 && response. getIsFaulty() == 0 \n\n&& response.getIsTrafficCondition() == 0) { \n\nSystem.out.println(\u201cLight Condition :\u201d + response. getIsAmbLightCondition() + \u201c Faulty \u201c \n\n+ response.getIsFaulty() + \u201c Trafic Condition \u201c + response. getIsTrafficCondition()); \n\n506 Internet of Things: Architecture and Design Principles \n\n} else if (response.getIsAmbLightCondition() == 0 && response. getIsFaulty() == 1 \n\n&& response.getIsTrafficCondition() == 1) { \n\nSystem.out.println(\u201cLight Condition :\u201d + response. getIsAmbLightCondition() + \u201c Faulty \u201c \n\n+ response.getIsFaulty() + \u201c Trafic Condition \u201c + response.getIsTrafficCondition()); \n\n} else if (response.getIsAmbLightCondition() == 0 && response. getIsFaulty() == 1 \n\n&& response.getIsTrafficCondition() == 0) { \n\nSystem.out.println(\u201cLight Condition :\u201d + response. getIsAmbLightCondition() + \u201c Faulty \u201c \n\n+ response.getIsFaulty() + \u201c Trafic Condition \u201c + response. getIsTrafficCondition()); \n\n} else if (response.getIsAmbLightCondition() == 0 && response. getIsFaulty() == 0 \n\n&& response.getIsTrafficCondition() == 1) { \n\nSystem.out.println(\u201cLight Condition :\u201d + response. getIsAmbLightCondition() + \u201c Faulty \u201c \n\n+ response.getIsFaulty() + \u201c Trafic Condition \u201c + response. getIsTrafficCondition()); \n\n} else { \n\nSystem.out.println(\u201cLight Condition :\u201d + response. getIsAmbLightCondition() + \u201c Faulty \u201c \n\n+ response.getIsFaulty() + \u201c Trafic Condition \u201c + response. getIsTrafficCondition()); \n\n} \n\nreturn this.InsertOperations(response); \n\n} \n\nClass for Received Lamppost Info insertion into Database at the Coordinator \n\npublic PathClass InsertOperations(StreetLight map) \n\n{ \n\nPathClass object=new PathClass(); \n\nSimpleDateFormat format=new SimpleDateFormat(\u201cDD/MM/YYYY\u201d); \n\nSimpleDateFormat tformat=new SimpleDateFormat(\u201cHH:MM:SS\u201d); \n\nDate date=new Date(); \n\nobject.setAvgOnPeriod(10.0); \n\nobject.setAvgTraficDensity(10.0); \n\nobject.setAvgTraficPrsence(10.0); \n\nobject.setDate(format.format(date)); \n\nobject.setFaulty(map.getIsFaulty()); \n\nobject.setLightFunctionality(\u201c\u201d+map.getIsAmbLightCondition()); \n\nIoT Case Studies 507 \n\nobject.setRoadPathId(map.getLaneId()); \n\nobject.setStatus(\u201c\u201d+map.getStatus()); \n\nobject.setSubGroup(\u201cLeft/rigth\u201d); \n\nobject.setTime(tformat.format(date)); \n\nobject.setTimeSlotNumber(1); \n\nreturn object; \n\n} \n\n} Mode of communication between the lamppost nodes and coordinator is pub/sub mode. Each streetlight lamppost MQTT client transfers the data to an MQTT broker. A coordinator also includes a MQTT client and subscribes for the sensed data of each lamppost. Each lamppost includes the MQTT broker to receive the sensed data from the host lamppost and the neighbouring lampposts. Example 9.11 codes can be used for coding for the communication between lampposts and the coordinator. \n\nReconfirm Your Understanding \n\n\u25cfAn application of Internet of Things concept is smart streetlights in the city. A lamppost can be an active node in the services network. City services can deploy lampposts at the street lighting systems as information network for security services for home, banks and public installations, hospitals, parking spaces, waste container management. \n\n\u25cfEach lamppost for street lighting functions as a WSN. Each WSN interfaces with other WSNs and forms a network of ZigBee devices. \n\n\u25cfThe sensors at WSN measure the following parameters: (i) ambient light condition, whether above or below a preset threshold, (ii) presence or absence of traffic in vicinity, (iii) traffic density and (iv) lamppost status, whether non-functional or not \n\n\u25cfEach lamppost communicates to a coordinator serving a lane in the city road network. \n\n\u25cfZigBee, 6LowPAN, IPv6, WLAN and LPWAN are used for communication from sensor and device networks. Eclipse IoT stack and OSGi services (layers 1 and 2) can be used for Java programming at architectural layers 1 and 2. \n\n\u25cfEach access point receives the data and transfers it to an associated gateway. Data adapts at the gateway and is saved in the server database. The database communicates with a cloud platform using LPWAN. \n\n\u25cfA distributed node cloud platform (layer 3) deploys cloud such as CISCO IoT, AWS, Bluemix or TCS CUP for processing the messages, events, alerts, triggers, data and storing, analytics, AI and visualising tools. \n\n\u25cfCentral control and monitoring service applications use the cloud data store and results of events processing. \n\n\u25cfExamples of Java coding for communication of lamppost status and parameters to the coordinator are given. The codes can be used for development of full set of codes. \n\n508 Internet of Things: Architecture and Design Principles \n\nSelf-Assessment Exercise \n\n1. List the functions of a lamppost for the street lighting project. 2. What are the functions of central control and monitoring service? 3. Tabulate the similarity between smart air-pollution monitoring and smart \n\nstreet-lighting project monitoring. 4. Why and how do the database contents at the coordinators communicate with \n\nthe cloud used by the monitoring services? 5. What are the actions to be taken at the cloud platform in the project? 6. List the usages of each tool by the central control and monitoring service. 7. Explain the codes for Class Lamppost Communication. 8. What are the PathClass InsertOperations which create the columns and rows \n\nof SQL databases at the coordinator. \n\n\u2605 \u2605\u2605 \u2605\u2605\u2605 \n\n\u2605\u2605 \n\n\u2605 \u2605\u2605 \n\n\u2605 \u2605\u2605\u2605 \n\nKey Concepts \n\n\u25cfAnalytics \n\n\u25cfApplication and network domain \n\n\u25cfArduino \n\n\u25cfAWS \n\n\u25cfBig data \n\n\u25cfBot \n\n\u25cfCISCO IoT \n\n\u25cfCloud platform \n\n\u25cfCloud server \n\n\u25cfCommunication management \n\n\u25cfConnected car \n\n\u25cfConnected universe platform \n\n\u25cfCustomer data \n\n\u25cfCustomer monitoring \n\n\u25cfData Store \n\n\u25cfDevice and gateway domain \n\n\u25cfDesign abstraction \n\n\u25cfDesign complexity \n\n\u25cfDistributed cloud node \n\n\u25cfDomain architecture \n\n\u25cfEclipse IoT stack \n\n\u25cfEclipse Kura \n\n\u25cfEthernet \n\n\u25cfECUs \n\n\u25cfEnriched data \n\n\u25cfETSI reference architecture \n\n\u25cfFog \n\n\u25cfGateway \n\n\u25cfGather phase \n\n\u25cfIBM Bluemix \n\n\u25cfIDE \n\n\u25cfIETF IoT architecture \n\n\u25cfIFTTT service \n\n\u25cfIn-car network \n\n\u25cfInternet of ATMs \n\n\u25cfIOx \n\n\u25cfITU-T reference model \n\n\u25cfJava Coding \n\n\u25cfLPWAN \n\n\u25cfMaintenance centre \n\n\u25cfMessage cache \n\n\u25cfMiracast \n\n\u25cfOracle IoT architecture \n\n\u25cfPaaS \n\n\u25cfPredictive analytics \n\n\u25cfPremises monitoring \n\n\u25cfProduction monitoring \n\n\u25cfRaspberry Pi \n\n\u25cfReference model \n\n\u25cfServices \n\n\u25cfSmart air quality monitoring \n\n\u25cfSmart agriculture \n\n\u25cfSmart environment monitoring \n\n\u25cfSmart irrigation \n\n\u25cfSmart parking \n\n\u25cfSmart Street lights \n\n\u25cfSmart weather monitoring \n\n\u25cfStream \n\n\u25cfSupply-chain monitoring \n\n\u25cfTCUP \n\n\u25cfValue chain \n\n\u25cfWaspmote \n\n\u25cfWSN \n\n\u25cfZigBee \n\nIoT Case Studies 509 \n\nLearning Outcomes \n\nLO 12.1 \n\n\u25cfAbility to conceptualise the design complexity level and use the connected Platform-as-a- Service (PaaS) cloud for accelerating design, development and deployment of M2M, IoT, IIoT applications and services \n\n\u25cfAbility to develop IoT prototypes development and deployment \n\n\u25cfDevelopment and deployment using a number of open-source tools and connected-device platforms available for IoT prototypes for applications and services \n\n\u25cfDevelopment and deployment of applications and services using PaaS platforms, such as Microsoft Research Lab of Things, IBM Internet of Things Foundation (IITF), IBM Bluemix cloud platform, CISCO IoT, IOx and Fog technology, Xively, Nimbits, AWS IoT device SDK (Software Development Kit), and TCS Connected Universe Platform \n\n\u25cfKnowledge that a cloud PaaS needs to provide scalable and secure architecture, gather, store, analyse data captured by the embedded sensors, events and diversified sources. \n\n\u25cfCloud PaaS solution needs deployment across heterogeneous and interoperable devices, sensors and applications. \n\n\u25cfA project design can deploy TCUP device agents, device software modules and a set of web services for application developers to create highly scalable, intelligent and predictive analytics driven IoT applications, creating innovative products, intelligent infrastructure, enhancing the operational efficiencies, and craft new customer experiences and helping companies offer unique services to their customers. \n\nLO 12.2 \n\n\u25cfFamiliarised with the design approaches for IoT/IIoT globally trending usages in core business categories/areas\u2014premises, supply chain and customer monitoring \n\n\u25cfPremises monitoring and surveillance system need to communicate with the source of events, triggers, messages, data and data files between the ATMs and the bank server. \n\n\u25cfKnowledge of number of steps in the design process\u2014Abstraction, design of hardware and software in a reference model, identifying requirements of embedded hardware and software modules for the domains, design implementation for the domains hardware and software, and testing and validation \n\n\u25cfFamiliarised with reference-model architecture for the ATM surveillance example \n\n\u25cfKnowledge of uses of prototype development boards, hardware and software deploying Eclipse Stack, events and streams processing, OLTP and event analytics \n\n\u25cfKnowledge of design approach based on IETF/ITU-T reference model in a supply-chain monitoring system and RFIDs supply-chain applications \n\n\u25cfUsage of Arduino board suitability for prototype RFIDs at the customer and company ends \n\n\u25cfUsage of IDE and Eclipse Kura module in stack-supply-chain monitoring system \n\n\u25cfIoT application for a customer-monitoring system is TCCICDD using mobile apps, embedded sensors/devices, gateway, network, server and applications, data visualisation and service/ production/manufacture re-planning, re-scheduling or innovate the production and provide better customer experiences \n\n510 Internet of Things: Architecture and Design Principles \n\nLO 12.3 \n\n\u25cfKnowledge of \u2018connected car\u2019 concept and its IoT applications and services \n\n\u25cfThe connected car internal devices and systems enable car maintenance service, service centre applications: For example, remote diagnostics, roadside assistance, car malfunction and location car-based emergency services and reporting for service centre support, remote care, fleet management, fuel and eco initiatives. \n\n\u25cfA central in-car computer enriches the generated data. In-car infotainment systems use Miracast devices for in-car network. \n\n\u25cfProject design can use TCUP or other cloud server PaaS to enable a developer to develop new applications. \n\n\u25cfThe platform helps in applications such as maintenance by service centre; re-planning the marketing, sales, service and product development functions, manufacturing processes; and personalising and deepening customer experiences by developing additional value-added services. \n\n\u25cfKnowledge of Tesla electric car with autopilot mode, ADAS, full self-driving capability and safety \n\nLO 12.4 \n\n\u25cfKnowledge of the design approaches for IoT applications in smart homes, smart cities, smart environment monitoring and smart agriculture using illustrative examples \n\n\u25cfKnowledge of development of prototypes for applications and services using data-flow diagram, two-domain four-layers architectural reference model \n\n\u25cfConceptualised the design of smart applications and services using four architectural layers: (i) sensor and device networks, (ii) data adaptation and gateway, (iii) cloud platform, which includes data store and analytics, and (iv) applications and services. \n\n\u25cfIDE (layer 1) usages for programming the sensors and devices and ZigBee, 6LowPAN and IPv6 for communication from sensors in device networks, and the WLAN and LPWAN for wireless access point and gateways. \n\n\u25cfUsage of data adaptation at the gateway and then communication to a cloud platform using WLAN or LPWAN \n\n\u25cfA cloud platform (layer 3), such as Nimbits, my.openHAB, AWS, Bluemix or TCS CUP, is deployed for processing the messages, events, alerts, triggers and data and storing, analytics, and visualising the results and using the platform specific features. \n\n\u25cfApplications and services (layer 4) enable number of services using the cloud. \n\n\u25cfIllustrative examples of numerous IoT applications and services are smart homes, smart cities, smart environment monitoring and smart agriculture. \n\n\u25cfUsage of an open-source openHAB is the development environment and deployment platform in smart home automation services \n\n\u25cfUsages of REST and cloud-based services, such as IFTTT, for triggering the actions by change to other web services, such as Facebook, Twitter, and Gmail. APIs of the application control the actions using triggers. \n\n\u25cfKnowledge that smart city services integrates multiple ICT and IoT solutions in a secure fashion to manage a city\u2019s assets such as information systems, schools, libraries, transportation systems, hospitals, power plants, water supply networks, waste management, law enforcement and other community services. \n\n\u25cfApplicability of CISCO IoT cloud, IOx and Fog for smart city solutions \n\nIoT Case Studies 511 \n\n\u25cfDesign approach for smart parking service, smart environment monitoring, and smart characterising and monitoring the quality of the environment, such as air, soil and water. \n\n\u25cfDesign approach for weather monitoring system and use of bots. \n\n\u25cfKnowledge of smart air-pollution monitoring service to compute AQI from the parameters, such as, hourly or daily averages of air-pollutant concentration and particulate matter (such as dust or carbon particle) \n\n\u25cfFamiliarised with smart irrigation for control of deficiencies in moisture levels above thresholds during a given crop period and monitoring of moisture in fruit plants such as vineyard or mango, and monitoring evaporation and transpiration \n\nLO 12.5 \n\n\u25cfUnderstanding an IoT project design using a case study, \u2018Smart city streetlights control and monitoring\u2019 \n\n\u25cfA lamppost can be an active node in the services network. City services can deploy lampposts at the street lighting systems as information network for security services for home, banks and public installations, hospitals, parking spaces, waste container management etc. \n\n\u25cfProject design as lamppost for street lighting functions as a WSN. Each WSN interfaces with other WSNs and forms a network of ZigBee devices. \n\n\u25cfUsage of a distributed node form cloud platform for processing the messages, events, alerts, triggers, data and storing, analytics, AI and visualising tools. \n\n\u25cfAbility to write coding in Java; learning from examples of coding for creating string from sensor observations and communication of lamppost status and messages \n\nExercises \n\nObjective Questions \n\nSelect one correct option out of the four in each question. \n\n1. Consider Internet of Umbrella (Example 1.1), Internet of Streetlights (Example \n\n1.2), Internet of ATM Surveillance system (Example 2.3), and Internet of Automatic Chocolate Vending Machines (Example 5.1]. The design complexity levels are: (a) 1, 2, 3 and 5 (b) 1, 2, 3 and 4 \n\n(c) 2, 4, 3 and 5 (d) 2, 3, 4 and 5 2. Consider CISCO IoT, IOx and Fog application development platforms, the IOx \n\n(i) combines IoT application execution within the Watson analytics applications (ii) enables highly secure connectivity, fast and reliable network and (iii) near real- time, automated and high volume of data of sensors and cloud. Fog provides (iv) ability to transform sensor data, and perform the control functions (v) in sensor nodes (vi) within the distributed network nodes. This enables development of applications such as site asset management, energy monitoring, and smart parking infrastructure and connected cities. (a)  (i) to (v) \n\n\u2605 \n\n\u2605\u2605 \n\n512 Internet of Things: Architecture and Design Principles \n\n(b) All except (i) and (v) (c) All except (iii) (d) (i), (ii) and (vi) 3. Features of cloud-based TCUP are: (i) offering a cloud Platform-as-a-Service (PaaS) \n\nwhich is non-scalable, and has secure architecture, (ii) offers a domain agnostic multi-tenant platform which optimises the network traffic, (iii) gathers, stores and analyses data captured by the embedded sensors, events, and diversified sources, (iv) enables device management, sensors data acquisition and storage, and analytics, and (v) makes it easy to develop, deploy and administer IoT, M2M/IIoT software applications. (a) (ii) to (v) true (b) All true \n\n(c) All true except (ii) (d) (i) to (iv) true 4. Cloud services platform functions are (i) communication management, (ii) deploying \n\nserver for sending and receiving messages from the device agents, (iii) providing diverse sources and devices data Store, (iv) deploying big data store, (v) deploying an application(s) server and RDBMS, (vi) event processing, (vii) message caching and routing, (viii) OLTP and OLAP, (ix) data analytics, and (x) applications/services/ business processes, intelligence, and knowledge discovery software. (a) (iii) to (ix) (b) All \n\n(c) All except (iv) (d) (i) to (ix) 5. Surveillance system devices consist of (i) digital video camera, (ii) spatially arranged \n\nvibration sensors, (iii) software  for enriching the sensors and camera data, (iv) generating the event messages, (v) on the events, process the  data and video files real- time communication, (v) filtering, (vi) location and time stampings, (vii) encrypting, and (viii) media-server gateway communication. (a) (i), (iii) to (vii) (b) All true except (ii) \n\n(c) All true (d) (i) to (vii) 6. Developer for surveillance system software for Internet of ATMs uses Eclipse Kura \n\nfor (i) the Raspberry Pi, (ii) development environment, gateway services, cloud connectivity, management of device, network configuration and applications, (iii) hardware abstraction and other services in embedded Lua runtime, (iv) development of embedded sensor devices software using the framework based on WiringPi and PiFace, Gertboard and other shields, and (v) functions for development of device applications in embedded Lua language. (a) (ii) to (v) (b) (i) and (ii) true \n\n(c) All except (iii) true (d) All true except (iv) \n\n\u2605 \n\n\u2605 \n\n\u2605\u2605 \n\n\u2605 \n\nIoT Case Studies 513 \n\n7. Connected RFIDs supply chain applications are (i) plan and schedule the production, \n\n(ii) schedule the deliveries and shipping, (iii) verify the customer order, (iv) acknowledge the order, (v) confirm the customer delivery, and perform automated reordering. Connected RFIDs device and gateway capabilities (vi) are present in RFID physical device-cum-RFID reader which acquires the ID data. (a) (i) to (iv) true (b) (ii), (iv) and (v) \n\n(c) All true (d) (ii) to (v) true 8. The connected RFIDs supply-chain gateway communicates to the Internet the \n\nenriched data using a (i) wireless protocol to an access point, (ii) IP protocol to TCP/ IP network, (iii) CoAP client and (iv) MQTT client. (a) All true (b) (iii) and (iv) \n\n(c) (i) and (ii) (d) All except (iv) 9. Consider an architectural reference model for tracking customer and monitoring \n\nservices. The (i) layer 2 gateway enriches the data by generating time series and location stamped data, (ii) adapts data for communication using IP4 protocol on the network, (iii) layer 3 streams the gathered and enriched data stream to the server using the network, (iv) Layer 5 acquires the devices and diverse sources data at the data store and route to layer 6, and (v) layer 6 organises data at big data store and database RDBMS, analyse data using the event processing, message routing, and analytics, (vi) Layer 6 includes applications for creation of innovative products, intelligent infrastructure, and enhancement of operational efficiencies. (a) All except (i) (b) (iii) and (iv) \n\n(c) (i) to (iv) (d) (i) to (vi) 10. Consider tracking customer service. Tracking is done using (i) customer\u2019s Internet- \n\nconnected mobile apps and (ii) wearable digital devices, (iii) customer databases, (iii) embedded devices and sensors at customer\u2019s places of visit, (iv) information from customer feedback, and (v) information from the sale services and maintenance centres. The examples of IoT applications/services are creation of (vi) innovative products and (vii) provisioning for new customer experiences, and offering unique services to their customers. (a) (iii) to (v) true (b) All except (ii) and (v) \n\n(c) All except (ii) and (iii) (d) All true 11. Consider reference architecture for IoT applications for connected-car embedded \n\ndevices clusters. Data from the layer 1 generates using (i) cluster of in-car ECUs, (ii) embedded devices, car-health devices and sensors, (iii) in-car infotainment systems, and (iv) mobile apps. In-car network (v) uses Bluetooth and NFC for inter-devices wireless communication to the Internet, (vi) CAN (Controller Area Network) for real- time devices and sensors data to the central computer, (vii) LIN (Local Interconnect \n\n\u2605\u2605\u2605 \n\n\u2605 \n\n\u2605\u2605 \n\n\u2605\u2605\u2605 \n\n\u2605\u2605\u2605 \n\n514 Internet of Things: Architecture and Design Principles \n\nNetwork) for intra-car seats wire communication to the Internet, and (viii) MOST for multimedia devices. (a) All except (iv) and (v) (b) All except (iii), (v) and (vii) \n\n(c) All except (ii) and (vii) (d) All except (iii) and (iv) 12. Applications of gathered data using connected-car include (i) re-planning the \n\nmarketing, sales, (ii) re-planning the company services, (iii) offering better customer experiences, (iv) service calls, diagnostics and predictive analytics at the service and maintenance centre, (v) triggers for the maintenance as per the car\u2019s condition, (vi) detecting dependencies amongst car-health problems, depreciation analysis and driving behaviour analytics, (vii) detecting patterns of dependencies among vehicle- health issues, (viii) location-based geospatial analysis. (a) All true (b) All except (i), (v) and (vi) \n\n(c) (iv) to (vi) (d) All except (vi) and (vii) 13. Consider architectural layers in an openHAB development environment for smart \n\nhome applications and services. The prototype uses (i) openHAB add-on objects, (iii) openHAB core objects, (iv) OSGi framework services, (v) cloud platform and (vi) can deploy IFTTT service. (a) All true (b) All except (iii) \n\n(c) (i) to (vi) (d) All except (iv) and (vi) 14. IFTTT service enables (i) a developer to create a sequential set of conditional (If This \n\nThen That) statements, (ii) call Java applets, (iii) trigger actions by change to other web service, (iv) actions enable data communication from cloud to Facebook, Twitter, Gmail. (a) (iii) and (iv) (b) All except (ii) \n\n(c) (i) to (iii) (d) All except (iii) 15. Consider smart air quality monitoring service. The service tasks are (i) computes air \n\nquality index, (ii) measures T, RH and P, (iii) computes calibration parameters of gas sensors, (iii) measures CO, (iv) measures CO2 and (v) particles suspended in air. The service (vi) connects and communicates with a cloud platform. The service deploys (vii) WSN networks, (viii) distributed computing nodes IP network, and (ix) LPWAN for sensor nodes network communication with a gateway. (a) All except (v) and (ix) (b) All except (ii) and (v) \n\n(c) All true (d) All except (ii) 16. Consider Internet of Streetlights application for central control and monitoring \n\nservice. A lamppost communicates to another one in (i) a WSN network, (ii) an IP network, (iii) an LPWAN, (iv) and uses BT LE or ZigBee within the device network. \n\n\u2605\u2605\u2605 \n\n\u2605\u2605\u2605 \n\n\u2605\u2605\u2605 \n\n\u2605\u2605\u2605 \n\n\u2605\u2605\u2605 \n\nIoT Case Studies 515 \n\nThe network nodes (v) exchange messages, alerts and triggers, and communicate with (vi) a coordinator (server), (vii) IoT cloud, and (viii) central control and monitoring service for streetlights. (a) All true (b) All except (i), (iv) and (vi) \n\n(c) (i), (iv) and (vi) (d) (i), (iv) to (vi) \n\nShort-Answer Questions \n\n1. Justify assignment of complexity level 4 for development and deployment of smart \n\nair pollution and air quality monitoring applications and services. [LO12.1] 2. Explain project development by taking an example RFID based inventory control \n\nusing Nimbits cloud platform. [LO12.1] 3. Why is cloud platform offering PaaS preferred over standalone dedicated application \n\nservers for developing and using the IoT applications/services? [LO12.1] 4. When does a developer need the use of distributed platforms, such as CISCO IoT, IOx \n\nand Fog? [LO12.1] 5. What are the TCUP features which enable creation of highly scalable, intelligent and \n\npredictive analytics driven IoT applications, and allows IoT applications to be built for virtually any devices/sensors and virtually any business domain? [LO12.1] 6. What are the features of AWS? [LO 12.1] 7. What are the advantages of gathering, enriching, streaming and creating data store \n\nfor the data captured by the embedded sensors, events, as well as diversified sources, such as customers, other enterprise databases and social media? [LO12.2] 8. How does the ETSI domains partitioning as device and gateway, and network and \n\napplications offer a suitable reference model for Internet of ATMs based surveillance system? [LO12.2] 9. Why are spatially distributed vibration sensors used in addition to digital cameras at \n\nan ATM in the surveillance system in Internet of ATMs? [LO12.2] 10. Why is Raspberry Pi 2 model B+ (RPi 2) preferred over Arduino board for the \n\nprototype embedded real-time systems for 24 \u00a5 7 active digital video cameras? \n\n[LO12.2] 11. List the commonalities and differences in cloud server platforms shown in Figure \n\n12.4 and 12.6. [LO12.2] 12. How does customer data monitoring and sensing along with the RFID usages improve \n\nthe customer services and experiences in Internet-connected RFIDs and customers? \n\n[LO12.2] 13. What are the advantages of using Ethernet and Miracast nodes in in-car network? \n\n[LO12.3] 14. How does Internet-connected car improve maintenance and services using predictive \n\nanalytics? [LO12.3] 15. What are the modules and actions at the gateway in home automation? [LO12.4] 16. How do the tasks in a weather-monitoring system differ from that in an air-pollution- \n\nmonitoring system? [LO12.4] 17. What are the changes required when light pulses are to be used instead of ultrasonic \n\npulses for sensing vacant parking spaces? [LO12.4] \n\n\u2605 \n\n\u2605\u2605\u2605 \n\n\u2605\u2605 \n\n\u2605 \n\n\u2605\u2605\u2605 \n\n\u2605\u2605\u2605 \n\n\u2605 \n\n\u2605\u2605\u2605 \n\n\u2605\u2605 \n\n\u2605 \n\n\u2605 \n\n\u2605\u2605\u2605 \n\n\u2605 \n\n\u2605\u2605\u2605 \n\n\u2605\u2605 \n\n\u2605 \n\n\u2605\u2605 \n\n516 Internet of Things: Architecture and Design Principles \n\n18. What is the advantage of using an Internet bot in smart weather-monitoring service? \n\n[LO12.4] 19. How can the quality of vineyard grapes be enhanced by using smart agriculture? \n\n[LO12.4] 20. What are the changes in codes required to use TLV format for sensors, IDs and values? \n\n[LO12.5] \n\nReview Questions \n\n1. Decribe design-level complexity levels with an example each. [LO 12.1] 2. Compare IBM cloud platform IoTF, Bluemix, Watson analytics predictive analytics \n\nand data visualisation; and Cisco IoT, IOx and Fog cloud platforms. [LO 12.1] 3. How does TCS connected universe platform gather, enrich, stream, manage, acquire, \n\norganise and analyse? [LO 12.1] 4. Describe new features in TCUP which enable easy development and deployment of \n\nIoT/M2M/IIoT applications and services. [LO 12.1] 5. Describe device and gateway domain functions in the surveillance system in the \n\nInternet of ATMs. [LO12.2] 6. Describe network and applications domain functions in the surveillance system in \n\nthe Internet of ATMs. [LO 12.2] 7. A toy company stores the inventory of each kind of toys and labels using RFID labels \n\nat the toy packages and containers for shipping. Show a data-flow diagram and architectural reference model for the steps between shipping of toys and automated re-ordering of the toys? [LO 12.2] 8. Describe suitability of Oracle reference model architecture for the applications of IoTs \n\nin services and business processes based on Internet tracking of customers carrying digital devices. [LO 12.3] 9. Describe the applications feasible using the data store for Internet-tracked customers \n\ncarrying connected digital devices. [LO12.3] 10. Describe in-car network of ECUs and infotainment devices in Internet-connected \n\ncars. [LO 12.3] 11. Describe the applications which are feasible using the driver/car user data server for \n\nInternet-connected cars. [LO 12.3] 12. Explain usages of IFTTT cloud service. [LO 12.4] 13. Describe the applications which are feasible using the vacant parking slots data \n\nserver for Internet-connected cars. [LO 12.4] 14. How is the forest fire service facilitated by using the WSN networks, gateway and \n\ncloud platform? [LO 12.4] 15. Why do air pollution sensors measure the T, RH and P also along with the gases and \n\nparticulate matter? [LO 12.4] 16. Explain JSON object coding in Java for a smart street-lighting service. [LO 12.5] \n\nPractice Exercises \n\n1. An Arduino board is attached with ZigBee, GPS, Ethernet shields and a location \n\ntracker is developed to display location information. What is the complexity level for the design? [LO 12.1] \n\n\u2605\u2605 \n\n\u2605 \n\n\u2605\u2605\u2605 \n\n\u2605 \u2605\u2605\u2605 \n\n\u2605\u2605 \n\n\u2605 \n\n\u2605\u2605 \n\n\u2605\u2605 \n\n\u2605\u2605\u2605 \n\n\u2605 \n\n\u2605\u2605\u2605 \n\n\u2605 \n\n\u2605\u2605\u2605 \n\n\u2605\u2605\u2605 \u2605\u2605\u2605 \n\n\u2605 \n\n\u2605 \n\n\u2605\u2605 \n\n\u2605 \n\nIoT Case Studies 517 \n\n2. Draw a diagram for the devices, modules and reference model for device and gateway \n\ndomain for the location tracking system described in Practice exercise 1. [LO 12.1] 3. How will a developer use the Oracle IoT development platform for automatic \n\nchocolate vending machine services? [LO 12.1] 4. How will a developer use Nimbits hardware and software solution for smart air \n\nquality index monitor service? How do the application-required data, messages, alerts, triggers and notification communicate on the Internet between the servers-L node and the Nimbits cloud server-S and XMPP Server-S (Figure 6.3)? [LO 12.1] 5. How will a developer use AWS IoT device SDK (Software Development Kit), AWS \n\nIoT and AWS service for smart air quality index monitoring service? [LO 12.1] 6. How will a developer use TCUP for monitoring ATM premises? [LO 12.2] 7. What are the possible mobile apps for an Internet-based RFIDs tracking database by \n\na toys manufacturing company at the customer and company ends? [LO 12.2] 8. Draw an architectural view of RFIDs IDs data transfer for supply chain applications \n\nfor containers tracking. [LO 12.2] 9. A famous company LEGO applies labels which also contain the labels for inlays (pieces \n\nthat a child assembles and dissembles) at the manufacturing facility. The inlay labels are not as per EPC. The RFIDs based systems need EPC, (electronic product code) standards, roles and architecture. RFID based technologies effective implementation at data processing subsystem consist of reader and tag protocols, middleware architecture and EPC standards accepted by Walmart. How does four layer ITU-T architecture model the solution which would let LEGO warehouse workers apply RFID enabled labels to shipping packages of the toys and the LEGO tagging process for the toy inlays would not disrupt the manufacturing facility, order-picking and shipping process at the distribution facility? [LO 12.2] 10. Redraw an architectural view of usages of TCUP for customer preferences and \n\ncustomer services monitoring in Internet-connected cars. [LO 12.2] 11. Draw an architectural reference model of usages of a cloud platform and predictive \n\nanalytics for automotive car maintenance of connected-car components. [LO 12.3] 12. How is the architectural view for connected-cars re-deployable for connected waste \n\ncontainers\u2019 servicing company? Assume that the company optimises the number of trips for the servicing using descriptive and predictive analytics. [LO12.3] 13. Compare Eclipse IoT stck platforms and AWS IoT device SDK (Software Development \n\nKit), AWS IoT and AWS service for smart home automation and home-intrusion monitoring service. [LO 12.4] 14. An autonomous parking system deploys a web service for real-time reports from \n\nparking slot services. The service collects information about available parking slots. How is the openHAB development platform and my.openHAB.org cloud architectural usable for the service? [LO12.4] 15. Section 12.5 describes a number of IoT applications and services. List the applications \n\nand services where embedded devices and sensors can deploy Raspberry Pi 2 model B+. prototype development board. List the processors and memory and OS used in RPi2. [LO12.4] 16. Build two-domains four-layer architecture reference model for smart air quality \n\nindex monitoring service using openHAB. [LO 12.4] \n\n\u2605\u2605 \n\n\u2605\u2605 \n\n\u2605\u2605\u2605 \n\n\u2605\u2605\u2605 \n\n\u2605\u2605 \u2605\u2605 \n\n\u2605 \n\n\u2605\u2605\u2605 \n\n\u2605 \n\n\u2605 \n\n\u2605\u2605\u2605 \n\n\u2605\u2605\u2605 \n\n\u2605\u2605 \n\n\u2605 \n\n\u2605\u2605 \n\n518 Internet of Things: Architecture and Design Principles \n\n17. How does the smart street lighting service simultaneously provide an information \n\nnetwork for waste containers\u2019 management service? Draw an architectural view for water containers\u2019 management service that is similar to the lighting monitoring service? \n\n[LO 12.5] 18. Recall Example 5.1. The ACVM also displays advertisements for chocolates, news, \n\nweather reports and events in the city whenever not in use. Describe two domain architectural reference models, and show what modification in the codes for the smart street lighting service simultaneously provide information network for automatic chocolate machine supply chain management service? [LO 12.5] 19. Modify the code for communication of street light sensor data for additional data \n\nfrom five other services data, for their separate coordinators using the same WSN? \n\n[LO 12.5] 20. Describe the complete design of a location tracker using Arduino board attached \n\nwith ZigBee, GPS, Ethernet shields to display and track location information. (Accompanying online content with the book gives the design and full codes). \n\n[LO 12.5] \n\n\u2605\u2605\u2605 \n\n\u2605\u2605\u2605 \n\n\u2605\u2605 \n\n\u2605\u2605\u2605 \n\nSolutions to Multiple Choice Questions \n\nCHAPTER 1 \n\n1. (a) 2. (b) 3. (b) 4. (d) 5. (b) 6. (b) 7. (c) \n\nCHAPTER 2 \n\n1. (a) 2. (b) 3. (b) 4. (b) 5. (d) 6. (a) 7. (c) 8. (b) 9. (a) 10. (c) 11. (b) 12. (b) 13. (a) 14. (d) 15. (d) 16. (b) \n\nCHAPTER 3 \n\n1. (d) 2. (b) 3. (b) 4. (d) 5. (a) 6. (b) 7. (b) 8. (a) 9. (c) 10. (b) 11. (c) 12. (c) \n\nCHAPTER 4 \n\n1. (a) 2. (b) 3. (d) 4. (d) 5. (c) 6. (b) 7. (b) 8. (c) 9. (b) \n\nCHAPTER 5 \n\n1. (d) 2. (c) 3. (a) 4. (b) 5. (b) 6. (a) 7. (d) 8. (c) 9. (c) 10. (b) 11. (b) 12. (d) 13. (a) 14. (a) 15. (d) 16. (c) \n\n520 Internet of Things: Architecture and Design Principles \n\nCHAPTER 6 \n\n1. (b) 2. (d) 3. (d) 4. (c) 5. (a) 6. (b) 7. (b) 8. (a) 9. (c) \n\nCHAPTER 7 \n\n1. (d) 2. (a) 3. (c) 4. (b) 5. (d) 6. (c) 7. (a) 8. (c) 9. (a) 10. (b) 11. (d) 12. (b) \n\nCHAPTER 8 \n\n1. (a) 2. (b) 3. (c) 4. (d) 5. (a) 6. (a) 7. (b) 8. (c) 9. (d) 10. (d) \n\nCHAPTER 9 \n\n1. (d) 2. (a) 3. (c) 4. (b) 5. (d) 6. (c) 7. (a) 8. (b) 9. (b) 10. (d) \n\nCHAPTER 10 \n\n1. (a) 2. (b) 3. (c) 4. (a) 5. (b) 6. (c) 7. (d) 8. (c) 9. (b) 10. (a) \n\nCHAPTER 11 \n\n1. (c) 2. (d) 3. (b) 4. (a) 5. (d) 6. (b) \n\nCHAPTER 12 \n\n1. (a) 2. (b) 3. (a) 4. (d) 5. (c) 6. (b) 7. (c) 8. (c) 9. (d) 10. (d) 11. (b) 12. (a) 13. (a) 14. (b) 15. (c) 16. (d) \n\nBibliography \n\nI. Print Books and E-Books \n\n1. Adrian Mcewen, Hakin Cassimally, Designing The Internet Of Things, Wiley, 2015. 2. Alasdair Gilchrist, Industry 4.0\u2014The Industrial Internet of Things, Apress, 2016 3. Arshdeep Bahga, Vijay Madisetti, Internet of Things\u2014A Hands-on Approach, \n\nUniversities Press, 2015. 4. Charalampos Doukas, Building Internet Of Things with the Arduino: V.10, CreateSpace/ \n\nAmazon, 2012. 5. Cuno Pfister,  Getting Started with the Internet Of Things\u2014Connecting Sensors and \n\nMicrocontrollers to the Cloud, Maker Media Inc. O\u2019Reilly, 2011. 6. Daniel Kellmereit,  Daniel Obodovski, The Silent Intelligence\u2014The Internet Of Things, \n\nDND Ventures LLC, 2013. 7. Daniel Minoli, Building with Internet of Things with IPv6 and MPIv6\u2014The Evolving \n\nWorld of M2M Communications, Wiley, 2013. 8. Dave Evans, The Internet of Things How the new Evolution of Internet Changing Everything, \n\nCISCO, 2011. 9. Dieter Uckelmann, Mark Harrison, Florian Michahelles (Eds.), Architecting The \n\nInternet Of Things, Springer,  2011. 10. Dominique D Guinard, Vlad M Trifa, Building the Web of Things, Manning, 2016. 11. Emily Gertz, Patrick Di Justo, Environmental Monitoring with Arduino\u2014Building Simple \n\nDevices to Collect Data About the World Around Us, Maker Media, Inc. O\u2019Reilly, 2012. 12. Harv\u00e9 Chabanne, Pascal Urien, Jean-Ferdinand Susini (Eds.), RFID and The Internet of \n\nThings, Wiley, 2013. 13. Hakima Chaouchi (Ed.), The Internet Of Things: Connecting Objects,  Wiley, 2010. 14. Hakima Chaouchi (Ed.), The Internet Of Things: Connecting Objects To The Web, Wiley \n\n2013. \n\n522 Internet of Things: Architecture and Design Principles \n\n15. Honbo Zhou, The Internet of Things in the Cloud: A Middleware Perspective, CRC Press, \n\n2013. 16. Ian G Smith, The Internet of Things, New Horizons, IERC- Internet of Things European \n\nResearch Cluster, 2012. 17. Jan H\u00f6ller, Vlasios Tsiatsis, Catherine Mulligan, Stefan Avesand, Stamatis Karnouskos, \n\nDavid Boyle, From Machine-To-Machine To The Internet Of Things: Introduction to a New Age of Intelligence, Elsevier, 2014. 18. Jeremy Blum,  Exploring Arduino: Tools And Techniques for Engineering Wizardry, Wiley, \n\n2013. 19. Kris Jamsa, Cloud Computing-SaaS, PaaS, IaaS, Virtualizatiom, Business Models, Mobile, \n\nSecurity, and More, Jones & Bartlett, 2013. 20. Marco Schwartz,  Internet of Things with the Raspberry Pi: Build Internet of Things Projects \n\nusing the Raspberry Pi Platform (eBook), Open Home Automation, 2014. 21. Marco Schwartz, Internet of Things with the Arduino Y\u00fan- Projects to help you Build a \n\nWorld of Smarter Things, Packet Publications, 2014. 22. Mike Kuniavsky, Smart Things: Ubiquitous Computing User Experience Design, Elsevier, \n\n2010. 23. Naveen Balani (author), Rajeev Hathi (Ed.), Enterprise IoT: A Definitive Handbook, \n\nCreateSpace/Google Books, 4th Ed. 2016 24. Norris,  Internet Of Things: Do-It-Yourself At Home Projects For Arduino, Raspberry Pi \n\nAnd Beaglebone,  McGraw-Hill, 2015. 25. Olivier Hersent, David Boswarthick, Omar Elloumi, The Internet of Things: Key \n\nApplications and Protocols, 2nd Ed., Wiley, 2012. 26. Peter Semmelhack, Social Machines-How to Develop Connected Products That Change \n\nCustomers, Wiley, 2013. 27. Peter Waher,  Learning Internet of Things, PACKT, 2015. 28. Raj Kamal, Embedded Systems\u2014Architecture, Programming and Design, 3rd Ed., McGraw- \n\nHill Education, 2015. 29. Raj Kamal, Internet and Web Technology, Tata McGraw Hill, 2002. 30. Raj Kamal, Mobile Computing, 3rd Ed. (in press), Oxford University Press, 2017. 31. Rajkumar Buyya, Amir Vahid Dastjerdi (Eds.) Internet of Things\u2014Principles and \n\nParadigms, Morgan Kaufman imprint, Elsevier, 2016 32. Rajkumar Buyya, Christian Vecchiola, S. Thamarai Selvi, Mastering Cloud Computing, \n\nMcGraw-Hill, 2013. 33. Rob Faludi, Building Wireless Sensor Networks- with ZigBee, XBee, Arduino, and \n\nProcessing, O\u2019Reilly, 2010. 34. Robert Stackowiak, Art Licht, Venu Mantha, Louis Nagode.  Big Data and The Internet \n\nof Things Enterprise Information Architecture for A New Age, Apress, 2015. 35. Samuel Greengard, The Internet of Things, The MIT Press Essential Knowledge series, \n\n2015. 36. Tero Karvinen, Kimmo Karvinen, Make: Sensors: A Hands-On Primer For Monitoring \n\nThe Real World With Arduino And Raspberry Pi, Maker Media Inc., 2014. 37. Tom Igoe, Making Things Talk - Using Sensors, Networks, and Arduino\u2014to See, Hear, and \n\nFeel Your World, 2nd Ed., O\u2019Reilly, 2011. \n\nBibliography 523 \n\nII. Website References \n\n1. http://www.tcs.com/SiteCollectionDocuments/White%20Papers/Internet-of- \n\nThings-The-Complete-Reimaginative-Force.pdf. [Internet of Things: The Complete Reimaginative Force, TCS Global Trend Study, July 2015] 2. http://www.gartner.com/newsroom/id/2970017. [Gartner, \u201cGartner Says by 2020, \n\na Quarter Billion Connected Vehicles Will Enable New In-Vehicle Services and Automated Driving Capabilities\u201d, Jan., 2015] 3. http://www.caterpillar.com/en/news/caterpillarNews/history/110-years-pass-since- \n\nthe-first-test-of-the-steam-powered-track-type-tractor.html. [Caterpillar, \u201c110 Years Pass Since the First Test of the Steam-Powered Track-Type Tractor\u201d] 4. http://www.tcs.com/.../Brochures/TCS-Connected-Car-Solutions-1014-1.pdf 5. http://fortune.com/2015/03/05/the-race-to-the-internet-of-things/ [Fortune, \u201cThe race \n\nto the Internet of things,\u201d March, 2015] 6. http://postscapes.com/internet-of-things-books [A presentation of Books on Internet \n\nof Things] \n\nIII. Print and e-Journals \n\n1. http://www.iotjournal.com/ 2. http://www.rfidjournal.com/ 3. www.iot-j.ieee.org, IEEE Internet of Things Journal, Joint Publications of IEEE \n\nSensors Council,  IEEE Communications Society, IEEE Computer Society, IEE Signal Processing Society 4. http://www.journals.elsevier.com/journal-of-network-and-computer-applications/ \n\nElsevier  Journal of Network and Computer Applications \n\nIV. e-Journal Paper References \n\n1. http://www.emeraldinsight.com/loi/bpmj,  Internet of Things: Applications and Challenges \n\nin Smart Cities: a Case Study of IBM Smart City Projects, Business Process Management Journal, Volume 22, Issue 2, pp 263, 2016. 2. http://iot-analytics.com/product/iot-platforms-market-report-2015- \n\n2021-3/?utm_source=Google%20AdWords&utm_medium=CPC&utm_ content=Textanzeigen&utm_campaign=SEA%20-%20iot%20platform%20 market%20report,  IoT Platforms: Market Report 2015-2021, 2016. 3. http://www.ibm.com/internet-of-things/trial.html?cm_mmc=search-gsn-_- \n\nunbranded-watson-iot-search-_-internet%20of%20things%20(Broad%20and%20 Phrase%20Match%20Only)-phrase-_-ROW-iot-mkt-oww Start Developing with IBM Watson IoT Platform. 4. http://www.itu.int/en/ITU-T/Workshops-and-Seminars/iot/201402/Pages/default. \n\naspx, Internet of Things \u2013 Trends and Challenges in Standardization, Geneva, Switzerland, 2014. \n\n",
  "createdAt": "2026-02-17"
}