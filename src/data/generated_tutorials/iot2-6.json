{
  "title": "6",
  "slug": "iot2-6",
  "description": "Module from iot2.pdf: 6",
  "tags": [
    "iot2",
    "Elite"
  ],
  "content": "# 6\n\nData Collection, Storage and Computing \n\nUsing a Cloud Platform \n\nLearning Objectives \n\nLO 6.1 Outline cloud computing paradigm for data collection, storage and computing services LO 6.2 Describe cloud computing service models in a software architectural concept, everything as a service (XAAS) LO 6.3 Explain the usage of cloud platforms for IoT applications and services with examples of Xively (Pachube/COSM) and Nimbits \n\nRecall from Previous Chapters \n\nThe concepts learnt in previous chapters can be summed up as follows\u2014large magnitude of data is generated from large number of devices, especially from machines in industrial plants, embedded components data from large number of automobiles, health devices in ICUs or wireless sensor networks, and so on. The applications acquire the data, collect and store in servers, data centres or data warehouses. The data is organised in a relational database or other structured or unstructured formats. IoT applications, services and processes use data for computations, transactions, OLTP, OLAP, analytics, business processes, business intelligence and knowledge discovery. \n\n\n![Image](/src/assets/generated_images/iot2_p229_i0.png)\n\nData Collection, Storage and Computing Using a Cloud Platform 203 \n\n6.1 INTRODUCTION \n\nA few conventional methods for data collection and storage are as follows: \n\n\u25cfSaving devices\u2019 data at a local server for the device nodes \n\n\u25cfCommunicating and saving the devices\u2019 data in the files locally on removable media, such as micro SD cards and computer hard disks \n\n\u25cfCommunicating and saving the data and results of computations in a dedicated data store or coordinating node locally \n\n\u25cfCommunicating and saving data at a local node, which is a part of a distributed DBMS (Section 5.3.1) \n\n\u25cfCommunicating and saving at a remote node in the distributed DBMS \n\n\u25cfCommunicating on the Internet and saving at a data store in a web or enterprise server \n\n\u25cfCommunicating on the Internet and saving at data centre for an enterprise Cloud is a new generation method for data collection, storage and computing. Section 6.2 describes cloud computing paradigm for data collection, storage, computing and services. Section 6.3 describes cloud-computing service models in a software architectural concept, \u2018everything as a service\u2019. Section 6.4 describes IoT specific cloud- based services, Xively, Nimbits. Section 12.2.4 describes platforms such as AWS IoT, Cisco IoT, IOx and Fog, IBM IoT Foundation, TCS Connected Universe (TCS CUP). \n\n6.2 CLOUD COMPUTING PARADIGM FOR DATA COLLECTION, STORAGE AND COMPUTING \n\nDifferent methods of data collection, storage and computing are shown in Figure 6.1. The figure shows (i) Devices or sensor networks data collection at the device web server, (ii) Local files, (iii) Dedicated data store at coordinating node, (iii) Local node in a distributed DBMS, (iv) Internet-connected data centre, (v) Internet-connected server, (vi) Internet-connected distributed DBMS nodes, and (vii) Cloud infrastructure and services. \n\nCloud computing paradigm is a great evolution in Information and Communications Technology (ICT). The new paradigm uses XAAS at the Internet connected clouds for collection, storage and computing. \n\nFollowing are the key terms and their meanings, which need to be understood before learning about the cloud computing platform. \n\nResource refers to one that can be read (used), written (created of changed) or executed (processed). A path specification is also a resource. The resource is atomic (not-further divisible) information, which is usable during computations. A resource may have multiple instances or just a single instance. The data point, pointer, data, object, data store or method can also be a resource. \n\nIoT data collection and \n\nstorage methods \n\nOutline Cloud computing paradigm \n\nfor data collection, storage and computing \n\nservices \n\nLO 6.1 \n\n204 Internet of Things: Architecture and Design Principles \n\nDatabase Firewall \n\nCollect + Storage (for the Applications, Services, Enterprise Business Processes and Business Intelligence) \n\nData Centre \n\nServer \n\nIoT/M2M \n\n. . .. \n\nDevice/ \n\nSensor Network \n\nLocal \n\nFiles \n\nCloud Infrastructure \n\nand Services \n\nCollect \n\nInternet Firewall \n\nCollect \n\nCollect \n\nDevice/ \n\nSensor Network \n\nDevice/ \n\nSensor Network \n\nCollect \n\nCollect \n\nCollect \n\nfrom things Local Server Dedicated Data Store/ Coordinating \n\nNode \n\nDistributed \n\nDatabase \n\nNode \n\nDistributed \n\nDatabase \n\nNodes \n\nIoT/M2M Local device network data collection and storage \n\nFigure 6.1  Devices or sensors network data collection at a device local-server, local files, dedicated data \n\nstore, at a coordinating node, a local node of a distributed DBMS, Internet-connected server of data centre, server or distributed database nodes or a cloud infrastructure \n\nSystem resource refers to an operating system (OS), memory, network, server, software or application. \n\nEnvironment refers to an environment for programming, program execution or both. For example, cloud9 online provides an open programming environment for BeagleBone board for the development of IoT devices; Windows environment for programming and execution of applications; Google App Engine environment for creation and execution of web applications in Python or Java. \n\nPlatform denotes the basic hardware, operating system and network, and is used for software applications or services over which programs can be run or developed.1 \n\n1 Based on definition at https://www.techopedia.com/definition/3411/platform \n\nData Collection, Storage and Computing Using a Cloud Platform 205 \n\nA platform may provide a browser and APIs which can be used as a base on which other applications can be run or developed. \n\nEdge computing is a type of computing that pushes the frontier of computing applications, data and services away from centralised nodes to IoT data generating nodes, that means at logical extremes of the network.2 IoT device nodes are pushed by events, triggers, alerts, messages and data is collected for enrichment, storage and computations from the remote centralised database nodes. Pushing the computations from centralised nodes enables the usage of resources at device nodes, which could be a requirement in case of low power lossy networks. The processing can also be classified as edge computing at local cloud, grid or mesh computing. The nodes may be mobile or of a wireless sensor network or cooperative distributed in peer-to-peer and ad-hoc networks. \n\nDistributed computing refers to computing and usage of resources which are distributed at multiple computing environments over the Internet. The resources are logically-related, which means communicating among themselves using message passing and transparency concepts, and are cooperating with each other, movable without affecting the computations and can be considered as one computing system (location independent). \n\nService is a software which provides the capabilities and logically grouped and encapsulated functionalities. A service is called by an application for utilising the capabilities. A service has a description and discovery methods, such as advertisement for direct use or through a service broker. The service binds to Service Level Agreement (SLA) between service (provider end point) and application (end point). One service can also use another service. \n\nWeb Service, according to the W3C definition, is an application identified by a URI, described and discovered using the XML based Web-Service Description Language (WSDL). A web service interacts with other services and applications using XML messages and exchanges the objects using Internet protocols. \n\nService-oriented architecture consists of components which are implemented as independent services which can be dynamically bonded and orchestrated, and which possess loosely coupled configurations, while the communication between them uses messages. Orchestrating means a process which predefines an order of calling the services (in sequences and in parallel) and the data and message exchanges. \n\nWeb computing refers to computing using resources at computing environment of web server(s) or web services over the Internet. \n\nGrid computing refers to computing using the pooled interconnected grid of computing resources and environments in place of web servers. \n\nUtility computing refers to computing using focus on service levels with optimum amount of resources allotted when required and takes the help of pooled resources and environments for hosting applications. The applications utilise the services. \n\n2 https://en.wikipedia.org/wiki/Edge_computing \n\n206 Internet of Things: Architecture and Design Principles \n\nCloud computing refers to computing using a collection of services available over the Internet that deliver computational functionality on the infrastructure of a service provider for connected systems and enables distributed grid and utility computing. \n\nKey Performance Indicator (KPI) refers to a set of values, usually consisting of one or more raw monitored values including minimum, average and maximum values specifying the scale. A service is expected to be fast, reliable and secure. The KPIs monitor the fulfillment of these objectives. For example, a set of values can relate to Quality of Service (QoS) characteristics, such as bandwidth availability, data backup capability, peak and average workload handling capacity, ability to handle defined volume of demand at different times of the day, and the ability to deliver defined total volume of service. A cloud service should be able to fulfill the defined minimum, average and maximum KPI values agreed in the SLA. \n\nLocalisationmeans cloud computing content usage is monitored by determining localisation of the QoS level and KPIs. \n\nSeamless cloud computing means during computing the content usages and computations continue without any break when the service usage moves to a location with similar QoS level and KPIs. For example, continue using same cloud platform when developer of software shifts. \n\nElasticity denotes that an application can deploy local as well as remote applications or services and release them after the application usage. The user incurs the costs as per the usages and KPIs. \n\nMeasurability (of a resource or service) is something which can be measured for controlling or monitoring and enables report of the delivery of resource or service. \n\nHomogeneity of different computing nodes in a cluster or clusters refers to integration with the kernel providing the automatic migration of the processes from one to other homogeneous nodes. System software on each computing node should ensure same storage representation and same results of processing.3 \n\nResilient computing refers to the ability of offering and maintaining the accepted QoS and KPIs in presence of the identified challenges, defined and appropriate resilience metrics, and protecting the service.4 The challenges may be small to big, such as misconfiguration of a computing node in a network to natural disasters. An English Cambridge dictionary gives the meaning of resilience as the power or ability to return to the original form, position, etc., after being bent, compressed or stretched. \n\nScalability in cloud services refers to the ability using which an application can deploy smaller local resources as well as remotely distributed servers and resources, and then increase or decrease the usage, while incurring the cost as per the usage on increasing scales. \n\n3 http://www.netlib.org/utk/papers/practical-hetro/node3.html 4 https://en.wikipedia.org/wiki/Resilience_(network) \n\nData Collection, Storage and Computing Using a Cloud Platform 207 \n\nMaintainability in cloud services refers to the storage, applications, computing infrastructure, services, data centres and servers maintenances which are responsibilities of the remotely connected cloud services with no costs to the user. \n\nXAAS is a software architectural concept that enables deployment and development of applications, and offers services using web and SOA. A computing paradigm is to integrate complex applications and services (Section 5.3.5) and use XAAS concept for deploying a cloud platform.5 \n\nMultitenant cloud model refers to accessibility to a cloud platform and computing environment by multiple users who pay as per the agreed QoS and KPIs, which are defined at separate SLAs with each user. Resource pooling is done by the users but each uses pays separately. \n\nThe following subsections describe the cloud computing paradigm and deployment models. \n\n6.2.1 Cloud Computing Paradigm \n\nCloud computing means a collection of services available over the Internet. Cloud delivers the computational functionality. Cloud computing deploys infrastructure of a cloud-service provider. The infrastructure deploys on a utility or grid computing or web- services environment that includes network, system, grid of computers or servers or data centres. \n\nJust as we\u2014users of electricity\u2014do not need to know about the source and underlying infrastructure for electricity supply service, similarly, a user of computing service or application need not know how the infrastructure deploys or the details of the computing environment. Just as the user does not need to know Intel processor inside a computer, similarly, the user uses the data, computing and intelligence in the cloud, as part of the services. Similarly, the services are used as a utility at the cloud. \n\nCloud Platform Services \n\nCloud platform offers the following: \n\n\u25cfInfrastructure for large data storage of devices, RFIDs, industrial plant machines, automobiles and device networks \n\n\u25cfComputing capabilities, such as analytics, IDE (Integrated Development Environment) \n\n\u25cfCollaborative computing and data store sharing \n\nCloud Platform Usages \n\nCloud platform usages are for connecting devices, data, APIs, applications and services, persons, enterprises, businesses and XAAS. \n\n5 Reader can refer to standard books for details of Cloud Computing and SOA, such as Mastering Cloud Computing by Raj- kumar Buyya, Christian Vecchiola and S. Thamarai Selvi from McGraw-Hill Education (2013). \n\n208 Internet of Things: Architecture and Design Principles \n\nThe following Equation 6.1 describes a simple conceptual framework of the Internet Cloud: \n\nInternet Cloud + Clients = User applications and services with \n\n\u2018no boundaries and no walls\u2019 \u2026 6.1 \n\nAn application or service executes on a platform which includes the operating system (OS), hardware and network. Multiple applications may initially be designed to run on diversified platforms (OSs, hardware and networks). Applications and services need to integrate them on a common platform and running environment. \n\nCloud storage and computing environment offers a virtualised environment, which refers to a running environment made to appear as one to all applications and services, but in fact physically two or more running environments and platforms may be present. \n\nVirtualisation \n\nA characteristic of virtualised environment is that it enables applications and services to execute in an independent execution environment (heterogeneous computing environment). Each one of them stores and executes in isolation on the same platform, though in fact, it may actually execute or access to a set of data centres or servers or distributed services and computing systems. The applications or services which are hosted remotely and are accessible using the Internet can easily be deployed at a user application or service in a virtualised environment, provided the Internet or other communications are present. \n\nApplications need not be aware of the platform, just Internet connectivity to the platform, called cloud platform, is required. The storage is called cloud storage. The computing is called cloud computing. The services are called cloud services in line with the web services which host on web servers. \n\nVirtualisation of storage means user application or service accesses physical storage using abstract database interface or file system or logical drive or disk drive, though in fact storage may be accessible using multiple interfaces or servers. For example, Apple iCloud offers storage to a user or user group that enables the sharing of albums, music, videos, data store, editing files and collaboration among the user group members. \n\nNetwork Function Virtualisation (NFV) means a user application or service accesses the resources appearing as just one network, though the network access to the resources may be through multiple resources and networks. \n\nVirtualisation of server means user application accesses not only one server but in fact accesses multiple servers. \n\nVirtualised desktop means the user application can change and deploy multiple desktops, though the access by the user is through their own computer platform (OS) that in fact may be through multiple OSs and platforms or remote computers. \n\nVirtualisation enables provisioning for storage, \n\nnetwork functions, server and desktop in execution environment \n\nof multiplatforms and \n\nservers \n\nData Collection, Storage and Computing Using a Cloud Platform 209 \n\nCloud Computing Features and Advantages \n\nEssential features of cloud storage and computing are: \n\n\u25cfOn demand self-service to users for the provision of storage, computing servers, software delivery and server time \n\n\u25cfResource pooling in multi-tenant model \n\n\u25cfBroad network accessibility in virtualised environment to heterogeneous users, clients, systems and devices \n\n\u25cfElasticity \n\n\u25cfMassive scale availability \n\n\u25cfScalability \n\n\u25cfMaintainability \n\n\u25cfHomogeneity \n\n\u25cfVirtualisation \n\n\u25cfInterconnectivity platform with virtualised environment for enterprises and provisioning of in-between Service Level Agreements (SLAs) \n\n\u25cfResilient computing \n\n\u25cfAdvanced security \n\n\u25cfLow cost \n\nCloud Computing Concerns \n\nConcerns in usage of cloud computing are: \n\n\u25cfRequirement of a constant high-speed Internet connection \n\n\u25cfLimitations of the services available \n\n\u25cfPossible data loss \n\n\u25cfNon delivery as per defined SLA specified performance \n\n\u25cfDifferent APIs and protocols used at different clouds \n\n\u25cfSecurity in multi-tenant environment needs high trust and low risks \n\n\u25cfLoss of users\u2019 control \n\n6.2.2 Cloud Deployment Models \n\nFollowing are the four cloud deployment models: \n\n1. Public cloud: This model is provisioned by educational \n\ninstitutions, industries, government institutions or businesses or enterprises and is open for public use. 2. Private cloud: This model is exclusive for use by institutions, \n\nindustries, businesses or enterprises and is meant for private use in the organisation by the employees and associated users only. 3. Community cloud: This model is exclusive for use by a community formed by \n\ninstitutions, industries, businesses or enterprises, and for use within the community organisation, employees and associated users. The community specifies security and compliance considerations. \n\nA cloud deployment model may be public, private, community or \n\nhybrid \n\n210 Internet of Things: Architecture and Design Principles \n\n4. Hybrid cloud: A set of two or more distinct clouds (public, private or community) \n\nwith distinct data stores and applications that bind between them to deploy the proprietary or standard technology. Cloud platform architecture is a virtualised network architecture consisting of a cluster of connected servers over the data centres and Service Level Agreements (SLAs) between them. A cloud platform controls and manages resources, and dynamically provisions the networks, servers and storage. Cloud platform applications and network services are utility, grid and distributed services. Examples of cloud platforms are Amazon EC2, Microsoft Azure, Google App Engine, Xively, Nimbits, AWS IoT, CISCO IoT, IOx and Fog, IBM IoT Foundation, TCS Connected Universe Platform. \n\nExample 6.1 \n\nProblem Recall Example 5.1 and list the features of the Microsoft cloud platform. \n\nSolution \n\nThe Microsoft cloud platform consists of: (i) Microsoft finished services and solutions; (ii) Microsoft building block services (Dynamic CRM Online, Sharepoint Online; Exchange Online, dot Net, SQL, ASP dot Net, Office Live and Windows Live Services); (iii) Cloud infrastructure services (Windows Azure for compute, storage and resource management services); and (iv) Global foundation services (Hardware, networking, deployment and operations services). The platform includes development tools (Visual Studio, Windows server, Visual C++, Visual Basic, visual C# and dot Net). \n\nReconfirm Your Understanding \n\n\u25cfComputations need resources, computing environment and platform. \n\n\u25cfApplications and services may require multiple platforms and environments, and multisource resources. \n\n\u25cfThe computing paradigms which are deployed for applications and services, are edge computing, distributed computing, grid computing, utility computing and cloud computing. \n\n\u25cfA cloud service connects devices, data, APIs, applications, services, processes, persons, enterprises, businesses and everything as a service. \n\n\u25cfCloud services offer a virtualised environment, needs QoSs and defined KPIs in the SLAs with the users. \n\n\u25cfFeatures of cloud services are on demand self-service, resources pooling, network broad accessibility, elasticity and measurability, massive scale, scalability, maintainability, homogeneity, virtualisation, interconnectivity platform, and resilient computing. \n\n\u25cfCloud services need to provide advanced security for storage, applications, computing infrastructure, services, data centres and servers at remotely connected cloud services independently at low cost. \n\n\u25cfCloud services utilisation requires high-speed Internet connectivity. \n\n\u25cfCloud computing deployment models are public, private, community and hybrid clouds. \n\n\u25cfAmazon EC2, Microsoft Azure, Google App Engine, Xively and Nimbits are the examples of cloud services. \n\n\n![Image](/src/assets/generated_images/iot2_p237_i0.png)\n\nData Collection, Storage and Computing Using a Cloud Platform 211 \n\nSelf-Assessment Exercise \n\n1. List the merits of each method for a data store shown diagrammatically in \n\nFigure 6.1. 2. List five key features of cloud computing. 3. List the usages of virtualisation functions for data store, networks and servers. 4. Compare the relative merits of four cloud-deployment models. 5. What are the concerns in using cloud computing for applications? 6. How do you define cloud computing? How does it differ from distributed \n\ncomputing? \n\n\u2605\u2605 \n\n\u2605 \u2605\u2605\u2605 \n\n\u2605 \u2605\u2605 \u2605\u2605\u2605 \n\n6.3 EVERYTHING AS A SERVICE AND CLOUD SERVICE MODELS \n\nCloud connects the devices, data, applications, services, persons and business. Cloud services can be considered as distribution service\u2014a service for linking the resources (computing functions, data store, processing functions, networks, servers and applications) and for provision of coordinating between the resources. Figure 6.2 shows four cloud service models and examples. \n\nCloud computing can be considered by a simple equation: \n\nCloud Computing = SaaS + Paas + IaaS + DaaS \u2026 6.2 \n\nSaaS means Software as a Service. The software is made available to an application or service on demand. SaaS is a service model where the applications or services deploy and host at the cloud, and are made available through the Internet on demand by the service user. The software control, maintenance, updation to new version and infrastructure, platform and resource requirements are the responsibilities of the cloud service provider. \n\nPaaS means Platform as a Service. The platform is made available to a developer of an application on demand. PaaS is a service model where the applications and services develop and execute using the platform (for computing, data store and distribution services) which is made available through the Internet on demand for the developer of the applications. The platform, network, resources, maintenance, updation and security as per the developers\u2019 requirements are the responsibilities of the cloud service provider. \n\nIaaS means Infrastructure as a Service. The infrastructure (data stores, servers, data centres and network) is made available to a user or developer of application on demand. Developer \n\nDescribe cloud computing service models in a software architectural concept, everything as a service \n\n(XAAS) \n\nLO 6.2 \n\nFour service models: \n\nSoftware, Platform, Infrastructure and Data \n\nas the Services \n\nNote: \u2605 Level 1 & Level 2 category \u2605\u2605 Level 3 & Level 4 category \u2605\u2605\u2605 Level 5 & Level 6 category \n\n\n![Image](/src/assets/generated_images/iot2_p238_i0.png)\n212 Internet of Things: Architecture and Design Principles \n\ninstalls the OS image, data store and application and controls them at the infrastructure. IaaS is a service model where the applications develop or use the infrastructure which is made available through the Internet on demand on rent (pay as per use in multi-tenancy model) by a developer or user. IaaS computing systems, network and security are the responsibilities of the cloud service provider. \n\nDaaS means Data as a Service. Data at a data centre is made available to a user or developer of application on demand. DaaS is a service model where the data store or data warehouse is made available through the Internet on demand on rent (pay as per use in multi tenancy model) to an enterprise. The data centre management, 24\u00d77 power, control, network, maintenance, scale up, data replicating and mirror nodes and systems as well as physical security are the responsibilities of the data centre service provider. \n\nExample 6.2 \n\nProblem Give examples of Saas, PaaS, IaaS, DaaS service models for cloud computing. \n\nSolution \n\n\u25cfSaaS Applications of Google Docs for online office, MS Windows Live for online office applications, MS Exchange Labs, TCS iON (Integrated IT-as-a-Service), Salesforce.com for extensible Customer Relations Management (CRM) system. \n\n\nData Centre \n\nInfrastructure as \n\na Service \n\nPlatform as a \n\nService \n\nSoftware as a Service \n\nData as a \n\nService \n\nTata Communications, GoGrid virtual servers, Amazon Virtual Servers, EC2 \n\nGoogle Docs, Office 365, MS Windows Live, MS Exchange Labs., Salesforce.com, extensible CRM \n\nDB DB \n\nGoogle App Engine, MS Azure, Xively, Nimbits, AWS IoT, IBM IoT Foundation, Cisco IoT, IOx and Fog, TCS CUP \n\nDW \n\nAmazon Web Services and Virtual Servers, GoGrid Virtual Servers, EC2 , Cloud.com Open Source IaaS, Cisco IaaS SW \n\nSW \n\nSW \n\nSW \n\nFigure 6.2 PaaS, SaaS, IaaS and DaaS Cloud Service model [DW\u2014Data Warehouses; DB\u2014Databases; EC2\u2014Elastic Computing Cloud; SW\u2014Software; MS\u2014Microsoft; CRM\u2014Customer Customer Relations Management] \n\n\n![Image](/src/assets/generated_images/iot2_p239_i0.png)\n\nData Collection, Storage and Computing Using a Cloud Platform 213 \n\n\u25cfPaaS SuiteFlex for business process development NetSuite tools, MS Azure for Windows applications programming and execution environment, server platforms of EC2 and GoGrid, application platforms of Force Com, Google App engine for scalable execution environment for web applications, and TCS platform BPO solutions, Xively, Nimbits, AWS IoT, IBM IoT Foundation, Cisco IoT, IOx and Fog, TCS CUP. \n\n\u25cfIaaS infrastructure services\u2014Amazon Virtual Servers, GoGrid virtual servers, Elastic Computing Cloud (EC2), Cloud.com open source IaaS, TCS Transformation Solutions, Cisco IaaS, and IBM BlueCloud shared infrastructure service that automate fluctuating demands for the IT resources. \n\n\u25cfDaaS Data storage platforms of Tata Communications 10 X, Apple and Cisco for the DaaS. \n\nReconfirm Your Understanding \n\n\u25cfA computing paradigm is Everything as a Service. It means each of the software, application, infrastructure, platform and computing environment is considered as a service. \n\n\u25cfService-oriented architecture binds the services through the SLAs. \n\n\u25cfFour service models for the cloud services are: Software, Platform, Infrastructure and Data as Services (SaaS, PaaS, IaaS and DaaS). \n\n\u25cfA number of organisations, such as CISCO, Oracle, IBM, Google, Amazon, Microsoft, TCS, and Tata Communications, offer the cloud PaaS. \n\nSelf-Assessment Exercise \n\n1. Recall Examples 2.3 and 5.4 for Internet of ATMs. List the applications and \n\ncorresponding cloud service models required for Internet of ATMs. 2. List the service models deployed for the applications in IBM BlueCloud. 3. Why is an SLA necessary to bind the services at the cloud? 4. How will you deploy the cloud service model for Waste Container \n\nManagement, Business Intelligence and Business Processes in Internet of waste containers? \n\n\u2605 \n\n\u2605\u2605 \n\n\u2605 \u2605\u2605\u2605 \n\n6.4 IoT CLOUD-BASED SERVICES USING THE XIVELY, NIMBITS AND OTHER PLATFORMS \n\nA user is an application or service. The user obtains responses or feeds from the application or service. An IoT cloud-based service provides for data collection, data points, messages and calculation objects. The service also provisions for the generation and communication of alerts, triggers and feeds to the user. A server can be deployed at the edges (device nodes) which communicates the feeds to the cloud service. \n\nExplain the usages of cloud platforms for IOT \n\napplications and services with the examples of Xively (Pachube/COSM) and \n\nNimbits \n\nLO 6.3 \n\n214 Internet of Things: Architecture and Design Principles \n\nA data point generates a new data each time a new sensed value (data) is recorded. A feed means a set of data points or objects or data streams or messages which generate and communicate after application of rules for filter, calculation, compaction, fusion, compression, analysis or aggregation. The feed may also be for the alerts on the programmed triggers or alarms. The feed can be data stream generating and communicating at the present time intervals. The feed is for an application or service. Feeds means required data instances at predefined intervals for an application or service using the push/subscribe or any other mode. \n\nExample 6.3 \n\nProblem A server provisions for generation and communication of data points, objects, streams, alerts, triggers and feeds applying the rules for filtering and calculations. Consider streetlights Internet Example 1.2. Assume that each streetlight device node generates the following data: (i) streetlightID, (ii) ambientLightCondition aLC (= dark or daylight), (iii) trafficDensity tD (= VehiclesPassingPerSec), (iv) functionality func (= streetlight functional or nonFunctional) which streams to the streetlights group server locally. \n\nAssume that a streetServer provides a local control and feeds the data streams to IoTStreetLightsServer (ILS) at a cloud. Three applications (services), central controller, Maintenance Service and Traffic_Lights_ Control_Service connect to the cloud for feeds of messages and alerts from an ILS hosted at the cloud. Suggest the data points, datastreams, triggers and feeds for the ILS at the cloud. \n\nSolution \n\nDataPoints or each streetlight are (i) aLC (= 1 or 0), (ii) trafficPresence (= 1 or 0), (iii) tD (iv) funct (= 1 or 0) and (v) activate. The streetServer controls locally the deactivation of the individual lights when aLC = daylight and when tD = 0 even when a trigger activate (Central controller activates the streetlight yes or no) is received from the controller. This is an energy-saving measure. The server receives in the feeds trigger activate for each streetlightID from the controller. The server feeds the controller datastreams for the (i) streetID, streetServerID and streetTrafficDensity messages and (ii) streetlightID. A functionality alert feeds when the func = 0 and that means the streetlight needs maintenance. \n\nCentral controller receives the feeds from the clouds. The controller generates the following data points, (i) streetlightID (ii) activate (Central Controller command activate the streetlight yes or no) (iv) tD (v) func . \n\nThe controller generates the feeds as follows: \n\n1. feed_ID, streetServerID, streetlightID and activate for the streetServer \n\n2. feed_ID, streetlightID and functionality Alert for Maintenance Service. 3. feed_ID, streetServerID and streetTrafficDensity datastream for Traffic_Lights_Control_Service. \n\nFollowing subsections describe the Xively, Nimbits and other cloud platforms as a service to the users. \n\nCloud service deploys a server instance at the \n\nIoT sensor network \n\nData Collection, Storage and Computing Using a Cloud Platform 215 \n\n6.4.1 IoT Cloud-based Data Collection, Storage, Computing using Xively \n\nPachube is a platform for data capture in real-time over the Internet. Cosm is a changed domain name, where using a concept of console, one can monitor the feeds. Xively is the latest domain name. Xively is an open source platform for Arduino which is an open- source prototyping platform that provides connectivity with web deploying Internet. \n\nXively is a commercial PaaS for the IoT/M2M.6 It is used as a data aggregator and data mining website often integrated into the Web of Things. Xively is an IoT PaaS for services and business services. The platform supports the REST, WebSockets and MQTT protocols and connects the devices to Xively Cloud Services. There are native SDKs for Android, Arduino, ARM mbed, Java, PHP, Ruby and Python languages. Developers can use the workflow of prototyping, deployment and management through the tools provided by Xively.3 \n\nXively PaaS services offers the following features: \n\n\u25cfIt enables services, business services platform which connects the products, including collaboration products, Rescue, Boldchat, join.me, and operations to the Internet. \n\n\u25cfData collection in real-time over the Internet. \n\n\u25cfData visualisation for data of connected sensors to IoT devices. \n\n\u25cfGraphical plots of collected data. \n\n\u25cfIt generates alerts. \n\n\u25cfAccess to historical data. \n\n\u25cfIt supports Java, Python and Ruby, and Android platform. \n\n\u25cfIt generates feeds which can be real-world objects of own or others. \n\n\u25cfIt supports the ARM mBedTM-based, Arduino-based and other hardware-platform- based IoT devices, and HTTP-based APIs which are easy to implement on device hardware acting as clients to Xively web services, and connect to the web service and send data. \n\n\u25cfIt supports REST. A user creates an account with Xively when deploying Xively APIs for the data collection and other functions. An API key from my settings is necessarily copied. \n\nXively APIs enable interface with Python, HTML5, HTML5 server, tornado, webSocket, webSocket Server and WebSockets and interface with an RPC (Remote Procedure Call). \n\nDevices get an online presence. For example, an Arduino climate logging client that can be accessed via a browser or mobile using Xively. Arduino is an open-source prototyping platform which is based on ATmega microcontroller for embedded applications and IoT/ M2M. Another platform is mBedTM. It is based on ARM Cortex-microprocessors. The mBedTM is also for embedded applications and IoT/M2M (Chapter 8). Xively is an open source platform that enables IoT devices or sensors network to connect the sensor data to the web.7,8 Xively provides services for logging, sharing and displaying sensor data of all kinds using an HTTP based API. \n\n6 https://dzone.com/articles/how-to-use-xively-platform-in-iot-project 7 http://blackstufflabs.com/2011/10/08/ arduino-pachubes-api-v2/?lang=en 8 https://developer.mbed.org/cookbook/Pachube) which is easy to implement with mbed \n\n216 Internet of Things: Architecture and Design Principles \n\nXively is based on the concept of users, feeds, data streams, data points and triggers. A feed is typically a single location (e.g. a house), and data streams are of individual sensors associated with that location (for example, ambient lights, temperatures, power consumption). \n\nPull or Push (Automatic or Manual Feed) Methods for IoT Devices Data \n\nXively provides two modes for data capture, viz. a pull method (automatic feed type) where data is collected from an http server, and a push method (manual feed type) where data is written to Xively using an http client. \n\nData Formats and Structures \n\nNumber of data formats and structures enable interaction, data collection and services with Xively. The support exists for JSON (Section 3.2.3), XML (Section 3.3.3) and CSV (a tabular, spreadsheet, excel, data numbers and text with a comma-separated values in file). \n\nPrivate and Public Data Access \n\nA free account supports up to 10 sensor feeds updated in near real time and the data is stored for up to 3 months. Interactive graphs provided by the service can be embedded onto the mobile giving the application access to data anywhere. The application can even use other user\u2019s data feeds as inputs. \n\nData streams, Data points and Triggers \n\nXively enables data streams, data points and triggers. Data stream means continuous sensed data flow over the Internet. Data points mean data values, whereas trigger means action on a state change. For example, ambient light sensing below a threshold value near a group of streetlights (Example 1.2) or data point reaching at threshold, maximum or minimum or set point. \n\nExample 6.4 shows create, read, update and delete data stream functions and usage of data points and triggers using Xively APIs V2 API.9 \n\nExample 6.4 \n\nProblem How does Xively APIs V2 create, read, update and delete data stream? How do the APIs use data points? How do the APIs use triggers? \n\nSolution \n\nFirstly the API is registered. Then a procedure is followed for data stream, data points and triggers. Data Streams \n\nXively v2 API enables the following data stream functionalities: \n\n1. Create new datastream using POST /v2/feeds/<feed_id>/ datastreams/ <datastream_id> \n\n9 http://api.pachube.com/v2/ \n\nData Collection, Storage and Computing Using a Cloud Platform 217 \n\n2. Read a datastream using GET /v2/feeds/<feed_id>/datastreams/ <datastream_id> 3. Update a datastream using PUT /v2/feeds/<feed_id>/datastreams/ <datastream_id> 4. Delete a datastream using DELETE /v2/feeds/<feed_id>/datastreams/ <datastream_id> Each function uses \n\n1. *@param stream_id Stream ID text. 2. *@param value value. 3. * @return Return code from a web server. Data Points Xively v2 API enables the following data point functionalities: \n\n1. Create new datapoints using POST /v2/feeds/<feed_id>/datastreams/ <datastream_id>/datapoints, 2. Read datapoints using GET / v2/feeds/<feed_id>/ datastreams/ <datastream_id>/ datapoints/<timestamp> 3. Update datapoints using PUT /v2/feeds/<feed_id>/datastreams/ <datastream_id>/ datapoints/<timestamp> 4. Delete datapoints using DELETE /v2/feeds/<feed_id>/datastreams/<datastream_id> Triggers Xively v2 API (http://api.pachube.com/v2/) enables the following trigger functionalities: \n\n1. Creating new triggers using POST /v2/triggers 2. Listing of all available triggers using GET /v2/triggers 3. Reading a trigger using GET /v2/triggers/<trigger_id> 4. Updating a trigger using PUT /v2/triggers/<trigger_id> 5. Deleting a user using DELETE /v2/triggers/<trigger_id> Triggers can be a text/number, for example, Triggers_Max_Min. Trigger_id can be text/number, such temperatureMax12345. \n\nCreating and Managing Feeds \n\nSensors or IoT devices network, such as a group of streetlights (Example 1.2), can feed (also called environment) data to Xively over the Internet. Individual devices can send the data streams for the sensed parameters to Xively over Internet. \n\nVisualising Data \n\nXively is a platform which captures data over the Internet in real time and provides graphing, alerts and historical data access. Xively enables visualising data of feeds and data streams. Xively allows the manual as well as automatic feeds. \n\nFollowing Example 6.5 shows the usage of Xively v2 API. \n\nExample 6.5 \n\nProblem How do the feeds create, list, read, update and delete using the Xively API V2? How do the users create, list, read, update and delete using the Xively v2 API? \n\n218 Internet of Things: Architecture and Design Principles \n\nSolution \n\nXively v2 API enables the following feed functionalities: \n\n1. Creating new feed using POST /v2/feeds. \n\n2. Listing of all available feeds using GET /v2/feeds 3. Reading feed using GET /v2/feeds/<feed_id> \n\n4. Update a feed using PUT /v2/feeds/<feed_id> 5. Delete a feed: DELETE /v2/feeds/<feed_id> Feed_id can be a text/number, for example, streetlights_group12345. Feeds can be text/number, such street_lightsFeed. \n\nXively v2 API (http://api.pachube.com/v2/) enables the following user functionalities: \n\n1. Creating new users using POST /v2/users \n\n2. Listing of all available users using GET /v2/users \n\n3. Reading user using GET /v2/users/<user_id> \n\n4. Update a user using PUT /v2/users/<user_id> 5. Delete a user using DELETE /v2/users/<user_id> \n\nUsers can be for example, Controllers_Monitors. User_id can be text or number, such controller12345. \n\n6.4.2  IoT Cloud-based Data Collection, Storage and Computing Services \n\nUsing Nimbits \n\nNimbits enables IoT on an open source distributed cloud. Nimbits cloud PaaS deploys an instance of Nimbits Server at the device nodes. Nimbits functions as an M2M system data store, data collector and logger with access to historical data. Nimbits architecture is a cloud-based Google App Engine. Nimbits server is a class hierarchy com.nimbits.server. system.ServerInfo of java.lang.Object. Nimbits PaaS services offer the following features: \n\n\u25cfEdge computing locally on embedded systems, built up of local applications. It runs the rules and pushes important data up to the cloud running when connected over Internet and an instance of Nimbits Server hosts at the device nodes which is then enabled. \n\n\u25cfIt supports multiple programming languages, including Arduino, new Arduino library, push functions from Arduino cloud, JavaScript, HTML or the Nimbits.io Java library. \n\n\u25cfNimbits server functions as a backend platform. Nimbits data point can relay data between the software systems, or hardware devices such as Arduino, using the cloud as a backend. \n\n\u25cfAn open source Java library called nimbits.io enables easy development of JAVA, web and Android solutions (Nimbits data, alerts, messages on mobile). \n\n\u25cfIt provides a rule engine for connecting sensors, persons and software to the cloud and one another. Rules can be for calculations, statistics, email alerts, xmpp messages (Section 3.3.3), push notifications and more. \n\nData Collection, Storage and Computing Using a Cloud Platform 219 \n\n\u25cfIt provides a data logging service and access, and stores the historical data points and data objects. \n\n\u25cfStorage in any format that can be serialised into a string, such as JSON or XML. \n\n\u25cfIt filters the noise and important changes sent to another larger central instance. \n\n\u25cfIt processes a specific type of data and can store it. \n\n\u25cfTime- or geo-stamping of the data. \n\n\u25cfNimbits clients provide over Internet, data collection in real time, charts, chart and graphical plots of collected data and data entry. \n\n\u25cfData visualisation for data of connected sensors to IoT devices. \n\n\u25cfSupports the alerts subscription, generation and sending in real time over the Internet. \n\n\u25cfIt creates streams of data objects and stores them in a data point series. \n\n\u25cfData accessibility and monitoring from anywhere, and is used to shape the behaviour of connected devices and software. \n\n\u25cfIt supports the mBedTM, Arduino, Raspberry Pi based and other hardware platform based IoT devices. \n\n\u25cfWeb service APIs are easy to implement on device hardware acting as clients to Nimbits web services, and connect to the web service and send data. \n\n\u25cfIt deploys software on Google App Engine, any J2EE server on Amazon EC2 or on a Raspberry Pi. Figure 6.3 shows connected devices, sensor nodes, network data points, Nimbits server, deployment at the device network nodes, and networked with the Nimbits Server (PaaS, SaaS and IaaS services) at cloud for applications and services. \n\nArchitecture shown in Figure 6.3 shows a NimbitsServerL which deploys at each device node and is an instance of the NimbitsSeverS at the cloud. Each NimbitsServerL of the device node generates the calculation objects for device nodes. \n\nEach node also hosts an XMPPServerL, an instance of the XMPPSeverC at the cloud. XMPPServerL deploys at each device node and generates the data feed channels for the XMPP messages and alerts.Each XMPPServerL sends feeds to XMPPSeverC. \n\nData Points \n\nA data point means a collected value of a sensor in a group of sensors. Data points organise the data in a number of ways. For example, points can have child points (child points mean subpoints; for example, if light level is a data point then light on or off is a child point and light level above or below the threshold can be another child point.) \n\nPoints can be in the folders. The folders can go as deep as like in a tree (Tree means a folder having several subfolders, a subfolder having several subfolders, till the leaf subfolder.) \n\nAny type of document can upload and organise them with the points. Files can be shared publicly or with the connections. \n\nA subscription data feed is a special point for each user that logs system messages, events, alerts from other points which are subscribed by a service and more. \n\n220 Internet of Things: Architecture and Design Principles \n\nData Channels \n\nA user can create a data feed channel which shows the system events and messages that also shows data alerts which are subscribed to show up in the feed. The user can subscribe to the data point of other users also, and configure the subscription(s) to send messages to the feed. The user can observe the idle, high or low alerts here in real time. The user data feed is just another Nimbits data point. \n\nIoT/M2M Local Data Collection + Storage + Nimbits Server L (an image) \n\nIoT/M2M \n\n.. \n\nDevice/ \n\nSensor Network/ \n\nNode \n\nInternet Firewall \n\nNimbits Server L \n\nand XMPP Server L \n\nDevice/ \n\nSensor Network/ \n\nNode \n\nDevice/ \n\nSensor Network/ \n\nNode \n\nFeeds \n\n1. Data Points 2. Child Data \n\nPoints 3. Calculation \n\nObjects 4. Summary \n\nPoints 5. Alerts 6. XMPP Alerts \n\nand Messages 7. Folders 8. Subfolders 9. Security \n\ntokens \n\nNimbits Clients for data collection in real time, charts, chart and graphical plots of collected data and data entry \n\nIoT/M2M Applications/Services/Processes \n\nDatabase \n\nFirewall \n\nH2 Database \n\nData Feed Channels \n\nNimbits Server S and XMPP Server S \n\nSubscriptions \n\nSecurity Tokens \n\nCollect + Storage for the Applications, Services, Enterprise and Business Processes and Intelligence \n\nTriggers, subscriptions, requests \n\nTriggers, Subscriptions, Requests \n\nRequest \n\nDatabase \n\nFirewall \n\nFigure 6.3  Connected devices, sensor nodes, network data points, Nimbits server, deployment at the \n\ndevice network nodes, and networked with the Nimbits Server (PaaS, SaaS and IaaS services) at cloud for applications and services. \n\nUsing Advanced Features \n\nAn application can create a connection to another Nimbits application or service.10 The application sends an invitation and if the invitee approves, then the application can see \n\n10 http://bsautner.github.io/com.nimbits/ \n\nData Collection, Storage and Computing Using a Cloud Platform 221 \n\ninvitee\u2019s points and data in their tree (if they set the objects permission level to public or connection viewable). \n\nNimbits 3.6.6 introduced H2 database engine. Nimbits 3.8.10 includes H2 database engine. H2 is Java SQL database. APIs are in pure Java, The main features of H2 are: \n\n\u25cfVery fast, open source, JDBC API \n\n\u25cfEmbedded and server modes; in-memory databases \n\n\u25cfEncrypted database \n\n\u25cfODBC driver \n\n\u25cfFull text search \n\n\u25cfMulti-version concurrency \n\n\u25cfBrowser-based console application \n\n\u25cfSmall footprint (around 1.5 MB jar file size) MySQL is not in pure Java and have no provisions for in-memory or encrypted databases. Footprint (DLL) is nearly 4 MB. (JAR means Java archive while DLL stands for dynamically linked library.) \n\nSecurity Tokens \n\nNimbits 3.9.6 provides security tokens in a new way. \n\nBreakthrough Performance and Data Integrity \n\nNimbits server 3.9.10 version launched in June 2015 provisions for the breakthrough performance and data integrity. \n\nAlerts \n\nA filter means applying some rule to get new data for a data point. The filter item in the tree called \u201cah\u201d is for XMPP alerts (Section 3.3.3). A user application can now have many JIDs (Jabber IDs) for a single point\u2014alerts and messages can be sent over XMPP using the custom JID of points. \n\nJabbing \n\nJabbing means pushing the alerts or messages down quickly or pushing repeatedly. Each type of alert or message is assigned a Jabber ID, called JID. Each JID consists of three main parts, viz. the node identifier (optional), domain identifier (required) and resource identifier (optional). A JID is written in notations as <JID>:= [<node>\u201d@\u201d]<domain>[\u201c/\u201d<r esource>. \n\nSubscriptions \n\nA user can create many subscriptions for a single point. It may subscribe to one of the points, other user, or anyone\u2019s public point to get the alerts. The user gets alerts when the point goes into an alarm state, or receives new data. Alarm state means reaching preset value. For example, a pressure boiler reaching critical pressure necessitating action or water reaching boiling point necessitating action. \n\n222 Internet of Things: Architecture and Design Principles \n\nSubscriptions are alternative to the configurations of alert (an alert-configuration means specifying when a point became idle, high, low using the point property menu). A subscription to a point creates on configuring the subscription\u2014how an application is programmed to get alerts (XMPP, Twitter, Email or other) and what events trigger the alert (new data, high or other alerts). Refer to a tutorial.11 \n\nExample 6.6 for Internet of ACVMs clarifies the data points, child points for the system events and messages, subscriptions, JIDs for the alerts to XMPP server and subscriptions to NimbitsServerC at the cloud. It assumes the architecture shown in Figure 6.3. \n\nExample 6.6 \n\nProblem Consider Internet of Automatic Chocolate Vending Machines (ACVMs) (Examples 5.1, 5.3 and 5.8). Assume that each ACVM device nodes generates the following data points, child points and further children up to the leaf and summary points. Suggest the data points and child points for the system events and messages, subscriptions for the alerts to XMPP server and subscriptions to NimbitsServerC at the cloud. \n\nSolution \n\nData generated on each ACVM is (i) ACVM_ID for machine Id, (ii) TimeDate (iii) ActiveStatus, (iv) to (viii) ChocFl1Sold, ChocFl2Sold, ChocFl3Sold, ChocFl4Sold, ChocFl5Sold, each time a chocolate sells among five flavours Fl1, Fl2, Fl3, Fl4 and Fl5. \n\nData Points for each ACVM are (1) ACVM_ID, (2) TimeDate (3) ChocolateUnsold and (4) ChocolateReqPending for number of chocolates requested and pending filling at the machine. Data point can possess a number of child points and a child point can have further children in a tree format. \n\nChild points are as follows: \n\n\u25cfChild points of each (1) ACVM_ID are (1.1) Region, (1.2) Address, (1.3) Installation date, (1.4) MaintenanceSchedule, (1.5) Fill Service address, and (1.6) ActiveStatus (for ACVM status = active or inactive), and (1.7) ACVM_Nodedomainadress. \n\n\u25cfChild points of (2) TimeDate are (2.1) to (2.5) HourOnDate, DayOnDate, WeekOnDate, MonthOnDate, and YearOnDate for which hour, which day (1st day, 2nd day, \u2026, or 365th day), which week (1st week, 2nd week, \u2026, or 52nd week), which month (1st month or 2nd month \u2026), and which year (1st year or 2nd \n\nyear, \u2026). \n\n\u25cfChildPoints of (3) ChocolateUnsold are (3.1) to (3.5) ChocFl1UnSold, ChocFl2UnSold, ChocFl3Sold, ChocFl4unSold, ChocFl5UnSold for unsold flavour of each chocolate flavour. \n\n\u25cfChildPoints of (4) ChocolateReqPending are (4.1) to (4.5) ChocFl1ReqPending, ChocFl2ReqPending, ChocFl3ReqPending, ChocFl4ReqPending, ChocFl5ReqPending, for each chocolate flavour requested and pending from fill service. \n\n\u25cfA child point can have further children in a tree format. ChildLeafPoints are as follows: \n\n\u25cfChildLeafPoints of (1.4) MaintenanceSchedule are (1.4.1) Last_MaintenaceDate, and (1.4.2) Next_ Preventive_Maintenance_Date for last and next preventive maintenance dates. \n\n11http://nimbits.blogspot.in/. \n\nData Collection, Storage and Computing Using a Cloud Platform 223 \n\n\u25cfChildLeafPoints of (1.6) ActiveStatus are (1.6.1 to 1.6.5) ChocolateFl1Present, ChocolateFl2Present ChocolateFl3Present, ChocolateFl4Present and ChocolateFl5Present for the number of each chocolate flavour present. \n\nAn application can have many subscriptions to a point. It may subscribe to another user\u2019s point to which the user is connected or find a point using the search engine on nimbits.com, or may subscribe to a public point from another user who is not even known. \n\nSummary point \n\nA user creates a summary point which can compute averages, minimum, maximum, standard deviations, variance and sums of another point on a specific time interval basis. \n\nCalculations \n\nA user can create calculation objects for a point. The objects can organise in a tree and a user can apply many formulas for a single data point. For example, in temperature sensor data point, one formula is for increase over the last value while the other is for increase over a normal value, each time a new temperature data point is recorded. \n\nExample 6.7 for Internet of ACVMs clarifies the summary points, data feed channels for the system events and messages, subscriptions, JIDs for the alerts to XMPP server and subscriptions to NimbitsServerC at the cloud. It assumes the architecture shown in Figure 6.3. \n\nExample 6.7 \n\nProblem Nimbits ServerL generates the calculation objects. XMPPServerL registers for the subscriptions of the resources (messages and alerts). XMPPServerC receives the data channel feeds the events and messages from the multiple instances of XMPPServerL for the ACVM nodes for the device nodes at different addresses. Each NimbitsServerL sends data channel feeds to the NimbitsServerC and XMPPServerC at the Cloud. An application connects to the NimbitsServerC at the cloud service. Nimbits Client of the application sends subscriptions for the events and messages to XMPPServerC. Refer to Example 6.6. Suggest the summary points, data feed channels for the system events and messages, subscriptions for the alerts to XMPP server and subscriptions to NimbitsServerC at the cloud. \n\nSolution \n\nSummary points are generated from the DataPoints at the ACVM device nodes itself. Summary points are as follows: (s1) ACVM_ID, (s2) HourDate, (s3.1 to s3.5) Fl1HourlySell, Fl2HourlySell, Fl3HourlySell, Fl4HourlySell, and Fl5HourlySell, summary points communicates to NimbitsServerL through data feed channel every hour. Calculation Objects are the calculated objects at the NimbitsServerL, an instance of Nimbits Server S at the cloud. CalculationObjects deploys the data channel feeds received for the summary points from the device nodes. \n\nConsider a calculation object c. Each calculation object has following resources: \n\n1. (c.1) ACVM_ID, (c.1.1) ACVM_Node_domainAddress. \n\n224 Internet of Things: Architecture and Design Principles \n\n2. (c.2) HourDate, and (c.2.1 to c.2.1.5) Fl1FillHourlyStatus, Fl1FillHourlyStatus, Fl1FillHourlyStatus, \n\nFl1FillHourlyStatus, Fl1FillHourlyStatus for the percentage of chocolates of each flavour remaining unsold at the CVM with respect to maximum fill. \n\n3. (c.3) DayDate, and (c.3.1 to c.3.5) are Fl1DaySell, Fl2DaySell, Fl3DaySell, Fl4DaySell, and Fl5DaySell \n\nfor daily sell of each ACVM. \n\n4. (c.3.6 to c.3.10) are Fl1DaySellAmounnt, Fl2DaySellAmount, Fl3DaySellAmount, Fl4DaySellAmount, \n\nand Fl5DaySellAmount for daily sell amount collected, and (c.3.11) DayTotalSellAmount. \n\n5. (c.4) WeekDate, (c.4.1 to c.4.5) WeeklyTotalFl1SellAmount\u2026.. to WeeklyTotalFl5SellAmount for the \n\namount of Sell of each ACVM flavours in one week, and (c.4.6) WeekTotalSellAmount. \n\n6. (c.5) MonthDate, (c.5.1 to c.5.5) MonthlyTotalFl1SellAmount, \u2026.. to MonthlyTotalFl5SellAmount for \n\nthe amount of Sell of each ACVM flavours in one month, and (c5.6) MonthlyTotalSellAmount. \n\n7. (c.6) YearDate, (c.6.1) to (c.6.5) YearlyTotalFl1SellAmount, \u2026\u2026to YearlyTotalFl1SellAmount for the \n\namount of Sell of each ACVM flavours in one year, and (c6.6) YearTotalSellAmount. \n\nData feed channel communicates the system events and messages, subscriptions and XMPP alerts. Subscription is for the resources at the JIDs. A JID is <JID>:= ACVM_ID@ ACVM_Node_domainAddress/ <resourceName>. \n\nNimbits clients at applications subscribe to the data feed channels for the XMPPServerS. Following alerts generates on subscriptions to XMPPServerL \n\n1. When (1.6) ActiveStatus (for ACVM status = active or inactive) = 0 due to some ACVM device node \n\nfunctioning problem. \n\n2. Hourly alerts as long as (1.6) ActiveStatus = 0 or Next_Preventive_Maintenance_Date = DayDate \n\n3. When (1.4.2) Next_Preventive_Maintenance_Date < TimeDate \n\n4. Daily alerts as long as (1.4.2) TimeDate > Next_Preventive_Maintenance_Date \n\n5. When (c.2.1 to c.2.1.5) Fl1FillHourlyStatus, Fl1FillHourlyStatus, Fl1FillHourlyStatus, Fl1FillHourlyStatus, \n\nFl1FillHourlyStatus falls below the 20% of the maximum fill space for each flavour chocolate, falls below 10% and falls below 5%. \n\n6. When any of the (3.1) to (3.5) falls below the 1% of the maximum fill space for each flavour \n\nchocolate. \n\nMessages generate and communicate on subscriptions to XMPPServerL for the required calculation object resources (c.1) to (c.6) and their data fields. XMPPServerS receives the data feed channels from each XMPPServerL for the alerts and calculation objects for each ACVM device nodes. \n\nEach Nimbits Client at application receives the data channel feeds from NimbitsServerS and XMPPServerS. \n\n6.4.3 Using Public Cloud IoT Platforms \n\nMany cloud PaaS and SaaS platforms are now available for IoT. Table 6.1 gives the examples of cloud-based platforms. \n\nData Collection, Storage and Computing Using a Cloud Platform 225 \n\nTable 6.1 Cloud PaaS and SaaS Platforms \n\nCloud Platform Features \n\nSpark Distributed, cloud-based IoT operating system and web-based IDE includes a command-line interface, support for multiple languages and libraries for working with many different IoT devices \n\nOpenIoT Open source middleware, enables communication with sensor clouds and enables cloud-based sensing as a service and developed use cases for smart agriculture, intelligent manufacturing, urban crowd sensing, smart living and smart campuses \n\nDevice Hub Open source backbone for IoT, a cloud-based service that stores IoT-related data, provides data visualisations, allows web-page-based console to control IoT devices, enables developers to create applications such as tracking of vehicular data, monitoring weather data. \n\nSection 12.2.4 describes AWS IoT, IBM IoT Foundation, Cisco IoT, IOx and Fog, TCS CUP cloud PaaS, which have many features but not open source for enterprises IoT applications and services. \n\nReconfirm Your Understanding \n\n\u25cfIoT/M2M client application communicates, subscribes and sets the triggers and receives the responses and feeds deploying a cloud service. \n\n\u25cfCloud service deploys an instance of cloud server at edge computing node at sensor nodes network provisions for generation and communication of data points, objects, tree, streams, alerts, and feeds on requests, subscriptions and triggers. \n\n\u25cfFeeds consist of time/geo-stamped data points, streams and alerts. Feed for messages and alerts generates on application of rules for filtering and calculations. \n\n\u25cfXively (Pachube/COSM) Cloud PaaS service deploys an instance of server at Arduino and other IoT sensor nodes platforms with provision for real-time data collection, data visualisation, graphical plots, HTTP based APIs and feeds. \n\n\u25cfNimbits Cloud PaaS service deploys an instance of Nimbits server at Arduino, Raspberry Pi or other IoT sensor nodes platforms that provides for real-time data collection, store at an H2 Database, edge computing, Nimbits data, alerts, messages, application programmed to get alerts (XMPP, Twitter, Email or other), data visualisation, analytics, rule engine, calculation objects, summary points, alerts and feeds on subscriptions, triggers and request. \n\n\u25cfSpark, OpenIoT, DeviceHub and Intel IoT Cloud Analytics Kit are also cloud platforms which can be deployed for data collection, store, organising and analytics by clients/applications. \n\n226 Internet of Things: Architecture and Design Principles \n\nKey Concepts \n\nSelf-Assessment Exercise \n\n1. What are the methods in architecture shown in Figure 6.1 that are used for \n\nthe data collection, storage and computing in cloud computing architecture in Figure 6.3? 2. When are the push, pull and subscription methods used in cloud computing \n\narchitecture in which instances of server deploys at the device nodes or networks? 3. List the merits of deploying instances of server at the IoT device nodes or \n\nnetworks during cloud computing. 4. What are the methods for generating data points from the data generated at \n\nthe device nodes? List the latest features in Xively (Pachube/COSM) cloud platform. 5. List the latest features in Nimbits cloud platform. 6. List the merits in usages of feeds for messages and alerts from the cloud server \n\ninstances to a cloud server. 7. List the merits of an H2 database over MySQL. Recall Q5.3.8. 8. List the datapoints, summary points, alerts, data channels, subscriptions for \n\nalerts and messages required in Internet of Waste Containers Management. \n\n\u2605 \n\n\u2605 \n\n\u2605\u2605 \n\n\u2605\u2605 \n\n\u2605\u2605 \u2605\u2605\u2605 \n\n\u2605 \u2605\u2605\u2605 \n\n\u25cfAmazon EC2 \n\n\u25cfCalculation object \n\n\u25cfChild point \n\n\u25cfCloud common features \n\n\u25cfCloud computing \n\n\u25cfCloud essential features \n\n\u25cfDaaS \n\n\u25cfData feed channel \n\n\u25cfData point \n\n\u25cfDevice Hub \n\n\u25cfDistributed computing \n\n\u25cfEdge computing \n\n\u25cfElasticity \n\n\u25cfEverything as a service (XAAS) \n\n\u25cfFeed \n\n\u25cfGrid computing \n\n\u25cfIaaS \n\n\u25cfMicrosoft Azure \n\n\u25cfNetwork virtualisation function \n\n\u25cfNimbits Cloud \n\n\u25cfPaaS \n\n\u25cfSaaS \n\n\u25cfServer instance \n\n\u25cfSubscription \n\n\u25cfSummary points \n\n\u25cfTCS iON \n\n\u25cfTrigger \n\n\u25cfUtility computing \n\n\u25cfVirtualisation \n\n\u25cfXively (Pachube/COSM) \n\n\u25cfXMPP Server \n\nLearning Outcomes \n\nLO 6.1 \n\n\u25cfConventional data collection and storage methods are (i) save at a devices web server, (ii) communicate and save the files locally, (iii) communicate and save data or results of \n\nData Collection, Storage and Computing Using a Cloud Platform 227 \n\ncomputations at a dedicated data store or coordinating node locally, (iv) communicate and save data at a local node of a distributed DBMS, (v) communicate and save at a remote node in a distributed DBMS, (vi) communicate on the Internet and save at an enterprise server, and (vii) communicate on the Internet and save at data centre for an enterprise. \n\n\u25cfCloud presents a virtualised environment for network, data store and computing. \n\n\u25cfUsage of cloud is a method for data storage and computing with features of on demand self- service, resources pooling, network broad accessibility, elasticity and measurability. \n\n\u25cfThe cloud has massive scale, scalability, maintainability, homogeneity, virtualisation, interconnectivity platform and resilient computing features. \n\n\u25cfCloud deployment models are public cloud, private cloud, community cloud and community cloud. \n\nLO 6.2 \n\n\u25cfCloud computing model is everything as a service model. \n\n\u25cfFour models are SaaS, PaaS, IaaS and DaaS. \n\n\u25cfExample of cloud infrastructure services are Amazon Virtual Servers, GoGrid virtual servers, Elastic Computing Cloud (EC2), Cloud.com open source IaaS, TCS Transformation Solutions, Cisco IaaS, and IBM Bluemix Cloud shared infrastructure service that automate fluctuating demands for the IT resources. \n\nLO 6.3 \n\n\u25cfIoT cloud-based services using the Xively, Nimbits, other platforms, such as TCS Connected Universe deploy a cloud server instance (device agent) at the device node network. \n\n\u25cfThe server then collects the data, generates the data points and data point trees, calculation of objects using filtering and applying rules. \n\n\u25cfThe server communicates feeds on requests, triggers and subscriptions. \n\nExercises \n\nObjective Questions \n\nSelect one correct option out of the four in each question. \n\n1. Cloud computing means a collection of (i) services available over the Internet that \n\ndeliver computational functionality, (ii) infrastructure service of a service provider, (iii) infrastructure deployments for a utility or grid computing or web services environment, (iv) services for distributed computing, (v) grid of computers, (vi) servers, (vi) data centres, and (vii) application, application-support, security, transport, network, adaptation and data-link layer protocols. (a) All (a)  (i) to (iii) (b)  All except (vii) \n\n(c)  (iii) to (vi) \n\n\u2605\u2605 \n\n228 Internet of Things: Architecture and Design Principles \n\n2. User application, service or process access to resources appearing as just one network, \n\nthough in fact the network access to the resources may be through multiple resources and networks, is called (i) cloud network, (ii) network function virtualisation, (iii) application virtualisation or (iv) Internet access. (a) (i) (b) (i) and (iv) \n\n(c)  (i) (d) (ii) 3. IoT cloud platform provides (i) infrastructure for large data storage of devices, \n\nRFIDs, industrial plant machines, automobiles and device networks, (ii) computing capabilities, such as analytics, IDE and data visualisation, (iii) provides collaborative computing and data store sharing, (iv) databases, (v) in-memory databases for on- line analytics, (vi) devices data collection and connectivity to services, applications, (vii) data calculation objects, and (viii) data feed channels. (a) All except (ii), (vii) and (viii) (b) All except (iii) and (v) \n\n(c) All except (ii), (iii) and (viii) (d)  All except (v) 4. Essential features of cloud services for data collection, store and computing are (i) \n\non demand self-service, (ii) resources pooling, (iii) measurability, (iv) massive scale, (v) no maintenance costs to the user, (vi) homogeneity, and (vii) advanced security for storage, applications, computing infrastructure, services, data centres and servers at remotely connected cloud services independently at low cost. (a) All except (i) (b) All except (ii) and (v) \n\n(c) (i), (ii) and (iii) (d) (ii) to (v) and (vii) 5. Nimbits 3.8.10 H2 database has the following features (i) Java SQL database, (ii) very \n\nfast, open source, JDBC API, (iii) embedded and server modes; in-memory databases, (iv) encrypted database, (v) ODBC driver, (vi) full text search, (vii) multi-version concurrency, (viii) desktop-based console application, and (ix) footprint around 10 MB jar file size. (a) All except (viii) and (ix) (b) All except (v) to (viii) \n\n(c) (i) to (iv) ) (d) (i), (ii), (iv) and (vii) 6. (i) Jabbing means pushing the alerts or messages down quickly or pushing \n\nrepeatedly, (ii) JID is assigned for a group of alerts or messages from a set of domains, (iii) subscription means requesting pushing of a resource, (iv) a feed means a set of data points or objects or data streams or messages which generate and communicate after application of rules for filter, calculation, compaction, fusion, compression, analysis or aggregation, and (v) the feed may also be for the alerts on the programmed triggers or alarms. (a) All except (i) (b) All except (ii) \n\n(c) (i), (ii) and (iii) (d) (i), (ii) and (iv) \n\n\u2605 \n\n\u2605\u2605 \n\n\u2605\u2605\u2605 \n\n\u2605 \n\n\u2605\u2605 \n\nData Collection, Storage and Computing Using a Cloud Platform 229 \n\n7. DeviceHub is (i) an open source backbone for IoT, (ii) a hybrid cloud-based service \n\nthat stores IoT-related data, (iii) provides data visualisations, (iv) allows web-page- based console to control IoT devices, (v) provides descriptive and predictive analytics, and (vi) enables developers to create applications such as tracking of vehicular data, monitoring weather data. (a)  (iii) to (vi) (b) All except (ii) and (v) \n\n(c) All except (v) (d) All 8. Examples of clouds are (i) Nimbits, (ii) DeviceHub, (iii) Amazon Virtual Servers, \n\n(iv) GoGrid virtual servers, (v) Elastic Computing Cloud (EC2), (vi) Cloud.com open source IaaS, (vii) TCS Transformation Solutions, (viii) Cisco IaaS, and (ix) IBM Bluemix Cloud shared infrastructure service that automate fluctuating demands for the IT resources. (a) All (b) All except (ix) \n\n(c) (i) to (v) (d) All except Nimbits and DeviceHub 9. A data feed channel communicates the system (i) events, (ii) messages, \n\n(iii) subscriptions and (iv) XMPP Alerts. (a) (i) to (iii) (b) (i) and (ii) \n\n(c) All (d) (iv) \n\nShort-Answer Questions \n\n1. List the service models of cloud computing. [LO 6.1] 2. Why is virtualisation required in cloud computing? [LO 6.1] 3. How does cloud computing differ from grid computing? [LO 6.1] 4. List the usages in IoT deploying \u2018everything as a service\u2019 model of cloud services. \n\n[LO 6.2] 5. List the merits of using the cloud in IoT applications. [LO 6.2] 6. Draw the architecture deploying the edge and cloud computing for Internet of \n\nAutomobile Components. [LO 6.3] 7. Show the architecture deploying edge and cloud computing in Example 6.6 for IoT of \n\nACVMs. [LO 6.3] 8. How is cloud used as a database in IoT applications? [LO 6.3] 9. What are the commonalities and contrast between Nimbits and Xively clouds for IoT \n\napplications? [LO 6.3] 10. What are the merits of usage of a data point tree for the device nodes or networks in \n\nplace of individual data points? [LO 6.3] 11. XMPP server enables device nodes or network messages and alerts as a common \n\nresource for the applications. [LO 6.3] 12. How is a calculation object created from data point trees? [LO 6.3] \n\n\u2605\u2605\u2605 \n\n\u2605 \n\n\u2605 \n\n\u2605 \u2605\u2605 \u2605\u2605\u2605 \n\n\u2605 \n\n\u2605\u2605 \u2605\u2605\u2605 \n\n\u2605\u2605 \n\n\u2605\u2605 \n\n\u2605 \n\n\u2605\u2605 \n\n\u2605\u2605\u2605 \n\n\u2605\u2605\u2605 \n\n230 Internet of Things: Architecture and Design Principles \n\nReview Questions \n\n1. Describe the virtualisation concept in usage of cloud services. [LO 6.1] 2. What are merits and concerns when using cloud services for IoT applications? \n\n[LO 6.2] 3. What are deployment models for cloud services for IoT applications? \n\n[LO 6.2] 4. Explain SaaS, PaaS, IaaS and DaaS service models of clouds. [LO 6.2] 5. Describe usage of each cloud\u2014the Spark, OpenIoT, DeviceHub, Intel IoT Cloud \n\nAnalytics kit, Xively and Nimbits. [LO 6.3] 6. What are the functionalities in Nimbits for IoT applications? [LO 6.3] \n\nPractice Exercises \n\n1. Give one example each for understanding the terms, \u2018on-demand self-service\u2019, \n\n\u2018resources pooling\u2019, \u2018network broad accessibility\u2019, \u2018elasticity\u2019 and \u2018measurability\u2019. \n\n[LO 6.1] 2. List the services offered at Amazon EC2 and TCS clouds. [LO 6.2] 3. What are the cloud service models other than the four main service models, viz. SaaS, \n\nPaaS, IaaS and DaaS? [LO 6.2] 4. List the main cloud services from Oracle, Google, Amazon, Microsoft, Tata \n\nCommunications, GoGrid and NetSuite. [LO 6.2] 5. Recall Example 5.2. Show the architecture for usage of cloud at Internet of Automobile \n\nComponents in automobile service centre applications diagrammatically. [LO 6.3] 6. Show the architecture for usage of cloud. applications at Internet of ACVMs \n\ndiagrammatically. [LO 6.3] 7. Recall Examples 1.2 and 6.3 for Internet of Streetlights. Show the architectures when \n\nusing the cloud services and when using the gateways at each street with a group of streetlights and web server. List the communicating of data from each device node, data points and feeds for an IoT device network in each street for controlling and monitoring. [LO 6.3] 8. Recall Example 5.2 for Internet of Automobile Components communicating the data, \n\ndata points, summary points and data feed channels for building automobile service centre H2 database. List the data points, child points, calculation objects, summary points, data feed channels for the system events and messages, subscriptions for the alerts to XMPP server and subscriptions for building the H2 database atNimbitsServerC at the cloud. [LO 6.3] 9. Recall Example 5.3 RDBAVCM Tables A, B and C and Example 6.6. List the data \n\npoints, child points, calculation objects, summary points, data feed channels for the system events and messages, subscriptions for the alerts to XMPP server and subscriptions to NimbitsServerC at the cloud corresponding to the tables. [LO 6.3] \n\n\u2605\u2605 \n\n\u2605 \n\n\u2605\u2605 \n\n\u2605 \u2605\u2605\u2605 \n\n\u2605\u2605\u2605 \n\n\u2605\u2605 \n\n\u2605 \u2605 \n\n\u2605\u2605\u2605 \n\n\u2605\u2605 \n\n\u2605\u2605 \n\n\u2605 \n\n\u2605\u2605\u2605 \n\n\u2605\u2605\u2605 \n\n",
  "createdAt": "2026-02-17"
}